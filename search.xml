<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>springsecurityçš„å­¦ä¹ </title>
      <link href="/2023/11/12/springsecurity%E7%9A%84%E5%AD%A6%E4%B9%A0/"/>
      <url>/2023/11/12/springsecurity%E7%9A%84%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h1><h2 id="å¼•å…¥ä¾èµ–"><a href="#å¼•å…¥ä¾èµ–" class="headerlink" title="å¼•å…¥ä¾èµ–"></a>å¼•å…¥ä¾èµ–</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><ul><li>é¦–å…ˆéšä¾¿å†™ä¸€ä¸ªcontroller</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.learn.springsecurity.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>ç„¶åå¯åŠ¨æœåŠ¡ï¼Œ å‘ç°ä½ è¦è®¿é—®è¿™ä¸ªåœ°æ–¹ä¼šè¢«æ‹¦æˆª</li></ul><h1 id="è®¤è¯"><a href="#è®¤è¯" class="headerlink" title="è®¤è¯"></a>è®¤è¯</h1><blockquote><p>è®¤è¯çš„åŸºæœ¬æµç¨‹</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311122045074.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="ä¸‰ä¸ªé‡è¦çš„è¿‡æ»¤å™¨"><a href="#ä¸‰ä¸ªé‡è¦çš„è¿‡æ»¤å™¨" class="headerlink" title="ä¸‰ä¸ªé‡è¦çš„è¿‡æ»¤å™¨"></a>ä¸‰ä¸ªé‡è¦çš„è¿‡æ»¤å™¨</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311122046621.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><ul><li><p>UsernamePasswordAuthenticationFilter:è´Ÿè´£å¤„ç†æˆ‘ä»¬åœ¨ç™»é™†é¡µé¢å¡«å†™äº†ç”¨æˆ·åå¯†ç åçš„ç™»é™†è¯·æ±‚ã€‚å…¥é—¨æ¡ˆä¾‹çš„è®¤è¯å·¥ä½œä¸»è¦æœ‰å®ƒè´Ÿè´£ã€‚</p></li><li><p>ExceptionTranslationFilterï¼š å¤„ç†è¿‡æ»¤å™¨é“¾ä¸­æŠ›å‡ºçš„ä»»ä½•AccessDeniedExceptionå’ŒAuthenticationException ã€‚</p></li><li><p>FilterSecurityInterceptorï¼š è´Ÿè´£æƒé™æ ¡éªŒçš„è¿‡æ»¤å™¨ã€‚</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> springsecurity </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>knife4jçš„é…ç½®</title>
      <link href="/2023/11/12/knife4j%E7%9A%84%E9%85%8D%E7%BD%AE/"/>
      <url>/2023/11/12/knife4j%E7%9A%84%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="knife4j-é…ç½®"><a href="#knife4j-é…ç½®" class="headerlink" title="knife4j é…ç½®"></a>knife4j é…ç½®</h1><h2 id="ä¾èµ–å¯¼å…¥"><a href="#ä¾èµ–å¯¼å…¥" class="headerlink" title="ä¾èµ–å¯¼å…¥"></a>ä¾èµ–å¯¼å…¥</h2><ul><li>springboot2</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.xiaoymin<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>knife4j-openapi2-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>springboot3</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.xiaoymin<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>knife4j-openapi3-jakarta-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><ul><li>springboot2</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">knife4j:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">openapi:</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">é»‘é©¬å•†åŸæ¥å£æ–‡æ¡£</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">&quot;é»‘é©¬å•†åŸæ¥å£æ–‡æ¡£&quot;</span></span><br><span class="line">    <span class="attr">email:</span> <span class="string">zhanghuyi@itcast.cn</span></span><br><span class="line">    <span class="attr">concat:</span> <span class="string">è™å“¥</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">https://www.itcast.cn</span></span><br><span class="line">    <span class="attr">version:</span> <span class="string">v1.0.0</span></span><br><span class="line">    <span class="attr">group:</span></span><br><span class="line">      <span class="attr">default:</span></span><br><span class="line">        <span class="attr">group-name:</span> <span class="string">default</span></span><br><span class="line">        <span class="attr">api-rule:</span> <span class="string">package</span></span><br><span class="line">        <span class="attr">api-rule-resources:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="string">com.genshin.ojuser.controller</span></span><br></pre></td></tr></table></figure><ul><li>springboot3</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">springdoc:</span></span><br><span class="line">  <span class="attr">swagger-ui:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/swagger-ui.html</span></span><br><span class="line">    <span class="attr">tags-sorter:</span> <span class="string">alpha</span></span><br><span class="line">    <span class="attr">operations-sorter:</span> <span class="string">alpha</span></span><br><span class="line">  <span class="attr">api-docs:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/v3/api-docs</span></span><br><span class="line">  <span class="attr">group-configs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">group:</span> <span class="string">&#x27;default&#x27;</span></span><br><span class="line">      <span class="attr">paths-to-match:</span> <span class="string">&#x27;/**&#x27;</span></span><br><span class="line">      <span class="attr">packages-to-scan:</span> <span class="string">com.homework.genshinchat</span></span><br><span class="line"><span class="comment"># knife4jçš„å¢å¼ºé…ç½®ï¼Œä¸éœ€è¦å¢å¼ºå¯ä»¥ä¸é…</span></span><br><span class="line"><span class="attr">knife4j:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">setting:</span></span><br><span class="line">    <span class="attr">language:</span> <span class="string">zh_cn</span></span><br></pre></td></tr></table></figure><h2 id="è¯­æ³•è§„åˆ™"><a href="#è¯­æ³•è§„åˆ™" class="headerlink" title="è¯­æ³•è§„åˆ™"></a>è¯­æ³•è§„åˆ™</h2><blockquote><p>è¿™ä¸ªå¯ä»¥åˆ°ç½‘ä¸Šæ‰¾ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> swagger </tag>
            
            <tag> knife4j </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çˆ¶å­å·¥ç¨‹çš„mavenæ‰“åŒ…æ³¨æ„äº‹é¡¹</title>
      <link href="/2023/11/12/%E7%88%B6%E5%AD%90%E5%B7%A5%E7%A8%8B%E7%9A%84maven%E6%89%93%E5%8C%85%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/"/>
      <url>/2023/11/12/%E7%88%B6%E5%AD%90%E5%B7%A5%E7%A8%8B%E7%9A%84maven%E6%89%93%E5%8C%85%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/</url>
      
        <content type="html"><![CDATA[<blockquote><p>è¿™æ˜¯æˆ‘è¾¹å­¦è¾¹å†™çš„mavenç¬”è®°ï¼Œ æ‰€ä»¥å¯èƒ½ä¼šå­˜åœ¨é—®é¢˜</p></blockquote><h1 id="çˆ¶å·¥ç¨‹çš„pomå®šä¹‰"><a href="#çˆ¶å·¥ç¨‹çš„pomå®šä¹‰" class="headerlink" title="çˆ¶å·¥ç¨‹çš„pomå®šä¹‰"></a>çˆ¶å·¥ç¨‹çš„pomå®šä¹‰</h1><h2 id="properties-æ ‡ç­¾"><a href="#properties-æ ‡ç­¾" class="headerlink" title="properties æ ‡ç­¾"></a>properties æ ‡ç­¾</h2><blockquote><p> è¿™ä¸ªæ ‡ç­¾æ˜¯ç”¨æ¥ç»Ÿä¸€ç®¡ç† jaråŒ…çš„ç‰ˆæœ¬ï¼Œ ä½¿ç”¨è¿™ç§æ–¹å¼ç›¸å½“äºç»™ç‰ˆæœ¬å·å£°æ˜äº†ä¸€ä¸ªå˜é‡</p></blockquote><p>å…·ä½“ä¸º</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è¿™é‡Œçš„xxxä»£è¡¨ä½ ç»™ç‰ˆæœ¬å–å¾—åå­— --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">xxxx</span>&gt;</span> 8.0.23 <span class="tag">&lt;/<span class="name">xxxx</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å®æˆ˜ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>11<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">org.projectlombok.version</span>&gt;</span>1.18.20<span class="tag">&lt;/<span class="name">org.projectlombok.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">spring-cloud.version</span>&gt;</span>2021.0.3<span class="tag">&lt;/<span class="name">spring-cloud.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">spring-cloud-alibaba.version</span>&gt;</span>2021.0.4.0<span class="tag">&lt;/<span class="name">spring-cloud-alibaba.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">spring-cloud-alibaba.version</span>&gt;</span>2021.0.4.0<span class="tag">&lt;/<span class="name">spring-cloud-alibaba.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mybatis-plus.version</span>&gt;</span>3.4.3<span class="tag">&lt;/<span class="name">mybatis-plus.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hutool.version</span>&gt;</span>5.8.11<span class="tag">&lt;/<span class="name">hutool.version</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ä½¿ç”¨8.0.x ä¾æ—§å¯ä»¥ç”¨5.7çš„æ•°æ®åº“è®¿é—®--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mysql.version</span>&gt;</span>8.0.23<span class="tag">&lt;/<span class="name">mysql.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>ç„¶åå†ä¸‹é¢çš„ä¾èµ–åŒ…ï¼Œ å°±å¯ä»¥é€šè¿‡</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span><span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span><span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è¿™é‡Œçš„xxxxä»£è¡¨çš„å°±æ˜¯ä¸Šé¢çš„ç‰ˆæœ¬ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;xxxx&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å®æˆ˜ --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring-cloud.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="modules-æ ‡ç­¾"><a href="#modules-æ ‡ç­¾" class="headerlink" title="modules æ ‡ç­¾"></a>modules æ ‡ç­¾</h2><blockquote><p>ä»£è¡¨éœ€è¦è¢«æ”¾å…¥çš„å­æ ‡ç­¾</p></blockquote><p>è¿™é‡Œ <strong>oj-user</strong> ä»£è¡¨çš„æ˜¯ArtifactId</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>oj-user<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="packing-æ ‡ç­¾"><a href="#packing-æ ‡ç­¾" class="headerlink" title="packing æ ‡ç­¾"></a>packing æ ‡ç­¾</h2><blockquote><p>åœ¨çˆ¶çº§é¡¹ç›®ä¸­çš„pom.xmlæ–‡ä»¶ä½¿ç”¨çš„packagingé…ç½®ä¸€å®šä¸ºpom</p><p>å¦‚æœæ²¡æœ‰ç‰¹åˆ«æŒ‡å®šè¿™ä¸ªæ ‡ç­¾çš„è¯ï¼Œ é‚£ä¹ˆé»˜è®¤å°±æ˜¯jar åŒ…ï¼Œ æ‰€ä»¥è¿™ä¸ªæ ‡ç­¾ä¸€å®šè¦å†™ä¸Šå»</p><p>å½“ç„¶è¿˜æœ‰war ä¹‹ç±»ï¼Œ ä½†æ˜¯æˆ‘è¿™é‡Œå°±è®¨è®ºä¸Šé¢ä¸¤ç§å°±å¥½äº†</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="dependencyManagement-æ ‡ç­¾"><a href="#dependencyManagement-æ ‡ç­¾" class="headerlink" title="dependencyManagement æ ‡ç­¾"></a>dependencyManagement æ ‡ç­¾</h2><blockquote><p>ä½¿ç”¨dependencyManagementå¯ä»¥ç»Ÿä¸€ç®¡ç†é¡¹ç›®çš„ç‰ˆæœ¬å·ï¼Œç¡®ä¿åº”ç”¨çš„å„ä¸ªé¡¹ç›®çš„ä¾èµ–å’Œç‰ˆæœ¬ä¸€è‡´, è¿™æ ·å­æ¨¡å—å’Œçˆ¶æ¨¡å—å°±å¯ä»¥ç”¨åˆ°ç›¸åŒçš„ç‰ˆæœ¬äº†</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å…·ä½“æ ·å¼å¦‚ä¸‹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="å­å·¥ç¨‹çš„pomå®šä¹‰"><a href="#å­å·¥ç¨‹çš„pomå®šä¹‰" class="headerlink" title="å­å·¥ç¨‹çš„pomå®šä¹‰"></a>å­å·¥ç¨‹çš„pomå®šä¹‰</h1><h2 id="parent-æ ‡ç­¾"><a href="#parent-æ ‡ç­¾" class="headerlink" title="parent æ ‡ç­¾"></a>parent æ ‡ç­¾</h2><blockquote><p>å†é¡¹ç›®åˆ›å»ºä¹‹å‰ï¼Œ é»˜è®¤çš„parentæ ‡ç­¾æ˜¯springbootçš„ï¼Œ ä½†æ˜¯æˆ‘ä»¬æ˜¯çˆ¶å­å·¥ç¨‹éœ€è¦äº¤æ¢</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--è¿™æ˜¯åŸæœ¬çš„--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--ç›´æ¥æŠŠä¸Šé¢çš„åˆ æ‰ï¼Œéœ€è¦å°†parentä¿®æ”¹ä¸ºçˆ¶æ¨¡å—--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è¿™é‡Œçš„groupIdå’ŒartifactIdï¼Œversion æ¢æˆçˆ¶æ¨¡å—çš„å°±å¥½äº† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jaråŒ… </tag>
            
            <tag> maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Swaggerå­¦ä¹ è®°å½•</title>
      <link href="/2023/11/11/Swagger%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
      <url>/2023/11/11/Swagger%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡éƒ¨åˆ†å†…å®¹æ˜¯ä»è¿™é‡Œè·å¾—</p><p><a href="https://blog.csdn.net/qq_43521797/article/details/115835771">Swagger3.0ä»‹ç»åŠspringbootæ•´åˆSwagger3.0_swagger 3.0-CSDNåšå®¢</a></p></blockquote><h1 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h1><h2 id="Springboot3-å˜åŒ–"><a href="#Springboot3-å˜åŒ–" class="headerlink" title="Springboot3 å˜åŒ–"></a>Springboot3 å˜åŒ–</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311111635850.png" alt="img"></p><h1 id="æŸ¥çœ‹apiçš„åœ°å€"><a href="#æŸ¥çœ‹apiçš„åœ°å€" class="headerlink" title="æŸ¥çœ‹apiçš„åœ°å€"></a>æŸ¥çœ‹apiçš„åœ°å€</h1><ul><li>springboot3</li></ul><p><code>http://localhost:8080/swagger-ui/index.html</code></p><ul><li>springboot2</li></ul><p><code>http://localhost:8080/swagger-ui.html</code></p><h1 id="ä¾èµ–å¯¼å…¥"><a href="#ä¾èµ–å¯¼å…¥" class="headerlink" title="ä¾èµ–å¯¼å…¥"></a>ä¾èµ–å¯¼å…¥</h1><blockquote><p>è¿™ä¸ªéœ€è¦æ ¹æ®æ ¹æ®ä½ çš„springboot ç‰ˆæœ¬æ¥å†³å®šç‰ˆæœ¬çš„ </p></blockquote><ul><li>å¦‚æœä½ æ˜¯ springboot3</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springdoc<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springdoc-openapi-starter-webmvc-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>å¦‚æœä½ æ˜¯springboot2</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--swagger--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--swagger ui--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="application-yaml"><a href="#application-yaml" class="headerlink" title="application.yaml"></a>application.yaml</h1><p>åªæœ‰springboot3 éœ€è¦è¿™ä¸€æ­¥</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">springdoc:</span></span><br><span class="line">  <span class="attr">swagger-ui:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/swagger-ui.html</span></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">com.hexadecimal:</span> <span class="string">debug</span></span><br></pre></td></tr></table></figure><h1 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h1><ul><li>springboot2</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger2</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SwaggerConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Bean</span></span><br><span class="line">        <span class="keyword">public</span> Docket <span class="title function_">docket</span><span class="params">(Environment environment)</span> &#123;</span><br><span class="line">            <span class="type">Profiles</span> <span class="variable">profiles</span> <span class="operator">=</span> Profiles.of(<span class="string">&quot;pro&quot;</span>);</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> environment.acceptsProfiles(profiles);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2)</span><br><span class="line">                    .apiInfo(apiInfo())</span><br><span class="line">                    .enable(!flag)</span><br><span class="line">                    .select()</span><br><span class="line">                <span class="comment">//è¿™é‡Œéœ€è¦ä¿®æ”¹åç§° </span></span><br><span class="line">                    .apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;com.history.controller&quot;</span>))</span><br><span class="line">                    .paths(PathSelectors.any())</span><br><span class="line">                    .build();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> ApiInfo <span class="title function_">apiInfo</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">              <span class="comment">//è¿™é‡Œæ—¶ä½ çš„æ ‡é¢˜</span></span><br><span class="line">                    .title(<span class="string">&quot;é˜ä¸­æ±—é’å°ç¨‹åº&quot;</span>)</span><br><span class="line">                    .description(<span class="string">&quot;æ¥å£è¯´æ˜&quot;</span>)</span><br><span class="line">                    .version(<span class="string">&quot;1.0.0&quot;</span>)</span><br><span class="line">                    <span class="comment">// ä½œè€…ä¿¡æ¯</span></span><br><span class="line">                    .contact(<span class="keyword">new</span> <span class="title class_">Contact</span>(<span class="string">&quot;å®‡ç¥&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>))</span><br><span class="line">                    .build();</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>springboot3</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.models.ExternalDocumentation;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.models.OpenAPI;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.models.info.Info;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.models.info.License;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SwaggerConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> OpenAPI <span class="title function_">springShopOpenAPI</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">OpenAPI</span>()</span><br><span class="line">                .info(<span class="keyword">new</span> <span class="title class_">Info</span>().title(<span class="string">&quot;æ ‡é¢˜&quot;</span>)</span><br><span class="line">                        .description(<span class="string">&quot;æˆ‘çš„APIæ–‡æ¡£&quot;</span>)</span><br><span class="line">                        .version(<span class="string">&quot;v1&quot;</span>)</span><br><span class="line">                        .license(<span class="keyword">new</span> <span class="title class_">License</span>().name(<span class="string">&quot;Apache 2.0&quot;</span>).url(<span class="string">&quot;http://springdoc.org&quot;</span>)))</span><br><span class="line">                .externalDocs(<span class="keyword">new</span> <span class="title class_">ExternalDocumentation</span>()</span><br><span class="line">                        .description(<span class="string">&quot;å¤–éƒ¨æ–‡æ¡£&quot;</span>)</span><br><span class="line">                        .url(<span class="string">&quot;https://springshop.wiki.github.org/docs&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å‰©ä¸‹è¿™äº›å¯ä»¥è‡ªè¡Œå»ç½‘ä¸Šæœç´¢ï¼Œ ä¸åŒç‰ˆæœ¬çš„è¯­æ³•ä¸åŒ</p></blockquote><h1 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h1><blockquote><p>è¿™é‡Œçš„æ§åˆ¶ç±» @Api ï¼Œtags ä¸ºç±»å‹</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Api(tags = &quot;æ–‡ç« æ¨¡å—&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArticleController</span>&#123;&#125;</span><br></pre></td></tr></table></figure><h1 id="Entity"><a href="#Entity" class="headerlink" title="Entity"></a>Entity</h1><blockquote><p>è¿™ç±»ä¼¼ä¹ä¸ç”¨å†™</p></blockquote><h1 id="Dto"><a href="#Dto" class="headerlink" title="Dto"></a>Dto</h1><blockquote><p>æ¨¡å—ç±»</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ApiModel(description = &quot;å‰ç«¯ä¼ è¿‡æ¥çš„åˆ›ä½œå®ä½“ç±»&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LiteraryDto</span> &#123;&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> swagger </tag>
            
            <tag> å­¦ä¹ è®°å½• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ideaæ‰“jaråŒ…å¤±è´¥</title>
      <link href="/2023/11/11/idea%E6%89%93jar%E5%8C%85%E5%A4%B1%E8%B4%A5/"/>
      <url>/2023/11/11/idea%E6%89%93jar%E5%8C%85%E5%A4%B1%E8%B4%A5/</url>
      
        <content type="html"><![CDATA[<h1 id="é—®é¢˜æ±‡æ€»"><a href="#é—®é¢˜æ±‡æ€»" class="headerlink" title="é—®é¢˜æ±‡æ€»"></a>é—®é¢˜æ±‡æ€»</h1><h2 id="METAâ€”INF-ä»¥åŠ-æ‰¾ä¸åˆ°ä¸»ç±»"><a href="#METAâ€”INF-ä»¥åŠ-æ‰¾ä¸åˆ°ä¸»ç±»" class="headerlink" title="METAâ€”INF ä»¥åŠ æ‰¾ä¸åˆ°ä¸»ç±»"></a>METAâ€”INF ä»¥åŠ æ‰¾ä¸åˆ°ä¸»ç±»</h2><h3 id="é—®é¢˜å¼•å…¥"><a href="#é—®é¢˜å¼•å…¥" class="headerlink" title="é—®é¢˜å¼•å…¥"></a>é—®é¢˜å¼•å…¥</h3><blockquote><p>å¦‚æœä½ æ‰“å¼€META-INF å‘ç°ä½ ä¸»ç±»å°±æ˜¯å¯¹çš„ï¼Œæˆ–è€…ä½ å‘ç°çš„ä½ çš„ jaråŒ…æ‰“å‡ºå¼‚å¸¸çš„å°</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311110012758.png" alt="image-20231111001245714"></p><p>è¯´å®è¯æˆ‘ä¸€ä¸ªspringboot é¡¹ç›®å„ç§ä¾èµ–åŠ èµ·æ¥ç»å¯¹ä¸æ­¢é‚£ä¹ˆå°</p><p>ä½ å¯ä»¥æ–°å»ºç«‹ä¸€ä¸ªspringboot é¡¹ç›®ï¼ˆæ²¡é”™æ–°å»ºç«‹ä¸€ä¸ªï¼‰ ï¼Œç„¶åæ‰“jar ï¼Œå¦‚æœå‡ºç°äº†ä¸Šé¢çš„é—®é¢˜ ã€‚ å¯ä»¥ç»§ç»­å¾€ä¸‹çœ‹äº†</p><p>é‚£ä¹ˆæ¨æµ‹ æ˜¯ä½ çš„<strong>springboot ç‰ˆæœ¬å¤ªä½</strong>äº† ã€‚ å¦‚ä½•ä¿®æ”¹ä½ çš„springboot ç‰ˆæœ¬ã€‚</p><h3 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><p>æ–°å»ºç«‹ä¸€ä¸ªé¡¹ç›® ï¼Œ ç„¶åæŠŠ ç‚¹å‡»æ‰“çº¢åœˆ å“ªé‡Œçš„ä¸€ä¸ªè®¾ç½®æŒ‰é’®</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311110014789.png" alt="image-20231111001427737"></p><p><strong>ä¿®æ”¹ä¸º</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://start.spring.io</span><br></pre></td></tr></table></figure><ul><li><p>ç„¶åé‡æ–°å»ºç«‹ä¸€ä¸ªé¡¹ç›®ï¼Œ æŠŠä½ åŸæœ¬é¡¹ç›®è¿ç§»è¿‡å»å°±å¥½äº†</p></li><li><p>å¦‚æœä½ åœ¨å‡çº§springboot3 æ—¶é‡åˆ°äº† ä¸€äº›ä¾èµ–é—®é¢˜ å‚è€ƒæˆ‘<a href="https://www.alanyaeer.fun/2023/11/10/jakarta-websocket-DeploymentException%E6%8A%A5%E9%94%99/">é¡¹ç›®å‡çº§é‡åˆ°çš„å„ç§bug</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç–‘éš¾è§£æƒ‘ </tag>
            
            <tag> jaråŒ… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springboot2é¡¹ç›®è¿ç§»åˆ°springboot3å‡ºç°çš„å„ç§é—®é¢˜</title>
      <link href="/2023/11/10/jakarta-websocket-DeploymentException%E6%8A%A5%E9%94%99/"/>
      <url>/2023/11/10/jakarta-websocket-DeploymentException%E6%8A%A5%E9%94%99/</url>
      
        <content type="html"><![CDATA[<h1 id="é¡¹ç›®å‡çº§è®°å½•"><a href="#é¡¹ç›®å‡çº§è®°å½•" class="headerlink" title="é¡¹ç›®å‡çº§è®°å½•"></a>é¡¹ç›®å‡çº§è®°å½•</h1><h2 id="Websocket"><a href="#Websocket" class="headerlink" title="Websocket"></a>Websocket</h2><h3 id="é”™è¯¯åŸå› "><a href="#é”™è¯¯åŸå› " class="headerlink" title="é”™è¯¯åŸå› "></a>é”™è¯¯åŸå› </h3><blockquote><p>åœ¨æˆ‘å‡çº§é¡¹ç›®ä¸º springboot3 ä¹‹åï¼Œ å°±å‡ºç°äº† : <code>org.springframework.web.socket.server.standard.ServerEndpointExporter: Factory method \&#39;serverEndpointExporter\&#39; threw exception with message: jakarta/websocket/DeploymentException</code></p></blockquote><ul><li>å¥‡æ€ªçš„æ˜¯æˆ‘ä¹‹å‰åœ¨springboot2 æ˜¯æ²¡æœ‰è¿™ä¸ªé—®é¢˜çš„ğŸ¤•</li></ul><p>æ‰€ä»¥æˆ‘å°±çŒœæµ‹æ˜¯ä¸æ˜¯è·Ÿwebsocket æœ‰å…³çš„ ä¾èµ–æ˜¯ä¸æ˜¯ç‰ˆæœ¬å¤ªä½äº† </p><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><blockquote><p> å°†æ‰€æœ‰ WebsocketServerï¼ˆåæ­£å°±æ˜¯websocket ä¸šåŠ¡çš„åœ°æ–¹ï¼‰ ä¸­ å¯¼å…¥åŒ…ä¸º javax.xxx éƒ½ä¿®æ”¹ä¸º jakarta.xxxã€‚è¿™æ˜¯å› ä¸º springboot3 çš„å‡çº§, å¯¹äº†ï¼Œ å…¶å® æ‰€æœ‰çš„javax.servlet ä¹Ÿè¦æ¢æˆjakarta.servletï¼ˆå¯ä»¥æ³¨æ„çœ‹çœ‹ä½ controllerå±‚æœ‰æ²¡æœ‰é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼‰</p></blockquote><h4 id="å¼•å…¥ä¾èµ–"><a href="#å¼•å…¥ä¾èµ–" class="headerlink" title="å¼•å…¥ä¾èµ–"></a>å¼•å…¥ä¾èµ–</h4><ul><li>é¦–å…ˆå¼•å…¥æ­£ç¡®çš„ä¾èµ– jar åŒ…</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.embed<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat-embed-websocket<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>10.1.15<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ä¿®æ”¹å¯¼å…¥çš„åŒ…åç§°"><a href="#ä¿®æ”¹å¯¼å…¥çš„åŒ…åç§°" class="headerlink" title="ä¿®æ”¹å¯¼å…¥çš„åŒ…åç§°"></a>ä¿®æ”¹å¯¼å…¥çš„åŒ…åç§°</h4><p>å°† javaxæ³¨é‡Šäº†</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311102352024.png" alt="image-20231110235233478"></p><p>æ¢æˆä¸‹é¢ä¸‰ä½å…„å¼Ÿ</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311102353763.png" alt="image-20231110235315740"></p><p>ç„¶åå°±å¯ä»¥æ­£å¸¸è¿è¡Œäº†</p><h2 id="Mybatisplus"><a href="#Mybatisplus" class="headerlink" title="Mybatisplus"></a>Mybatisplus</h2><h3 id="é”™è¯¯åŸå› -1"><a href="#é”™è¯¯åŸå› -1" class="headerlink" title="é”™è¯¯åŸå› "></a>é”™è¯¯åŸå› </h3><blockquote><p> java.lang.IllegalArgumentException: Property â€˜sqlSessionFactoryâ€™ or â€˜sqlSessionTemplateâ€™ are required  </p><p> Error creating bean with name â€˜commonControllerâ€™: Unsatisfied dependency expressed through field â€˜messageServiceâ€™: Error creating bean with name â€˜messageServiceImplâ€™: Unsatisfied dependency expressed through field â€˜baseMapperâ€™: Error creating bean with name â€˜messageMapperâ€™ defined in file </p></blockquote><p>å¤§æ¦‚å°±æ˜¯è¿™äº›é—®é¢˜ ä½†æ˜¯ä¹‹å‰æ˜¯æ²¡æœ‰çš„ ã€‚ å°è¯•äº† ç½‘ä¸Š ç»™ å¯åŠ¨ç±»åŠ ä¸Š MapperScannerä¹Ÿæ— æµäºäº‹ï¼Œ å®é™…ä¸Šå°±æ˜¯ç‰ˆæœ¬é—®é¢˜</p><h3 id="è§£å†³æ–¹æ¡ˆ-1"><a href="#è§£å†³æ–¹æ¡ˆ-1" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><h4 id="å¼•å…¥ä¾èµ–-1"><a href="#å¼•å…¥ä¾èµ–-1" class="headerlink" title="å¼•å…¥ä¾èµ–"></a>å¼•å…¥ä¾èµ–</h4><p>è¿™æ˜¯æˆ‘åŸæœ¬çš„ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æŠŠè¿™ä¸ª version ç‰ˆæœ¬æ¢æˆ <strong>3.5.3.1</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œå‘ç° è§£å†³é—®é¢˜</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç–‘éš¾è§£æƒ‘ </tag>
            
            <tag> websocket </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dockerçš„é…ç½®</title>
      <link href="/2023/11/08/docker%E7%9A%84nginx%E9%85%8D%E7%BD%AE/"/>
      <url>/2023/11/08/docker%E7%9A%84nginx%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">docker pull nginx</span><br><span class="line"></span><br><span class="line">docker run --name nginx -p 80:80 -d nginx</span><br><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> -p /docker/nginx/conf.d</span><br><span class="line"><span class="built_in">mkdir</span> -p /docker/nginx/html</span><br><span class="line"><span class="built_in">mkdir</span> -p /docker/nginx/logs</span><br><span class="line"><span class="built_in">mkdir</span> -p /docker/nginx/conf</span><br><span class="line"></span><br><span class="line">// è¿™é‡Œæ–‡ä»¶å¯ä»¥ç›´æ¥åŸåï¼Œ ä½†æ˜¯ æ–‡ä»¶å¤¹å¿…é¡»æ˜¯ä¸Šä¸€çº§ç›®å½• </span><br><span class="line">docker <span class="built_in">cp</span> nginx:/etc/nginx/nginx.conf /docker/nginx/conf/nginx.conf</span><br><span class="line">docker <span class="built_in">cp</span> nginx:/etc/nginx/conf.d /docker/nginx</span><br><span class="line">docker <span class="built_in">cp</span> nginx:/usr/share/nginx/html /docker/nginx</span><br><span class="line"></span><br><span class="line">docker stop nginx</span><br><span class="line">docker <span class="built_in">rm</span> nginx</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// éœ€è¦æ³¨æ„è¿™é‡Œçš„docker å’Œ å®¿ä¸»æœº æ˜¯ç›¸äº’å¯¹åº”çš„ </span><br><span class="line"></span><br><span class="line">docker run  -p 80:80 --name nginx --restart=always -v /docker/nginx/conf/nginx.conf:/etc/nginx/nginx.conf  -v /docker/nginx/conf.d:/etc/nginx/conf.d  -v /docker/nginx/html:/usr/share/nginx/html  -v /docker/nginx/logs:/var/log/nginx  -d  nginx</span><br><span class="line"></span><br><span class="line">è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ /docker/conf.d/conf.d/default.conf</span><br><span class="line">å¦‚æœvue ä½¿ç”¨äº† <span class="built_in">history</span>æ¨¡å¼ï¼Œ é‚£ä¹ˆéœ€è¦åœ¨location/ å†™å…¥ä¸‹é¢è¿™å¥è¯</span><br><span class="line">try_files <span class="variable">$uri</span> <span class="variable">$uri</span>/ /index.html;</span><br></pre></td></tr></table></figure><blockquote><p>æœ€åå°†ä½ è‡ªå·±çš„index.htmlæ”¾å…¥åˆ° &#x2F;docker&#x2F;nginxä¸‹é¢ï¼Œç„¶åè¾“å…¥ä½ çš„ipåœ°å€å°±å¯ä»¥çœ‹åˆ°äº†</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> nginx </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux-ftpè®¾ç½®</title>
      <link href="/2023/11/07/linux-ftp%E8%AE%BE%E7%BD%AE/"/>
      <url>/2023/11/07/linux-ftp%E8%AE%BE%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åœ¨é˜…è¯»æ–‡æœ¬ä¹‹å‰ï¼Œè¯·ç¡®ä¿å·²ç»é…ç½®è¿‡ <a href="https://cloud.tencent.com/document/product/213/10912">äº‘æœåŠ¡å™¨ Linux äº‘æœåŠ¡å™¨æ­å»º FTP æœåŠ¡-æœ€ä½³å®è·µ-æ–‡æ¡£ä¸­å¿ƒ-è…¾è®¯äº‘ (tencent.com)</a> è¿™äº›</p></blockquote><h1 id="root-ç”¨æˆ·ç™»å½•ftp"><a href="#root-ç”¨æˆ·ç™»å½•ftp" class="headerlink" title="root ç”¨æˆ·ç™»å½•ftp"></a>root ç”¨æˆ·ç™»å½•ftp</h1><blockquote><p>åœ¨æ“ä½œå®Œè…¾è®¯äº‘ç»™å‡ºçš„ftpæœåŠ¡æ•™ç¨‹ä¹‹åï¼Œæˆ‘æƒ³ç€å¯ä¸å¯ä»¥ç›´æ¥ç”¨root ç”¨æˆ·ç™»å½•ï¼Œ ç»“æœå‘ç°å‡ºç°äº†è¿™ä¸ªé—®é¢˜</p></blockquote><blockquote><p>530 Please login with USER and PASS. Error EElFTPSUnacceptedReplyError: Unaccepted server reply code 530 to command PWD</p></blockquote><ul><li>å¤§æ¦‚æ˜¯å› ä¸ºrootç”¨æˆ·ä¸è¢«å…è®¸ä½¿ç”¨ftp</li></ul><h2 id="ä¿®æ”¹æ•™ç¨‹"><a href="#ä¿®æ”¹æ•™ç¨‹" class="headerlink" title="ä¿®æ”¹æ•™ç¨‹"></a>ä¿®æ”¹æ•™ç¨‹</h2><h3 id="ä¿®æ”¹vsftpdçš„é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹vsftpdçš„é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹vsftpdçš„é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹vsftpdçš„é…ç½®æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. è¾“å…¥ä¸‹é¢çš„æŒ‡ä»¤æ‰“å¼€é…ç½®æ–‡ä»¶</span><br><span class="line">vim /etc/vsftpd/vsftpd.conf</span><br><span class="line">2. æ‰¾åˆ° local_root å°†ä»–ä¿®æ”¹ä¸º</span><br><span class="line">local_root=/</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311072213299.png" alt="image-20231107221353196"></p><h3 id="ä¿®æ”¹vsftpdçš„é»˜è®¤ç¦æ­¢æ–‡ä»¶"><a href="#ä¿®æ”¹vsftpdçš„é»˜è®¤ç¦æ­¢æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹vsftpdçš„é»˜è®¤ç¦æ­¢æ–‡ä»¶"></a>ä¿®æ”¹vsftpdçš„é»˜è®¤ç¦æ­¢æ–‡ä»¶</h3><p>è¯•ä¸€ä¸‹ï¼Œä¸‹é¢ä¸¤ä¸ªæŒ‡ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/selinux/config</span><br><span class="line">vim /etc/syscofnig/selinux</span><br></pre></td></tr></table></figure><p>ç¬”è€…è¿™é‡Œæ˜¯ç¬¬ä¸€ä¸ªæŒ‡ä»¤</p><p>ç„¶åæ‰“å¼€è¿™ä¸ªé¡µé¢</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311072216296.png" alt="image-20231107221616260"></p><p>å°†è¿™é‡Œçš„SELINUXæ”¹æˆ disabled</p><p>ä¿å­˜é€€å‡º</p><h3 id="ä¿®æ”¹è®¾ç½®æ–‡ä»¶è„šæœ¬"><a href="#ä¿®æ”¹è®¾ç½®æ–‡ä»¶è„šæœ¬" class="headerlink" title="ä¿®æ”¹è®¾ç½®æ–‡ä»¶è„šæœ¬"></a>ä¿®æ”¹è®¾ç½®æ–‡ä»¶è„šæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/vsftpd/user_list</span><br><span class="line">vim /etc/vsftpd/user_list</span><br></pre></td></tr></table></figure><p>æŠŠè¿™ä¸ªä¸¤ä¸ªæ–‡ä»¶çš„çš„root éƒ½<strong>æ³¨é‡Šä¸€ä¸‹</strong></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311072218565.png" alt="image-20231107221853537"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311072223219.png"></p><p>ç„¶åè¾“å…¥ <code>sudo systemctl restart vsftpd</code> å°±å¥½äº†</p><p>å¦‚æœä¸è¡Œç›´æ¥<code>reboot</code> é‡å¯</p>]]></content>
      
      
      <categories>
          
          <category> æ“ä½œç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç–‘éš¾è§£æƒ‘ </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux</title>
      <link href="/2023/11/06/linux/"/>
      <url>/2023/11/06/linux/</url>
      
        <content type="html"><![CDATA[<h1 id="å¦‚ä½•ç”¨å…±äº«æ–‡ä»¶"><a href="#å¦‚ä½•ç”¨å…±äº«æ–‡ä»¶" class="headerlink" title="å¦‚ä½•ç”¨å…±äº«æ–‡ä»¶"></a>å¦‚ä½•ç”¨å…±äº«æ–‡ä»¶</h1><h2 id="x"><a href="#x" class="headerlink" title="x"></a>x<img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816706.png" alt="image-20230516172648393"></h2><p>ç‚¹å‡»è™šæ‹Ÿæœºï¼Œ ç„¶åé€‰æ‹©ç‚¹å‡»è®¾ç½®ï¼Œ é€‰é¡¹å…±äº«æ–‡ä»¶å¤¹æ‰¾åˆ°<code>D:\myshare</code>,ç„¶åå°±å¯ä»¥äº†</p><ul><li>åœ¨è™šæ‹Ÿæœºä¸­<code>cd /mnt/hgfs/share</code></li><li>æ³¨æ„å¦‚æœä½ æ²¡æœ‰å¼€å¯å…±äº«æ–‡ä»¶åŠŸèƒ½ï¼Œé‚£ä¹ˆä½ åœ¨è™šæ‹Ÿæœºä¸­æ‰¾ä¸åˆ°è¿™ä¸ªhgfsæ–‡ä»¶</li></ul><h2 id="shell-çªç„¶è¿æ¥ä¸Šä¸ä¸Šè™šæ‹Ÿæœºçš„é—®é¢˜å’Œè§£å†³æ–¹æ³•"><a href="#shell-çªç„¶è¿æ¥ä¸Šä¸ä¸Šè™šæ‹Ÿæœºçš„é—®é¢˜å’Œè§£å†³æ–¹æ³•" class="headerlink" title="shell çªç„¶è¿æ¥ä¸Šä¸ä¸Šè™šæ‹Ÿæœºçš„é—®é¢˜å’Œè§£å†³æ–¹æ³•"></a>shell çªç„¶è¿æ¥ä¸Šä¸ä¸Šè™šæ‹Ÿæœºçš„é—®é¢˜å’Œè§£å†³æ–¹æ³•</h2><ol><li>é‡å¯sshæœåŠ¡</li></ol><p><code>systemctl restart sshd</code></p><ol start="2"><li>æŸ¥çœ‹ä½ å½“å‰è™šæ‹Ÿæœºçš„ipåœ°å€</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071034963.png" alt="image-20230513110728202"></p><p>æ˜¨å¤©inetè¿™é‡Œçš„ipåœ°å€æ˜¯ <code>192.168.202.134</code>  ç°åœ¨å˜æˆäº†<code>192.168.202.135</code>,æ‰€ä»¥éœ€è¦æ›´æ¢xshellä¸­çš„æœåŠ¡è¿æ¥</p><ol start="3"><li>æ–­å¼€<strong>NATæ¨¡å¼</strong>è¿æ¥(è¿˜æœªå°è¯•,ä½†æ˜¯è¯´ä¸å®šæœ‰ç”¨)</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071034154.png" alt="image-20230513110944014"></p><p>å³ä¸‹ç¬¬ä¸‰ä¸ªå›¾æ ‡,å³å‡»</p><h1 id="vim-çš„å­¦ä¹ "><a href="#vim-çš„å­¦ä¹ " class="headerlink" title="vim çš„å­¦ä¹ "></a>vim çš„å­¦ä¹ </h1><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816725.png" alt="image-20230329131040899"></p><p>a ä»£è¡¨append</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071034278.png" alt="image-20230329131442903"></p><p>è®°ä½esc å°±å¯ä»¥é€€å›åˆ° normalçŠ¶æ€</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071034770.png" alt="image-20230329131638704"></p><p>æ™®é€šæ¨¡å¼å˜åˆ° visual æ¨¡å¼æ‘ä¸‹ vï¼Œ é€€å›åˆ° normal æ¨¡å¼æ‘ä¸‹ esc å³å¯</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816808.png" alt="image-20230329131813629"></p><h2 id="å…‰æ ‡ç§»åŠ¨"><a href="#å…‰æ ‡ç§»åŠ¨" class="headerlink" title="å…‰æ ‡ç§»åŠ¨"></a>å…‰æ ‡ç§»åŠ¨</h2><p><strong>ä¸€ä¸‹å‡åœ¨ normal æ¨¡å¼ä¸‹è¿›è¡Œ</strong></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071034330.png" alt="image-20230329131928890"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071035753.png" alt="image-20230329132139214"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816844.png" alt="image-20230329132620000"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816034.png" alt="image-20230329132752671"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071035726.png" alt="image-20230329133610027"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816881.png" alt="image-20230329133902616"></p><ul><li><p>æ“ä½œç¬¦</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816927.png" alt="image-20230329133932137"></p><p>u æ’¤é”€ï¼Œ pç²˜è´´ ï¼Œcä¿®æ”¹ï¼Œyæ˜¯å¤åˆ¶çš„æ„æ€</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">yypå‘ä¸‹å¤åˆ¶ä¸€è¡Œ</span><br><span class="line">y + <span class="number">2</span>  + yp ä»£è¡¨å‘ä¸‹å¤åˆ¶ä¸¤è¡Œ</span><br><span class="line">cc åˆ é™¤ä¸€è¡Œ ï¼ˆï¼‰</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">d + i + &lt;    åˆ é™¤&lt;&gt;æ‹¬å·é‡Œé¢çš„å…ƒç´ </span><br><span class="line">c + i + &lt;    åˆ é™¤&lt;&gt;æ‹¬å·é‡Œé¢çš„å…ƒç´  å¹¶è¿›å…¥å†™å…¥æ¨¡å¼</span><br><span class="line">c + a + &lt;    åˆ é™¤åŒ…æ‹¬&lt;&gt;åœ¨å†…çš„æ‰€æœ‰å…ƒç´ </span><br><span class="line">u ä»£è¡¨æ’¤å›</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">dd åˆ é™¤ä¸€è¡Œ</span><br><span class="line"><span class="number">2</span>dd åˆ é™¤ä¸¤è¡Œ</span><br><span class="line">ï¼ˆä½¿ç”¨ccå¯ä»¥åˆ é™¤åè¿›å…¥å†™å…¥æ¨¡å¼ï¼‰</span><br><span class="line">  </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">y + f + s å¤åˆ¶åˆ°ç¬¬ä¸€ä¸ªsçš„å†…å®¹ï¼Œç„¶å æ‘ä¸‹på°±æ˜¯å¤åˆ¶</span><br><span class="line">d + f + s æ‰¾åˆ°ç¬¬ä¸€ä¸ªsçš„å†…å®¹ ï¼Œç„¶ååˆ é™¤ä»å½“å‰æ–‡æœ¬åˆ°sçš„æ‰€æœ‰å†…å®¹</span><br><span class="line">c + f + s åŒä¸Šï¼Œä½†æ˜¯åˆ é™¤ä¹‹åï¼Œè¿›å…¥å†™å…¥æ¨¡å¼</span><br><span class="line">    </span><br><span class="line">d + i + t ä»£è¡¨åˆ é™¤æ ‡ç­¾å†…çš„æ‰€æœ‰å…ƒç´ </span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">    fadfa</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">    dfa</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">åœ¨normalæ¨¡å¼ä¸‹è¾“å…¥d + i + tå°±å¯ä»¥å®ç°æŠŠhtmlä¸­æ‰€æœ‰çš„å…ƒç´ åˆ é™¤</span><br><span class="line">    </span><br><span class="line">æˆ‘ä»¬è¿˜å¯ä»¥é…åˆå°–è§’å·æ¥è¿›è¡Œåˆ é™¤ </span><br><span class="line">d + ^ åˆ é™¤å¼€å¤´çš„æ‰€æœ‰å…ƒç´ </span><br><span class="line">d + $ åˆ é™¤ä»å…‰æ ‡å¼€å§‹å¾€åçš„æ‰€æœ‰å…ƒç´  </span><br><span class="line">    </span><br><span class="line">v + i + w å¿«é€Ÿé€‰ä¸­å½“å‰å…‰æ ‡æ‰€åœ¨çš„å•è¯</span><br></pre></td></tr></table></figure></li></ul><h2 id="å¤§å°å†™è½¬æ¢"><a href="#å¤§å°å†™è½¬æ¢" class="headerlink" title="å¤§å°å†™è½¬æ¢"></a>å¤§å°å†™è½¬æ¢</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816249.png" alt="image-20230401192720576"></p><p>å¯ä»¥ç»“åˆä¸Šä¸Šé¢çš„æ“ä½œï¼Œ å¦‚ v + i + w é€‰ä¸­ä¸€ä¸ªå•è¯ç„¶åæŠŠæ‰€æœ‰çš„å…ƒç´ éƒ½æ¢æˆå¤§å†™æˆ–è€…å°å†™å­—æ¯</p><h2 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h2><p>gd å¯ä»¥è·³è½¬åˆ°å®šä¹‰ (ctrl + i å¯ä»¥è°ƒå›æ¥)</p><p>åˆ‡æ¢æ ‡ç­¾é¡µ g + t ï¼ˆå¾€å‰ï¼‰ g + Tï¼ˆå¾€åï¼‰</p><p>4 g t è·³è½¬ç¬¬äºŒä¸ªæ ‡ç­¾é¡µ</p><h2 id="easymotion"><a href="#easymotion" class="headerlink" title="easymotion"></a>easymotion</h2><p><code>&lt;leader&gt;&lt;leader&gt; s</code> leader ä»£è¡¨é”®ç›˜</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071035188.png" alt="image-20230401194215189"></p><h2 id="vim-surround"><a href="#vim-surround" class="headerlink" title="vim_surround"></a>vim_surround</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816782.png" alt="image-20230401194513127"></p><p>å½“ä½ ä½¿ç”¨ cs â€œ [ åˆ™å»æ‰â€,ç„¶å [ ä¹‹é—´æ²¡æœ‰ç©ºæ ¼,] ä¹‹é—´æœ‰ç©ºæ ¼</p><p>æ›¿æ¢æ ‡ç­¾å¯ä»¥ä½¿ç”¨ csâ€t p&gt; å°±å¯ä»¥å¾—åˆ° ä¸€ä¸ªæ ‡ç­¾</p><ul><li>é€€å›åˆ°å‘½ä»¤è¡Œæ¨¡å¼ï¼Œç„¶åè¾“å…¥<code>:wq</code>å¯ä»¥å¼ºåˆ¶é€€å‡º</li></ul><h1 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h1><p>centoså’Œvmè™šæ‹Ÿæœºè½¯ä»¶çš„å®‰è£…çœ‹<a href="%5B007_%E9%9F%A9%E9%A1%BA%E5%B9%B3Linux_%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F_%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9_bilibili%5D(https://www.bilibili.com/video/BV1Sv411r7vd?p=7&vd_source=a96a6a5c5954878773b7ac38c6a5f71b)">éŸ©é¡ºå¹³</a></p><h2 id="1-ç½‘ç»œè¿æ¥çš„ä¸‰ç§æ–¹å¼"><a href="#1-ç½‘ç»œè¿æ¥çš„ä¸‰ç§æ–¹å¼" class="headerlink" title="1.ç½‘ç»œè¿æ¥çš„ä¸‰ç§æ–¹å¼"></a>1.ç½‘ç»œè¿æ¥çš„ä¸‰ç§æ–¹å¼</h2><p>å¦‚æœä¸¤ä¸ªç½‘ç»œéƒ½åœ¨ä¸€ä¸ª 192.168ä¸ºå¼€å¤´çš„ï¼Œé‚£ä¹ˆä»–ä»¬éƒ½åœ¨åŒä¸€ä¸ª<strong>ç½‘æ®µ</strong> åœ¨ä¸€ä¸ªç½‘æ®µä¸‹çš„ç”¨æˆ·ï¼Œå¯ä»¥ç›¸äº’é“¾æ¥</p><ul><li>æ¡¥æ¥æ¨¡å¼ï¼Œè™šæ‹Ÿç³»ç»Ÿå¯ä»¥å’Œå¤–ç•Œç³»ç»Ÿé€šè®¯ï¼Œä½†æ˜¯å®¹æ˜“é€ æˆipå†²çª</li><li>NATæ¨¡å¼ï¼šç½‘ç»œåœ°å€è½¬æ¢æ¨¡å¼ï¼Œè™šæ‹Ÿç³»ç»Ÿå¯ä»¥å’Œå¤–éƒ¨ç³»ç»Ÿé€šè®¯ï¼Œä¸é€ æˆipå†²çªï¼ˆ<strong>é¦–å…ˆè¿™ä¸ª</strong>ï¼‰</li><li>ä¸»æœºæ¨¡å¼ï¼šç‹¬ç«‹æ¨¡å¼</li></ul><h2 id="2-è™šæ‹Ÿæœºçš„åŸºæœ¬çŸ¥è¯†"><a href="#2-è™šæ‹Ÿæœºçš„åŸºæœ¬çŸ¥è¯†" class="headerlink" title="2.è™šæ‹Ÿæœºçš„åŸºæœ¬çŸ¥è¯†"></a>2.è™šæ‹Ÿæœºçš„åŸºæœ¬çŸ¥è¯†</h2><h3 id="2-1è™šæ‹Ÿæœºçš„å…‹éš†"><a href="#2-1è™šæ‹Ÿæœºçš„å…‹éš†" class="headerlink" title="2.1è™šæ‹Ÿæœºçš„å…‹éš†"></a>2.1è™šæ‹Ÿæœºçš„å…‹éš†</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071035816.png" alt="image-20221124160826896"></p><ul><li>æ³¨æ„å…‹éš†çš„æ—¶å€™ï¼Œéœ€è¦<strong>å…³é—­linuxç³»ç»Ÿ</strong></li></ul><p><strong>å…‹éš†çš„æ–¹å¼</strong></p><ol><li>å¼•ç”¨æ‹·è´</li><li>æ·±åº¦æ‹·è´ï¼ˆå®Œå…¨å¤åˆ¶ä¸€ä¸ªè¿‡å»ï¼‰</li></ol><h3 id="2-2è™šæ‹Ÿæœºçš„å¿«ç…§ï¼ˆæˆ‘çš„ç†è§£æ˜¯å°±åƒå¤‡ä»½ï¼‰"><a href="#2-2è™šæ‹Ÿæœºçš„å¿«ç…§ï¼ˆæˆ‘çš„ç†è§£æ˜¯å°±åƒå¤‡ä»½ï¼‰" class="headerlink" title="2.2è™šæ‹Ÿæœºçš„å¿«ç…§ï¼ˆæˆ‘çš„ç†è§£æ˜¯å°±åƒå¤‡ä»½ï¼‰"></a>2.2è™šæ‹Ÿæœºçš„å¿«ç…§ï¼ˆæˆ‘çš„ç†è§£æ˜¯å°±åƒå¤‡ä»½ï¼‰</h3><blockquote><p>æƒ³è¦å›åˆ°åŸå…ˆçš„æŸä¸€ä¸ªçŠ¶æ€ï¼Œå°±å¯ä»¥ä½¿ç”¨å¿«ç…§çš„æœºåˆ¶</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816119.png" alt="image-20221124161923011"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071035784.png" alt="image-20221124162020657"></p><blockquote><p>å¦‚æœä½ ç°åœ¨åœ¨Cï¼Œè®°å½•äº†Aå’ŒBçš„å¿«ç…§ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡å¿«ç…§æœºåˆ¶å›åˆ°Aï¼Œ<strong>åœ¨å›åˆ°Aä¹‹åï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å›åˆ°B</strong></p></blockquote><h3 id="2-3åˆ é™¤ï¼ˆç›´æ¥æ‰‹åŠ¨åˆ é™¤å°±å¥½äº†ï¼‰"><a href="#2-3åˆ é™¤ï¼ˆç›´æ¥æ‰‹åŠ¨åˆ é™¤å°±å¥½äº†ï¼‰" class="headerlink" title="2. 3åˆ é™¤ï¼ˆç›´æ¥æ‰‹åŠ¨åˆ é™¤å°±å¥½äº†ï¼‰"></a>2. 3åˆ é™¤ï¼ˆç›´æ¥æ‰‹åŠ¨åˆ é™¤å°±å¥½äº†ï¼‰</h3><h3 id="2-4å®‰è£…vmtools"><a href="#2-4å®‰è£…vmtools" class="headerlink" title="2.4å®‰è£…vmtools"></a>2.4å®‰è£…vmtools</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816628.png" alt="image-20221124163106274"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816071.png" alt="image-20221124205734386"></p><h2 id="3-ç›®å½•ç»“æ„-grin"><a href="#3-ç›®å½•ç»“æ„-grin" class="headerlink" title="3.ç›®å½•ç»“æ„:grin:"></a>3.ç›®å½•ç»“æ„:grin:</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816088.png" alt="image-20221124205900134"></p><blockquote><p>åœ¨linuxçš„ä¸–ç•Œä¸­ï¼Œä¸€åˆ‡çš†æ–‡ä»¶</p></blockquote><ul><li>&#x2F;bin å­˜æ”¾ç€æœ€å¸¸ç”¨çš„æŒ‡ä»¤</li><li>&#x2F;sbin å­˜æ”¾æ™®é€šç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œåœ¨linuxä¸­æ¯ä¸€ä¸ªç”¨æˆ·</li><li>&#x2F;lib ç³»ç»Ÿå¼€æœºæ‰€éœ€è¦æœ€åŸºæœ¬çš„åŠ¨æ€è¿æ¥çš„</li><li>&#x2F;etc æ‰€æœ‰ç³»ç»Ÿç®¡ç†æ‰€éœ€è¦çš„é…ç½®æ–‡ä»¶å’Œå­ç›®å½•</li><li>&#x2F;usr è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ï¼Œç”¨æˆ·çš„æ‰€æœ‰åº”ç”¨ç¨‹åºå’Œæ–‡ä»¶éƒ½æ”¾åœ¨è¿™ä¸ªç›®å½•</li><li>&#x2F;proc(ä¸è¦åŠ¨)</li><li>&#x2F;srvï¼ˆä¸è¦åŠ¨)</li><li>&#x2F;sysï¼ˆä¸è¦åŠ¨ï¼‰</li><li>&#x2F;devç±»ä¼¼äºwindowsçš„è®¾å¤‡ç®¡ç†å™¨</li><li>&#x2F;media</li><li>&#x2F;mnt  å…±äº«</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071035136.png" alt="image-20221124211147986"></p><p>&#x2F;opt ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€å­˜æ”¾çš„ç›®å½•&#x2F;&#x2F;å¦‚å®‰è£…oracleæ•°æ®åº“</p><h2 id="4-è¿œç¨‹ç™»å½•linux"><a href="#4-è¿œç¨‹ç™»å½•linux" class="headerlink" title="4.è¿œç¨‹ç™»å½•linux"></a>4.è¿œç¨‹ç™»å½•linux</h2><ul><li>xftp : ä¼ è¾“æ–‡ä»¶</li><li>xshell ï¼šä¼ è¾“å‘½ä»¤</li></ul><h2 id="5-vimåŸºæœ¬ä»‹ç»"><a href="#5-vimåŸºæœ¬ä»‹ç»" class="headerlink" title="5.vimåŸºæœ¬ä»‹ç»"></a>5.vimåŸºæœ¬ä»‹ç»</h2><ul><li>ä¸‰ç§æ¨¡å¼</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816706.png" alt="image-20221124212648626"></p><p>wq: <strong>å†™å…¥å¹¶é€€å‡º</strong></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816845.png" alt="image-20221125200740850"></p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816097.png" alt="image-20221125201537680" style="zoom:80%;" /><p>å¿«æ·é”®</p><ol><li>yy: æ‹·è´å½“å‰è¡Œ <code>4yy</code>å¤åˆ¶4è¡Œ</li><li>dd: åˆ é™¤å½“å‰è¡Œ <code>4dd</code>åˆ é™¤å½“å‰è¡Œ</li><li>&#x2F;å…³é”®å­— ï¼Œå›è½¦æŸ¥æ‰¾ï¼Œè¾“å…¥nå°±æ˜¯æŸ¥æ‰¾ä¸‹ä¸€ä¸ªï¼Œè¾“å…¥Nå°±æ˜¯æŸ¥æ‰¾ä¸‹ä¸€ä¸ª</li><li><code>:set nu</code> ï¼šæ˜¾ç¤ºè¡Œå·,<code>:set  nonu</code>ï¼šä¸æ˜¾ç¤ºè¡Œå·</li><li><code>gg</code>ï¼šå¿«æ·é”®åˆ°æ–‡æ¡£çš„æœ€å¼€å§‹ä¸€è¡Œ <code>G</code>ï¼šå¿«æ·é”®åˆ°æ–‡æ¡£çš„æœ€åä¸€è¡Œ</li><li><code>u</code>æ’¤é”€ï¼Œå¦‚windowsçš„<code>ctrl+z</code></li><li><code>æ•°å­—+shift+g</code>å®šä½åˆ°æ•°å­—å¯¹åº”çš„è¡Œ</li></ol><h2 id="6-å…³æœºé‡å¯"><a href="#6-å…³æœºé‡å¯" class="headerlink" title="6.å…³æœºé‡å¯"></a>6.å…³æœºé‡å¯</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071036336.png" alt="image-20221125201705119"></p><blockquote><p>-h çš„hå°±æ˜¯halt -rçš„rå°±æ˜¯reboot</p></blockquote><ul><li><p>shutdown -h ä»£è¡¨1åˆ†é’Ÿåå…³æœº</p></li><li><p>shutdown -h 2 ä»£è¡¨2åˆ†é’Ÿä¹‹åå…³æœº</p></li><li><p>shutdown -h now ä»£è¡¨ç°åœ¨å…³æœº</p></li><li><p>shutdown -r now ç°åœ¨é‡å¯ç”µè„‘</p></li><li><p>sync æŠŠæ•°æ®å†…å­˜åŒæ­¥åˆ°ç£ç›˜ä¹‹ä¸­ã€‚ï¼ˆ<strong>å»ºè®®åœ¨å…³æœºçš„æ—¶å€™ï¼Œ æ‰§è¡Œä¸€æ¬¡ï¼Œ å…å¾—å‡ºç°é—®é¢˜</strong>ï¼‰</p></li></ul><h2 id="7-ç”¨æˆ·ç™»å½•å’Œæ³¨é”€"><a href="#7-ç”¨æˆ·ç™»å½•å’Œæ³¨é”€" class="headerlink" title="7.ç”¨æˆ·ç™»å½•å’Œæ³¨é”€"></a>7.ç”¨æˆ·ç™»å½•å’Œæ³¨é”€</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816795.png" alt="image-20221125202148529"></p><p><code>su - root</code></p><blockquote><p>rootçš„æ—¶å€™ä½¿ç”¨logoutçš„æ—¶å€™å°±ä¼šå˜æˆtomï¼Œåœ¨ä½¿ç”¨ä¸€æ¬¡å°±ä¼šé€€å‡ºç³»ç»Ÿ</p></blockquote><ul><li><p>ä¸Šé¢çš„è¿™äº›æ“ä½œå¾—åœ¨shellä¸­ä½¿ç”¨ã€‚</p></li><li><p>su -  ç”¨æˆ·åå¯ä»¥åˆ‡æ¢ï¼Œä½ çš„ç”¨æˆ·çº§åˆ«</p></li></ul><h2 id="8-ç”¨æˆ·ç®¡ç†"><a href="#8-ç”¨æˆ·ç®¡ç†" class="headerlink" title="8.ç”¨æˆ·ç®¡ç†"></a>8.ç”¨æˆ·ç®¡ç†</h2><p>tip:<code>pwd</code>æ˜¾ç¤ºå½“å‰ç”¨æˆ·æ‰€åœ¨çš„ç›®å½•</p><h3 id="8-1-æ·»åŠ ç”¨æˆ·"><a href="#8-1-æ·»åŠ ç”¨æˆ·" class="headerlink" title="8.1 æ·»åŠ ç”¨æˆ·"></a>8.1 æ·»åŠ ç”¨æˆ·</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># åˆ›å»ºç”¨æˆ·</span><br><span class="line">useradd ç”¨æˆ·å</span><br><span class="line">useradd -d åœ°å€ ç”¨æˆ·å æŒ‡å®šå®¶ç›®å½•çš„åœ°å€åˆ›å»ºä¸€ä¸ªç”¨æˆ·ï¼ˆé»˜è®¤çš„ç”¨æˆ·æ˜¯è¢«æ”¾ç½®åˆ°\homeä¹‹ä¸­</span><br><span class="line"># è®¾ç½®ç”¨æˆ·å¯†ç </span><br><span class="line">passwd milan xxxx</span><br></pre></td></tr></table></figure><h3 id="8-2åˆ é™¤ç”¨æˆ·"><a href="#8-2åˆ é™¤ç”¨æˆ·" class="headerlink" title="8.2åˆ é™¤ç”¨æˆ·"></a>8.2åˆ é™¤ç”¨æˆ·</h3> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># åˆ é™¤ç”¨æˆ·milanï¼Œä½†æ˜¯ä¿ç•™å®¶ç›®å½•ï¼Œä½†æ˜¯ç”¨æˆ·ä¼šæ¶ˆå¤±ï¼ˆå¿…é¡»æ—¶rootæƒé™æ‰èƒ½åˆ é™¤ï¼‰</span><br><span class="line">userdel milan</span><br><span class="line"></span><br><span class="line"># åˆ é™¤ç”¨æˆ·milanï¼Œä¸ä¿ç•™å®¶ç›®å½•ï¼ˆè¦æ…é‡ï¼‰</span><br><span class="line">userdel -r milan</span><br><span class="line"></span><br><span class="line"># å¦‚æœä½ å…ˆç”¨ç¬¬ä¸€ç§æ–¹å¼åˆ é™¤äº†milanï¼Œé‚£ä¹ˆä½ å°±ä¸å¯ä»¥é€šè¿‡-rå°†milanä»homeä¸­åˆ é™¤æ‰</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœä½ å¿˜è®°åŠ ä¸Š-ræ“ä½œï¼Œæƒ³è¦è¿›ä¸€æ­¥çš„åˆ é™¤è€ƒè™‘ä¸€ä¸‹åšæ³•</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816982.png" alt="image-20230514161922494"></p><h2 id="8-xå…¶ä»–çš„ä¸€äº›æ“ä½œ"><a href="#8-xå…¶ä»–çš„ä¸€äº›æ“ä½œ" class="headerlink" title="8.xå…¶ä»–çš„ä¸€äº›æ“ä½œ"></a>8.xå…¶ä»–çš„ä¸€äº›æ“ä½œ</h2><ul><li><p><strong>é«˜å±‚çº§çš„é€€å‡ºåˆ°åº•å±‚çº§çš„ç”¨æˆ·ï¼Œä¸éœ€è¦è¾“å…¥å¯†ç </strong></p></li><li><p>å½“ä½ æƒ³ä»é«˜çº§çš„åˆ°ä½çº§åˆ«çš„æ—¶å€™ï¼Œ æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨logout</p></li><li><p>who am iï¼š<strong>æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„ä¿¡æ¯</strong>ï¼ˆç”¨æˆ·å–å†³äºä½ <strong>ç¬¬ä¸€æ¬¡ç™»å½•</strong>çš„ä¿¡æ¯ï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071036321.png" alt="image-20221126091528924"></p></li><li><p>æŸ¥è¯¢ç”¨æˆ·å</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">id king </span><br><span class="line">id ç”¨æˆ·å è¿”å›ä¸€ä¸ªç”¨æˆ·çš„ä¿¡æ¯</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816906.png" alt="image-20230507163705500"></p><h3 id="8-3ç”¨æˆ·ç»„"><a href="#8-3ç”¨æˆ·ç»„" class="headerlink" title="8.3ç”¨æˆ·ç»„"></a>8.3ç”¨æˆ·ç»„</h3><p>tipsï¼š<strong>clear æ¸…å±</strong></p><h4 id="8-3-1å¢åŠ ç”¨æˆ·ç»„"><a href="#8-3-1å¢åŠ ç”¨æˆ·ç»„" class="headerlink" title="8.3.1å¢åŠ ç”¨æˆ·ç»„"></a>8.3.1å¢åŠ ç”¨æˆ·ç»„</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">groupadd ç»„å</span><br><span class="line"></span><br><span class="line"># å°†ç”¨æˆ·ç›´æ¥ç›´æ¥æ”¾åˆ°ç”¨æˆ·ç»„ä¸­</span><br><span class="line">useradd -g wudang zwj</span><br></pre></td></tr></table></figure><h4 id="8-3-2åˆ é™¤ç”¨æˆ·ç»„"><a href="#8-3-2åˆ é™¤ç”¨æˆ·ç»„" class="headerlink" title="8.3.2åˆ é™¤ç”¨æˆ·ç»„"></a>8.3.2åˆ é™¤ç”¨æˆ·ç»„</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupdel ç»„å</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœæ²¡æœ‰åˆ›å»ºç”¨æˆ·æ²¡æœ‰æŒ‡å®šç»„ï¼Œä¼š<strong>è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå¯¹åº”ç”¨æˆ·åç§°çš„ç»„</strong></li></ul><h4 id="8-3-3ä¿®æ”¹ç”¨æˆ·ç»„"><a href="#8-3-3ä¿®æ”¹ç”¨æˆ·ç»„" class="headerlink" title="8.3.3ä¿®æ”¹ç”¨æˆ·ç»„"></a>8.3.3ä¿®æ”¹ç”¨æˆ·ç»„</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod -g mojiao zwj æŠŠzwjç§»åŠ¨åˆ°mojiaoç»„</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071036733.png" alt="image-20230507164612748"></p><ul><li>ä»é­”æ•™å˜æˆäº†æ­¦å½“æ•™</li></ul><h4 id="8-3-4ç”¨æˆ·å’Œç»„ç›¸å…³æ–‡ä»¶"><a href="#8-3-4ç”¨æˆ·å’Œç»„ç›¸å…³æ–‡ä»¶" class="headerlink" title="8.3.4ç”¨æˆ·å’Œç»„ç›¸å…³æ–‡ä»¶"></a>8.3.4ç”¨æˆ·å’Œç»„ç›¸å…³æ–‡ä»¶</h4><p>è§£é‡Šå™¨ï¼šå›½å†…ä¸€èˆ¬ç”¨bashshell</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071036582.png" alt="image-20221126093152036"></p><ul><li>ç¬¬ä¸€ä¸ªæŒ‡ä»¤ä¸º <code>vim etc/passwd</code></li><li>åé¢çš„æŒ‡ä»¤ä¹Ÿæ˜¯ <code>vim + åé¢çš„ä¸€å¨ä¸œè¥¿</code></li></ul><h2 id="9-linuxä½¿ç”¨æŒ‡ä»¤"><a href="#9-linuxä½¿ç”¨æŒ‡ä»¤" class="headerlink" title="9.linuxä½¿ç”¨æŒ‡ä»¤"></a>9.linuxä½¿ç”¨æŒ‡ä»¤</h2><ul><li>è¿è¡Œçº§åˆ«çš„ä»‹ç»</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816138.png" alt="image-20221127084923967"></p><ul><li>è¾“å…¥<code>init n</code>è·³å…¥å¯¹åº”çš„çŠ¶æ€</li><li><code>systemctl set-default graphical.target</code>,å›åˆ°é»˜è®¤çš„çŠ¶æ€</li><li><code>systemctl set-default TARGET.target</code>è®¾ç½®å›åˆ°çš„çŠ¶æ€</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071036173.png" alt="image-20230509090244160"></p><p><strong>ä¿®æ”¹åˆå§‹initçš„æ–¹æ³•</strong>ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">systemctl get-default </span><br><span class="line">æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„é»˜è®¤çº§åˆ«</span><br><span class="line"></span><br><span class="line">systemctl set-default multi-user.target</span><br><span class="line">åˆ‡æ¢æˆå¤šç”¨æˆ·ç½‘ç»œçº§åˆ«</span><br><span class="line"></span><br><span class="line">systemctl set-default graphical.target</span><br><span class="line">åˆ‡æ¢æˆå›¾å½¢ç•Œé¢çº§åˆ«çº§åˆ«</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å¦‚ä½•æ‰¾å›rootå¯†ç "><a href="#å¦‚ä½•æ‰¾å›rootå¯†ç " class="headerlink" title="å¦‚ä½•æ‰¾å›rootå¯†ç "></a>å¦‚ä½•æ‰¾å›rootå¯†ç </h3><ol><li><p>é¦–å…ˆï¼Œå¯åŠ¨ç³»ç»Ÿï¼Œè¿›å…¥å¼€æœºç•Œé¢ï¼Œåœ¨ç•Œé¢ä¸­æ‘â€™eâ€™è¿›å…¥ç¼–è¾‘ç•Œé¢</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816771.png" alt="image-20221127090532246"></p></li><li><p>è¿›å…¥ç¼–è¾‘ç•Œé¢ï¼Œä½¿ç”¨é”®ç›˜çš„ä¸Šä¸‹é”®æŠŠå…‰æ ‡å¾€ä¸‹ç§»åŠ¨ï¼Œæ‰¾åˆ°ä»¥LINUX16å¼€å¤´å†…å®¹æ‰€åœ¨è¡Œæ•°ï¼Œåœ¨è¡Œçš„æœ€åé¢è¾“å…¥: init&#x3D;&#x2F;bin&#x2F;shã€‚</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816818.png" alt="image-20221127090821988"></p><ol start="3"><li>æ¥ç€ï¼Œè¾“å…¥å®Œæˆåï¼Œç›´æ¥æŒ‰å¿«æ·é”®:<code>Ctrl+x</code>è¿›å…¥å•ç”¨æˆ·æ¨¡å¼</li><li>æ¥ç€ï¼Œåœ¨å…‰æ ‡é—ªçƒçš„ä½ç½®è¾“å…¥ ï¼š<code>mount -o remount,rw /</code></li><li>è¾“å…¥passwdå›è½¦åï¼Œè¾“å…¥å¯†ç </li></ol><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071036533.png" alt="image-20221127091100984"></p><ol start="6"><li><p>åœ¨é¼ æ ‡é—ªçƒä½ç½®ä¸­ï¼ˆæœ€åä¸€è¡Œï¼‰è¾“å…¥<code>touch /.autorelabel</code>ï¼ˆæ³¨æ„touchå’Œ&#x2F;ä¹‹é—´æœ‰ä»¥ä¸€ä¸ªç©ºæ ¼ï¼‰</p></li><li><p>ç»§ç»­åœ¨å…‰æ ‡é—ªçƒä½ç½®ï¼Œè¾“å…¥<code>exec /sbin/init</code>ç„¶åæ‘ä¸‹å›è½¦é”®ï¼Œç­‰å¾…ç³»ç»Ÿè‡ªåŠ¨ä¿®æ”¹å¯†ç </p></li></ol><h3 id="å¸®åŠ©æŒ‡ä»¤"><a href="#å¸®åŠ©æŒ‡ä»¤" class="headerlink" title="å¸®åŠ©æŒ‡ä»¤"></a>å¸®åŠ©æŒ‡ä»¤</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816718.png" alt="image-20230509133624219"></p><ul><li><p>man<strong>è·å¾—å¸®åŠ©ä¿¡æ¯</strong></p><ul><li>å¦‚ <code>man ls</code></li><li>é€‰é¡¹å¯ä»¥ç»„åˆä½¿ç”¨ ls -al, ls -al&#x2F;root</li><li>ä»mançš„æç¤ºä¸­é€€å‡ºåªè¦è¾“å…¥<code>q</code>å°±å¥½äº†</li></ul></li><li><p>help è·å¾—shellå†…ç½®å‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯</p></li><li><p>åœ¨linuxé‡Œé¢ï¼Œéšè—æ–‡ä»¶æ˜¯ä»¥<code>.</code>å¼€å¤´çš„ã€‚</p></li></ul><h2 id="æ–‡ä»¶æŒ‡ä»¤"><a href="#æ–‡ä»¶æŒ‡ä»¤" class="headerlink" title="æ–‡ä»¶æŒ‡ä»¤"></a>æ–‡ä»¶æŒ‡ä»¤</h2><ul><li>pwd : æ˜¾ç¤ºå½“å‰çš„ç»å¯¹è·¯å¾„</li></ul><h3 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h3><ul><li><code>ls - l</code>å•åˆ—è¾“å‡ºæ‰€æœ‰çš„æ–‡ä»¶</li><li><code>ls - a</code>è¾“å‡ºæ‰€æœ‰çš„æ–‡ä»¶</li><li>é€‰é¡¹è¿˜å¯ä»¥ç»„åˆä½¿ç”¨ <code>ls - al</code>, <code>ls -al /home</code>ä»£è¡¨è¾“å‡ºrootç›®å½•ä¸‹çš„<code>æ‰€æœ‰æ–‡ä»¶</code></li></ul><h3 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h3><p><code>cd ~</code>å›åˆ°è‡ªå·±çš„å®¶ç›®å½•</p><p><code>cd ..</code> å›åˆ°å½“å‰ç›®å½•çš„ä¸Šä¸€çº§</p><h3 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h3><ul><li>æŒ‡ä»¤ç”¨äºåˆ›å»ºç›®å½•</li></ul><p><strong>åˆ›å»ºdogç›®å½•</strong></p><p><code>mkdir /home/dog</code></p><p>åˆ›å»ºå¤šçº§ç›®å½•</p><p><code>mkdir -p /home/dog/animal</code></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816839.png" alt="image-20230509140515432"></p><p>åœ¨å½“å‰<code>/home</code>ä¹‹ä¸­åˆ›å»ºä¸€ä¸ª<code>dog</code>,åœ¨<code>dog</code>ä¹‹ä¸­åˆ›å»ºä¸€ä¸ª<code>animal</code></p><h3 id="rmdir"><a href="#rmdir" class="headerlink" title="rmdir"></a>rmdir</h3><p>rmdir åˆ é™¤ä¸€ä¸ªç©ºç›®å½•</p><ul><li>åªæœ‰ç©ºç›®å½•æ‰å¯ä»¥ä½¿ç”¨</li></ul><p>æ‰€ä»¥ä½ ä¸èƒ½åˆ é™¤æ‰æœ‰animalçš„catçš„diræ–‡ä»¶</p><ul><li>æƒ³è¦åˆ é™¤éœ€è¦ç”¨<code>rm -rf dir</code></li></ul><p>æ¯”å¦‚æˆ‘æƒ³è¦åˆ é™¤æ‰catå’Œanimal,é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªé€’å½’åˆ é™¤.(rä»£è¡¨recursion)</p><p><code>rm -rf ./cat</code></p><p>é€šè¿‡ä¸Šè¯‰æŒ‡ä»¤,å°†catçš„æ‰€æœ‰æ–‡ä»¶,åŒ…æ‹¬catå…¨éƒ¨åˆ é™¤</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816197.png" alt="image-20230509141219006"></p><h3 id="touch"><a href="#touch" class="headerlink" title="touch"></a>touch</h3><ul><li>åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071036554.png" alt="image-20230509141248356"></p><h3 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h3><ul><li>æŒ‡å®šçš„æ–‡ä»¶æ‹·è´åˆ°æŒ‡å®šçš„åœ°å€ä¹‹ä¸­</li></ul><p><code>-ré€‰é¡¹</code>é€’å½’å¤åˆ¶æ•´ä¸ªæ–‡ä»¶å¤¹</p><p>å°†bbbå†…çš„æ‰€æœ‰æ–‡ä»¶æ‹·è´åˆ°optæ–‡ä»¶å¤¹ä¹‹ä¸­</p><p><code>cp -r /home/bbb/ /opt/</code></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071036886.png" alt="image-20230509142004563"></p><p><code>\cp -r /home/bbb/opt</code> å¼ºåˆ¶è¦†ç›–æ‰€æœ‰æ–‡ä»¶,ä¸éœ€è¦ä¸€ä¸ªä¸€ä¸ªçš„æç¤º</p><h3 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h3><ul><li><p>ä¸åŒäºä¸Šé¢çš„åˆ é™¤ç›®å½•, è¿™ä¸ªæ˜¯åˆ é™¤æ–‡ä»¶</p></li><li><p>å¸¸ç”¨é€‰é¡¹</p><ul><li>-r é€’å½’åˆ é™¤æ•´ä¸ªæ–‡ä»¶å¤¹</li><li>-f å¼ºåˆ¶åˆ é™¤ä¸æç¤º</li><li><strong>è¿™äº›é€‰é¡¹å¯ä»¥ç»„åˆ</strong></li><li>-rfå¼ºåˆ¶åˆ é™¤æ‰€æœ‰æ–‡ä»¶å¤¹ä¸æç¤º</li></ul></li><li><p>æ¯”å¦‚å°†&#x2F;home&#x2F;hello.txtæ–‡ä»¶åˆ é™¤</p><p><code>rm /home/hello.txt</code></p><p><code>rm -f /home/hello.txt</code></p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816017.png" alt="image-20230509142656169"></p><p><strong>ä¸¤ç§æ–¹æ³•å¾—åˆ°çš„ç»“æœä¸ºä¸Šå›¾</strong></p><ul><li>tips</li></ul><p>åˆ é™¤æ•´ä¸ªç³»ç»Ÿä¸º<code>-rm -rf /</code>ä½†æ˜¯è¿™æ ·ä¼šæœ‰ç³»ç»Ÿæç¤º</p><p>,ä¸ºäº†ç»•å¼€å®ƒçš„æç¤ºæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>-rm -rf /*</code></p><h3 id="mvæŒ‡ä»¤"><a href="#mvæŒ‡ä»¤" class="headerlink" title="mvæŒ‡ä»¤"></a>mvæŒ‡ä»¤</h3><ul><li>ç§»åŠ¨æ–‡ä»¶ä¸ç›®å½•æˆ–è€…é‡å‘½å</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816283.png" alt="image-20230509143508413"></p><ul><li><p>åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹é¢, å°±æ˜¯é‡å‘½å</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071037870.png" alt="image-20230509143631469"></p></li><li><p>å¦åˆ™å°±æ˜¯ç§»åŠ¨æ–‡ä»¶.</p></li><li><p>ç§»åŠ¨æ•´ä¸ªç›®å½•</p><p>å°†bbbç›®å½•ç§»åŠ¨åˆ°home&#x2F;ä¸‹é¢</p><p><code>mv bbb /home/</code></p></li></ul><h3 id="catæŒ‡ä»¤-æ›´å®‰å…¨"><a href="#catæŒ‡ä»¤-æ›´å®‰å…¨" class="headerlink" title="catæŒ‡ä»¤(æ›´å®‰å…¨)"></a>catæŒ‡ä»¤(æ›´å®‰å…¨)</h3><ul><li><p>ä»–åªèƒ½æµè§ˆæ–¹ä¾¿, ä½†æ˜¯ä¸å¯ä»¥ä¿®æ”¹æ–‡ä»¶.</p></li><li><p>æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816752.png" alt="image-20230509144025149"></p><p><code>cat -n /etc/profile</code></p><h4 id="æ‹“å±•-ç®¡é“å‘½ä»¤"><a href="#æ‹“å±•-ç®¡é“å‘½ä»¤" class="headerlink" title="æ‹“å±• : ç®¡é“å‘½ä»¤"></a>æ‹“å±• : ç®¡é“å‘½ä»¤</h4><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816907.png" alt="image-20230509144422055"></p><p><strong>å°†å‰é¢å‘½ä»¤çš„ç»“æœäº¤ç»™ä¸‹ä¸€ä¸ªå‘½ä»¤è¿›è¡Œå¤„ç†</strong></p><p> &#96;&#96;cat -n &#x2F;etc&#x2F;profile | more&#96;</p><p><strong>moreå¯ä»¥è¿›è¡Œç¿»é¡µç­‰åŠŸèƒ½</strong></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071037468.png" alt="image-20230509144450191"></p><p><code>more /etc/profile</code></p><h3 id="less"><a href="#less" class="headerlink" title="less"></a>less</h3><p>åŠŸèƒ½:</p><p> <img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816427.png" alt="image-20230509144722631"></p><p><strong>å®ƒæ¯”moreæŒ‡ä»¤æ›´åŠ å¥½ç”¨, å®ƒçš„æŸ¥çœ‹æ–‡ä»¶çš„æ•ˆç‡æ›´åŠ .</strong></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071037726.png" alt="image-20230509145126682"></p><h3 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h3><ul><li>è¾“å‡ºå†…å®¹åˆ°æ§åˆ¶å°</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071037278.png" alt="image-20230509145229416"></p><ul><li>ç¯å¢ƒå˜é‡å¸¦æœ‰ç¾å…ƒç¬¦å·</li></ul><p><code>echo $HOSTNAME</code>æ˜¾ç¤ºå½“å‰æœåŠ¡å™¨åå­—</p><p><code>echo &quot;hello,world&quot;</code> (æ³¨æ„è¿™é‡Œå¿…é¡»è¦åŠ ä¸Šå¼•å·)</p><p><code>echo &gt;</code>ä»£è¡¨çš„æ˜¯è¦†ç›–</p><p><code>echo &gt;&gt;</code>ä»£è¡¨çš„æ˜¯è¿½åŠ </p><h3 id="headæŒ‡ä»¤"><a href="#headæŒ‡ä»¤" class="headerlink" title="headæŒ‡ä»¤"></a>headæŒ‡ä»¤</h3><ul><li>ç”¨æ¥æ˜¾ç¤ºæ–‡ä»¶çš„å¼€å¤´æ–‡ä»¶å†…å®¹, é»˜è®¤æŸ¥çœ‹10è¡Œçš„å†…å®¹.</li><li><code>head -n 5</code> æ˜¾ç¤ºå‰äº”è¡Œ.</li></ul><h3 id="tailæŒ‡ä»¤"><a href="#tailæŒ‡ä»¤" class="headerlink" title="tailæŒ‡ä»¤"></a>tailæŒ‡ä»¤</h3><ul><li><p>æ˜¾ç¤ºæ–‡ä»¶çš„æœ«å°¾å†…å®¹, é»˜è®¤æ˜¾ç¤ºæœ«å°¾10è¡Œ.</p></li><li><p>åŒheadæŒ‡ä»¤</p></li><li><p><strong>é€‰é¡¹ <code>-f</code>å®æ—¶æ˜¾ç¤ºæ–‡ä»¶å†…å®¹.(éå¸¸é‡è¦)</strong></p><p>è¾“å…¥<strong>ctrl+c</strong>ä»£è¡¨é€€å‡º</p></li></ul><p><strong>æ‹“å±• : é‡å®šå‘,å°†è¾“å‡ºçš„å†…å®¹å†™å…¥åˆ°å…¶ä»–åœ°æ–¹.</strong></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816937.png" alt="image-20230509150147565"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816653.png" alt="image-20230509150154370"></p><p>åœ¨linuxç³»ç»Ÿä¸­å‘æ–‡ä»¶ä¸­å†™å…¥è¿™ä¸ªæŒ‡ä»¤, ç„¶åå†tailçš„ç›‘æ§ä¸‹å¾—åˆ°äº†<code>helloworld</code></p><h3 id="å’Œ-æŒ‡ä»¤"><a href="#å’Œ-æŒ‡ä»¤" class="headerlink" title="&gt; å’Œ &gt;&gt; æŒ‡ä»¤"></a>&gt; å’Œ &gt;&gt; æŒ‡ä»¤</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071037240.png" alt="image-20230509150523092"></p><ul><li><p>å› ä¸ºä»¥ä¸ŠæŒ‡ä»¤çš„è¾“å‡ºåœ°æ–¹éƒ½æ˜¯å†æ§åˆ¶å°é‡Œé¢, æˆ‘ä»¬å¯ä»¥åˆ©ç”¨é‡å®šå‘å°†ä»–è½¬æ¢åˆ°å…¶ä»–åœ°æ–¹</p></li><li><p>cal : æ˜¾ç¤ºå½“å‰çš„æ—¥å†</p></li></ul><p><code>cal &gt; /home/cc.txt</code>å°†æ—¥å†è¦†ç›–åˆ°<code>cc.txt</code>æ–‡ä»¶ä¹‹ä¸­</p><h3 id="lnæŒ‡ä»¤-è¿™é‡Œæ˜¯lä¸æ˜¯i"><a href="#lnæŒ‡ä»¤-è¿™é‡Œæ˜¯lä¸æ˜¯i" class="headerlink" title="lnæŒ‡ä»¤(è¿™é‡Œæ˜¯lä¸æ˜¯i)"></a>lnæŒ‡ä»¤(è¿™é‡Œæ˜¯lä¸æ˜¯i)</h3><p>è½¯é“¾æ¥, ç±»ä¼¼äºwindowä¹‹ä¸­çš„<code>å¿«æ·é”®</code></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071037056.png" alt="image-20230509151433783"></p><p><code>ln -s /root/ /home/myroot</code></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816792.png" alt="image-20230509151609372"></p><h3 id="history"><a href="#history" class="headerlink" title="history"></a>history</h3><p>æŸ¥çœ‹å·²ç»æ‰§è¡Œè¿‡çš„å†å²æŒ‡ä»¤.</p><ul><li><p>æŸ¥çœ‹æ‰€æœ‰çš„æŒ‡ä»¤<code>history</code></p></li><li><p>æŸ¥çœ‹æœ€è¿‘çš„åæ¡æŒ‡ä»¤<code>history 10</code></p></li><li><p>æ‰§è¡Œå†å²ç¼–å·ä¸º<code>!5</code></p></li></ul><h2 id="æ—¶é—´æ—¥æœŸç±»æŒ‡ä»¤"><a href="#æ—¶é—´æ—¥æœŸç±»æŒ‡ä»¤" class="headerlink" title="æ—¶é—´æ—¥æœŸç±»æŒ‡ä»¤"></a>æ—¶é—´æ—¥æœŸç±»æŒ‡ä»¤</h2><p><code>date</code></p><p><code>date +%Y</code></p><p><code>date +%m</code></p><p><code>date +%d</code></p><p><code>date &quot;+%Y- %m- %d %H:%M:%S&quot;</code></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816870.png" alt="image-20230512102419810"></p><p><code>date -s è®¾è®¡ç³»ç»Ÿå½“å‰æ—¶é—´</code></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071040881.png" alt="image-20230512102701478"></p><p><code>cal</code> æŸ¥çœ‹æ—¥å†æŒ‡ä»¤</p><h2 id="æœç´¢æŸ¥æ‰¾ç±»æŒ‡ä»¤"><a href="#æœç´¢æŸ¥æ‰¾ç±»æŒ‡ä»¤" class="headerlink" title="æœç´¢æŸ¥æ‰¾ç±»æŒ‡ä»¤"></a>æœç´¢æŸ¥æ‰¾ç±»æŒ‡ä»¤</h2><h3 id="findæŒ‡ä»¤"><a href="#findæŒ‡ä»¤" class="headerlink" title="findæŒ‡ä»¤"></a>findæŒ‡ä»¤</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071040348.png" alt="image-20230512102954151"></p><ol><li><code>find /home -name hello.txt</code></li></ol><p>æŸ¥æ‰¾ home åç§°ä¸‹é¢çš„helloçš„è®°äº‹æœ¬</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816791.png" alt="image-20230512103312599"></p><ol start="2"><li><p><code>find /opt -user nobody</code></p><p>å¯ä»¥æ¢æˆå°†<code>nobody</code>æ›¿æ¢æˆ<code>root</code></p><p>å› ä¸ºè·³è½¬çš„å¤ªå¿«æˆ‘ä»¬çœ‹ä¸æ¸…é‡Œé¢çš„æ–‡ä»¶ï¼Œ æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ |more æ¥å‡ç¼“é€Ÿåº¦</p><p>ä¾‹å¦‚<code>find / -user root | more</code></p></li><li><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816976.png" alt="image-20230512103813288"></p><p><code>find / -size +200M</code> æ‰¾åˆ°ä»æ ¹ç›®å½•ä¸‹å¤§äº200Mçš„æ–‡ä»¶</p><p><code>ls -lh</code>å°†æ•°æ®æ¢æˆæ¯”è¾ƒé€‚åˆäººçœ‹çš„å•ä½</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071040298.png" alt="image-20230512105002992"></p></li></ol><h3 id="locate-æŒ‡ä»¤"><a href="#locate-æŒ‡ä»¤" class="headerlink" title="locate  æŒ‡ä»¤"></a>locate  æŒ‡ä»¤</h3><p><code>å¿«é€Ÿå®šä½æ–‡ä»¶çš„è·¯å¾„</code></p><p><strong>å®ƒçš„æŸ¥è¯¢é€Ÿåº¦éå¸¸å¿«é€Ÿï¼Œä»–æ˜¯å»ºç«‹è‡ªå·±çš„æ•°æ®åº“è¿›è¡ŒæŸ¥æ‰¾</strong></p><ul><li>åœ¨ç¬¬ä¸€æ¬¡è¿è¡Œä¹‹å‰ï¼Œ éœ€è¦ä½¿ç”¨<code>updatedb</code>æŒ‡ä»¤åˆ›å»º<code>locate</code>æ•°æ®åº“, å¦åˆ™ä¼šæ£€ç´¢ä¸åˆ°</li></ul><h3 id="which-æŒ‡ä»¤"><a href="#which-æŒ‡ä»¤" class="headerlink" title="which æŒ‡ä»¤"></a>which æŒ‡ä»¤</h3><p><strong>å¯ä»¥æŸ¥çœ‹æŸä¸€ä¸ªæŒ‡ä»¤åœ¨å“ªä¸ªç›®å½•å­˜æ”¾ ã€‚</strong></p><p><code>which ls</code></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816676.png" alt="image-20230512104657145"></p><h3 id="grep-æŒ‡ä»¤å’Œç®¡é“ç¬¦å·"><a href="#grep-æŒ‡ä»¤å’Œç®¡é“ç¬¦å·" class="headerlink" title="grep æŒ‡ä»¤å’Œç®¡é“ç¬¦å·"></a>grep æŒ‡ä»¤å’Œç®¡é“ç¬¦å·</h3><p><code>grep è¿‡æ»¤æŸ¥æ‰¾ï¼Œ ç®¡é“ç¬¦ï¼Œ &quot;|&quot; è¡¨ç¤ºå°†å‰ä¸€ä¸ªå‘½ä»¤çš„å¤„ç†ç»“æœè¾“å‡ºä¼ é€’ç»™åé¢çš„å‘½åå¤„ç†</code></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816821.png" alt="image-20230512104805852"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071040821.png" alt="image-20230512105721349"></p><p><code>grep -n &quot;æŸ¥æ‰¾å†…å®¹&quot; åœ°å€</code></p><ul><li>å¸¸ç”¨é€‰é¡¹</li></ul><p><code>-i</code> ï¼š å¿½ç•¥å¤§å°å†™</p><h2 id="å‹ç¼©å’Œè§£å‹æŒ‡ä»¤"><a href="#å‹ç¼©å’Œè§£å‹æŒ‡ä»¤" class="headerlink" title="å‹ç¼©å’Œè§£å‹æŒ‡ä»¤"></a>å‹ç¼©å’Œè§£å‹æŒ‡ä»¤</h2><h3 id="gzip-gunzip-æŒ‡ä»¤"><a href="#gzip-gunzip-æŒ‡ä»¤" class="headerlink" title="gzip &#x2F; gunzip æŒ‡ä»¤"></a>gzip &#x2F; gunzip æŒ‡ä»¤</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816275.png" alt="image-20230512105927399"></p><ul><li><p>gzip åœ°å€&#x2F;</p><p>å‹ç¼©åä¼šä¿å­˜æºæ–‡ä»¶</p></li><li><p>gunzipå‹ç¼©</p></li><li><p>é€‰é¡¹ -r é€’å½’å‹ç¼©ï¼Œ ä¹Ÿå°±æ˜¯å‹ç¼©ç›®å½•</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816278.png" alt="image-20230512110256282"></p><ul><li><code>zip -r myhome.zip /home/</code>å°†homeç›®å½•åŠå…¶åŒ…</li><li><code>unzip -d /opt/tmp/ home/myhome.zip</code> è§£å‹myhome.zipåˆ€tmpç›®å½•ä¸‹</li></ul><h3 id="taræŒ‡ä»¤"><a href="#taræŒ‡ä»¤" class="headerlink" title="taræŒ‡ä»¤"></a>taræŒ‡ä»¤</h3><ul><li>zxvf <strong>è§£åŒ…æ–‡ä»¶</strong></li><li>zcvf <strong>å‹ç¼©æ‰“åŒ…æ–‡ä»¶</strong></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071040312.png" alt="image-20230512110956001"></p><ul><li><strong>å°†ä¸Šè¯‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œ æ‰“åŒ…åˆ°ä¸€ä¸ªtar.gzæ–‡ä»¶ä¸­</strong></li></ul><p><code>tar -zcvf pc.tar.gz helo.txt sss.txt</code></p><ul><li><strong>å°†<code>pc.tar.gz</code>è§£å‹åˆ°å½“å‰ç›®å½•</strong></li></ul><p><code>tar -zxvf pc.tar.gz</code></p><ul><li><strong>å°†<code>pc.tar.gz</code>è§£å‹åˆ€æŒ‡å®šç›®å½•</strong></li></ul><p>(1).<code>mkdir /opt/tmp2</code></p><p>(2).<code>tar -zxvf /home/myhome.tar.gz -C /opt/tmp2</code></p><h2 id="ç”¨æˆ·ç»„"><a href="#ç”¨æˆ·ç»„" class="headerlink" title="ç”¨æˆ·ç»„"></a>ç”¨æˆ·ç»„</h2><ul><li>ä»»ä½•ä¸€ä¸ªç”¨æˆ·éƒ½å¿…é¡»æœ‰ä¸€ä¸ªç»„</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816805.png" alt="image-20230513102646026"></p><h2 id="æ–‡ä»¶-ç›®å½•-æ‰€æœ‰è€…"><a href="#æ–‡ä»¶-ç›®å½•-æ‰€æœ‰è€…" class="headerlink" title="æ–‡ä»¶&#x2F;ç›®å½• æ‰€æœ‰è€…"></a>æ–‡ä»¶&#x2F;ç›®å½• æ‰€æœ‰è€…</h2><ul><li><p>ls -ahl æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶ï¼Œä»¥åŠå®ƒçš„åˆ›å»ºè€…</p></li><li><p>chown ç”¨æˆ·å æ–‡ä»¶å å°†è¯¥æ–‡ä»¶ è½¬æ¢ä¸ºå¯¹åº”çš„ç”¨æˆ·å</p></li></ul><h3 id="ç»„çš„åˆ›å»º"><a href="#ç»„çš„åˆ›å»º" class="headerlink" title="ç»„çš„åˆ›å»º"></a>ç»„çš„åˆ›å»º</h3><ul><li><code>groupadd ç»„å groupadd monster</code></li><li>åˆ›å»ºä¸€ä¸ªç”¨æˆ·fox  <code>useradd -g monster</code></li><li>ç»™ç”¨æˆ·è®¾ç½®å¯†ç  <code>passwd fox</code></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071040005.png" alt="image-20230513103703454"></p><p>ç¬¬ä¸€ä¸ªrootä»£è¡¨ç”¨æˆ·åï¼Œ ç¬¬äºŒä¸ªä»£è¡¨ç»„å</p><ul><li>ä¿®æ”¹æ–‡ä»¶æ‰€åœ¨çš„ç»„</li></ul><p><code>chgrp ç»„å æ–‡ä»¶å</code></p><p><code>touch orange.txt</code></p><p><code>chgrp fox orange.txt</code></p><p>åˆ›å»ºä¸€ä¸ªorangeçš„æ–‡æœ¬ï¼Œ ç„¶åæŠŠè¿™ä¸ªæ–‡æœ¬çš„ç»„åæ¢æˆfoxç»„</p><h2 id="å…¶ä»–ç»„"><a href="#å…¶ä»–ç»„" class="headerlink" title="å…¶ä»–ç»„"></a>å…¶ä»–ç»„</h2><p><code>usermod -g æ–°ç»„å ç”¨æˆ·å</code></p><p><code>usermod -d ç›®å½•å ç”¨æˆ·å</code> : <strong>ç”¨æˆ·éœ€è¦æœ‰è¿›å…¥åˆ°ç›®å½•çš„æƒé™</strong></p><h2 id="æƒé™çš„åŸºæœ¬ä»‹ç»"><a href="#æƒé™çš„åŸºæœ¬ä»‹ç»" class="headerlink" title="æƒé™çš„åŸºæœ¬ä»‹ç»"></a>æƒé™çš„åŸºæœ¬ä»‹ç»</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816112.png" alt="image-20230513105300579"></p><p>è¿™è¡Œæ•°æ®çš„å«ä¹‰å¦‚ä¸‹</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816537.png" alt="image-20230513105326509"></p><p><strong>ç¬¬ä¸€ä½</strong></p><p>æ˜¯<code>l</code>ä»£è¡¨é“¾æ¥</p><p>æ˜¯<code>d</code>ä»£è¡¨ç›®å½•,ç›¸å½“äºwindowsçš„ç›®å½•</p><p>æ˜¯<code>-</code>ä»£è¡¨æ˜¯æ™®é€šæ–‡ä»¶</p><p>æ˜¯<code>c</code>ä»£è¡¨æ˜¯å­—ç¬¦è®¾å¤‡ æ¯”å¦‚é¼ æ ‡é”®ç›˜ <strong>cd &#x2F;dev å°±å¯ä»¥çœ‹åˆ°, ä¸‹é¢çš„ä¹Ÿå¯ä»¥</strong>é€šè¿‡è¿™ä¸ªæ–¹å¼çœ‹åˆ°</p><p>æ˜¯<code>b</code>æ˜¯å—è®¾å¤‡, æ¯”å¦‚ç¡¬ç›˜</p><p><strong>ç¬¬1-3ä½</strong>ç¡®å®šæ‰€æœ‰è€…æ‹¥æœ‰å¯¹è¯¥æ–‡ä»¶çš„æƒé™ â€“user</p><p><strong>ç¬¬4-6ä½</strong>ç¡®å®šæ‰€å±ç»„æ‹¥æœ‰çš„å¯¹è¯¥æ–‡ä»¶çš„æƒé™ â€“group</p><p><strong>ç¬¬7-9ä½</strong>ç¡®å®šå…¶ä»–ç”¨æˆ·ç»„æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ â€“ Other</p><p>å¦‚æœå¯¹åº”æƒé™æ²¡æœ‰,åˆ©ç”¨<code>-</code>æ¥è¡¨ç¤º<strong>ç¼ºçœ</strong></p><p><code>-    rwx    rw-    r--</code></p><p><strong>ä¸Šé¢åˆ†éš”å¼€å°±å¯ä»¥è¡¨ç¤ºæƒé™</strong></p><p>rwx (<strong>rä»£è¡¨å¯è¯» wä»£è¡¨å¯å†™ xä»£è¡¨å¯ä»¥æ‰§è¡Œ</strong>)</p><p>ä½œç”¨åˆ°æ–‡ä»¶å’Œç›®å½•ä¸‹é¢çš„åŒºåˆ«</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071041461.png" alt="image-20230513110428616"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816112.png" alt="image-20230513105300579"></p><ul><li>ä¸¤ä¸ªrootä¹‹åçš„<strong>æ•°å­—ä»£è¡¨æ–‡ä»¶çš„å­—èŠ‚å¤§å°,</strong> åé¢æ˜¯<strong>æœ€åä¿®æ”¹çš„æ—¥æœŸ</strong> , æœ€åä¸€ä¸ªä»£è¡¨çš„æ˜¯æ–‡ä»¶å</li></ul><h2 id="ä¿®æ”¹æƒé™-chmod"><a href="#ä¿®æ”¹æƒé™-chmod" class="headerlink" title="ä¿®æ”¹æƒé™ - chmod"></a>ä¿®æ”¹æƒé™ - chmod</h2><ul><li>è¦å…ˆåˆ‡æ¢åˆ°å¯¹åº”çš„ç”¨æˆ·åé‚£è¾¹å…ˆã€‚</li></ul><blockquote><p>u:æ‰€æœ‰(æ‹¥æœ‰)è€… g:æ‰€æœ‰ç»„ o:å…¶ä»–äºº a:æ‰€æœ‰äºº</p></blockquote><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230513111852339.png" alt="image-20230513111852339"></p><ul><li><p><code>-</code>è¿ç®—ç¬¦, ä»£è¡¨ é™¤å»ç”¨æˆ·å¯¹åº”è¾“å…¥å­—æ¯çš„æƒé™</p></li><li><p><code>+</code>è¿ç®—ç¬¦, ä»£è¡¨ å¢åŠ ç”¨æˆ·å¯¹åº”è¾“å…¥å­—æ¯çš„æƒé™</p></li><li><p>å½“å‰abcçš„æƒé™</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816155.png" alt="image-20230513112435746"></p><ul><li>è¾“å…¥è¯¥æŒ‡ä»¤ä¹‹å<code>chmod u=rwx,g=rwx,o=rx abc</code></li><li>æƒé™å˜æ›´ä½å¦‚ä¸‹</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071041389.png" alt="image-20230513112455168"></p><p>è¾“å…¥<code>chmod u-x,g+w abc</code></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816151.png" alt="image-20230513112703869"></p><p>æ‰€æœ‰è€…æƒé™xæ¶ˆå¤±äº†,<code>ç”¨æˆ·ç»„</code>å¢åŠ äº†<code>w</code>æƒé™</p><ul><li>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡æ•°å­—æ¥å˜æ›´æƒé™</li></ul><p><code>r = 4 w = 2 x = 1</code>,æ‰€ä»¥ rwx å¯¹åº”çš„æ•°å­—ä¸º &#x3D; 4 + 2 + 1 &#x3D; 7</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816303.png" alt="image-20230513112858870"></p><h2 id="chown-ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…"><a href="#chown-ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…" class="headerlink" title="chown - ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…"></a>chown - ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…</h2><p><code>chown tom /home/abc.txt</code></p><p>ä¿®æ”¹abc.txtçš„æ‰€æœ‰è€…ä¸º<code>tom</code></p><p><strong>ä¿®æ”¹å‰</strong></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071041460.png" alt="image-20230513113132399"></p><p><strong>ä¿®æ”¹å</strong></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816550.png" alt="image-20230513113122116"></p><ul><li><code>-R</code>å¦‚æœæ˜¯ç›®å½•,åˆ™ä½¿å…¶æ‰€æœ‰å­æ–‡ä»¶æˆ–è€…ç›®å½•é€’å½’ç”Ÿæ•ˆ</li></ul><p><code>chown -R tom /home/test</code> å°†testæ–‡ä»¶å¤¹é‡Œé¢çš„æ‰€æœ‰æ–‡æœ¬å…¨éƒ¨å˜æˆtomç”¨æˆ·çš„æ‰€å±</p><h2 id="chgrp-ä¿®æ”¹æ–‡ä»¶æ‰€å±ç»„"><a href="#chgrp-ä¿®æ”¹æ–‡ä»¶æ‰€å±ç»„" class="headerlink" title="chgrp - ä¿®æ”¹æ–‡ä»¶æ‰€å±ç»„"></a>chgrp - ä¿®æ”¹æ–‡ä»¶æ‰€å±ç»„</h2><p><strong>ç±»ä¼¼äºä¸Šé¢çš„chown</strong></p><ul><li>å°†abc.txtçš„ç»„æ¢æˆshaolinç»„</li></ul><p><code>chgrp shaolin /home/abc.txt</code></p><ul><li>å°†&#x2F;home&#x2F;testç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•çš„æ‰€æœ‰ç»„å…¨éƒ¨å˜æˆshaolinç»„</li></ul><p><code>chgrp -R shaolin /home/test</code></p><h2 id="ç»„çš„æ€»ç»“"><a href="#ç»„çš„æ€»ç»“" class="headerlink" title="ç»„çš„æ€»ç»“"></a>ç»„çš„æ€»ç»“</h2><ul><li>å¦‚æœæƒ³è¦å¯¹ç›®å½•çš„æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œ æˆ‘ä»¬å¿…é¡»å…ˆè·å¾—å¯¹åº”æ–‡ä»¶å¤¹çš„<strong>æ‰§è¡Œæƒé™</strong>ã€‚</li><li>å¦‚æœæˆ‘ä»¬æœ‰xæƒé™ï¼Œä½†æ˜¯æ²¡æœ‰ræƒé™ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶å¤¹ä¸èƒ½ç”¨<code>ls</code>æ“ä½œï¼Œ ä½†æ˜¯å¯ä»¥cdåˆ°è¿™ä¸ªæ–‡ä»¶ï¼ˆè€Œä¸”æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨<code>vim</code></li><li>å¯¹äºä¸€ä¸ªç›®å½•ï¼Œ å¦‚æœä½ æ²¡æœ‰wæƒé™ï¼Œ é‚£ä¹ˆä½ å°±ä¸èƒ½å°±ç›®å½•é‡Œçš„æ–‡ä»¶è¿›è¡Œ<strong>åˆ é™¤ï¼Œå’Œåˆ›å»ºæ–‡ä»¶</strong></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816783.png" alt="image-20230514160753450"></p><h1 id="crondä»»åŠ¡è°ƒåº¦"><a href="#crondä»»åŠ¡è°ƒåº¦" class="headerlink" title="crondä»»åŠ¡è°ƒåº¦"></a>crondä»»åŠ¡è°ƒåº¦</h1><ul><li>æŒ‡å®šç³»ç»Ÿåœ¨æŸä¸€ä¸ªæ—¶é—´è°ƒåº¦ã€‚</li><li>æŒ‡å®šç³»ç»Ÿå®šæ—¶è°ƒåº¦</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071042458.png" alt="image-20230514162502238"></p><ul><li>å ä½ç¬¦</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816211.png" alt="image-20230514162711101"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*/1 * * * * ls -l /etc/ &gt; /tmp/to.txtï¼ˆ*/1 ä»£è¡¨æ¯1minéƒ½æ‰§è¡Œä¸€æ¬¡ï¼‰</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071042105.png" alt="image-20230514163107233"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816458.png" alt="image-20230514163052523"></p><p><code>cd</code> åˆ°<code>/tmp/</code>é‡Œé¢ï¼Œå‘ç°ç”Ÿæˆäº†ä¸€ä¸ª<code>to.txt</code> ï¼Œ å¦‚æœæš‚æ—¶è¿˜æ²¡æœ‰ç”Ÿæˆï¼Œ æˆ‘ä»¬å¯ä»¥ç­‰ä¸€ä¼™</p><ul><li>æœ€åä¸€ä¸ª* ä»£è¡¨æ˜ŸæœŸå‡ </li></ul><h2 id="ç‰¹æ®Šç¬¦å·çš„è¯´æ˜"><a href="#ç‰¹æ®Šç¬¦å·çš„è¯´æ˜" class="headerlink" title="ç‰¹æ®Šç¬¦å·çš„è¯´æ˜"></a>ç‰¹æ®Šç¬¦å·çš„è¯´æ˜</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071042313.png" alt="image-20230514163727308"></p><ul><li>æ˜ŸæœŸå’Œæ—¥æœŸå°½é‡ä¸è¦åŒæ—¶é€‰</li></ul><h2 id="ä¸€ä¸ªå°çš„æ¡ˆä¾‹"><a href="#ä¸€ä¸ªå°çš„æ¡ˆä¾‹" class="headerlink" title="ä¸€ä¸ªå°çš„æ¡ˆä¾‹"></a>ä¸€ä¸ªå°çš„æ¡ˆä¾‹</h2><ul><li>æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªæ–‡æœ¬<code>my.sh</code>(è¿˜è¦æŠŠmyã€‚shçš„æƒé™ä¿®æ”¹ä¸ºæœ‰xï¼Œ chmod u+x)</li><li>vim my.sh è¾“å…¥<code>date &gt;&gt; /home/mycal</code>      <code>cal &gt;&gt; /home/mycal</code></li><li><code>crontab -e</code>  <code>*/1 * * * * my.sh</code></li><li>æœ€åæ•ˆæœä¸º</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816166.png" alt="image-20230514170338156"></p><h2 id="æ¡ˆä¾‹äºŒï¼ˆæˆ‘è¿˜æ²¡åšï¼Œåˆ°æ—¶å€™è£…äº†æ•°æ®åº“å†è¯´ï¼‰"><a href="#æ¡ˆä¾‹äºŒï¼ˆæˆ‘è¿˜æ²¡åšï¼Œåˆ°æ—¶å€™è£…äº†æ•°æ®åº“å†è¯´ï¼‰" class="headerlink" title="æ¡ˆä¾‹äºŒï¼ˆæˆ‘è¿˜æ²¡åšï¼Œåˆ°æ—¶å€™è£…äº†æ•°æ®åº“å†è¯´ï¼‰"></a>æ¡ˆä¾‹äºŒï¼ˆæˆ‘è¿˜æ²¡åšï¼Œåˆ°æ—¶å€™è£…äº†æ•°æ®åº“å†è¯´ï¼‰</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816170.png" alt="image-20230514171039076"></p><h2 id="å…¶ä»–crontabæŒ‡ä»¤"><a href="#å…¶ä»–crontabæŒ‡ä»¤" class="headerlink" title="å…¶ä»–crontabæŒ‡ä»¤"></a>å…¶ä»–crontabæŒ‡ä»¤</h2><ul><li>crontab -r ï¼š ç»ˆæ­¢ä»»åŠ¡è°ƒåº¦</li><li>crontab -lï¼šåˆ—å‡ºå½“å‰æœ‰é‚£äº›ä»»åŠ¡è°ƒåº¦</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816329.png" alt="image-20230514170957165"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071042556.png" alt="image-20230514170948449"></p><h2 id="atæŒ‡ä»¤"><a href="#atæŒ‡ä»¤" class="headerlink" title="atæŒ‡ä»¤"></a>atæŒ‡ä»¤</h2><ul><li><p>åŸºæœ¬ä»‹ç»</p></li><li><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071042287.png" alt="image-20230514171200073"></p></li><li><p>æ‹“å±• ï¼šps -ef æ£€æµ‹å½“å‰çš„è¿›ç¨‹</p><ul><li>ç»“åˆè¿‡æ»¤è¯­å¥å¯ä»¥æŸ¥çœ‹æ˜¯å¦å­˜åœ¨atd<code>ps -ef | grep atd</code></li></ul></li></ul><p>at<strong>å‘½ä»¤é€‰é¡¹</strong></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816074.png" alt="image-20230514171801752"></p><ul><li>atçš„æ—¶é—´å®šä¹‰</li><li></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071042445.png" alt="image-20230514172118480"></p><ul><li>å…ˆè¾“å…¥æ—¶é—´æŒ‡ä»¤</li><li>ç„¶åå†è¾“å…¥å‘½ä»¤æŒ‡ä»¤</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071042679.png" alt="image-20230514173315561"></p><ul><li>è¦é€€å‡ºçš„è¯ï¼Œè¿ç»­æ•²å‡»<code>ctrl + D</code></li></ul><blockquote><p>atqå¯ä»¥æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ‰§è¡Œå·¥ä½œä»»åŠ¡</p></blockquote><blockquote><p>å†è¾“å…¥å‘½ä»¤çš„æ—¶å€™ï¼Œæ‰“é”™äº†è¦è¾“å…¥ctrl + backspace</p></blockquote><blockquote><p>åˆ é™¤ä¸€ä¸ªatè¿›ç¨‹ï¼Œ atrm 5(5 æ˜¯ä»–å¯¹åº”çš„ç¼–å·)</p></blockquote><h1 id="linux-ç£ç›˜åˆ†åŒº"><a href="#linux-ç£ç›˜åˆ†åŒº" class="headerlink" title="linux ç£ç›˜åˆ†åŒº"></a>linux ç£ç›˜åˆ†åŒº</h1><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816274.png" alt="image-20230515153704104"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071042640.png" alt="image-20230515153925596"></p><ul><li><p>æŒ‚è½½ ï¼ˆmountï¼‰ï¼š</p><p>lsblk  <strong>æŸ¥çœ‹æŒ‚è½½å†…å®¹</strong><br>lsblk -f æŸ¥çœ‹æŒ‚è½½</p></li><li><p>åˆ†åŒºï¼ˆIDEç¡¬ç›˜ å’ŒSCSIç¡¬ç›˜ï¼‰ç›®å‰åŸºæœ¬ä¸Šéƒ½æ˜¯SCSIç¡¬ç›˜</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071042982.png" alt="image-20230515154509526"></p><ul><li>uuid åˆ†åŒºçš„å”¯ä¸€æ ‡è¯†ç¬¦</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816233.png" alt="image-20230515155025026"></p><h2 id="å¢åŠ ç¡¬ç›˜ç¤ºä¾‹"><a href="#å¢åŠ ç¡¬ç›˜ç¤ºä¾‹" class="headerlink" title="å¢åŠ ç¡¬ç›˜ç¤ºä¾‹"></a>å¢åŠ ç¡¬ç›˜ç¤ºä¾‹</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071042420.png" alt="image-20230515155108654"></p><blockquote><p>æ–°å¢ä¸€ä¸ªnewdiskï¼Œ ç„¶åæŠŠä»–æŒ‚è½½åˆ°åˆ†åŒº1</p></blockquote><ul><li><p>å¢åŠ ä¸€ä¸ªå¿«ç¡¬ç›˜(å³å‡»å¯¹åº”è™šæ‹Ÿæœºï¼Œ ç„¶åç‚¹å‡»ç¡¬ç›˜æ·»åŠ ã€‚)</p></li><li><p>åˆ†åŒºæŒ‡ä»¤ <code>fdisk /dev/?</code></p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071042589.png" alt="image-20230515155747169"></p><ul><li>ä¹‹åè¿˜éœ€è¦å†è¿›è¡Œæ ¼å¼åŒ– ï¼Œ å…·ä½“æ“ä½œä¸º</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816596.png" alt="image-20230515160027830"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816608.png" alt="image-20230515160431126"></p><p><strong>æŒ‚è½½</strong></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071042826.png" alt="image-20230515160535402"></p><p><strong>å¸è½½</strong></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816154.png" alt="image-20230515160719390"></p><ul><li><p>å¦‚æœåˆ©ç”¨å‘½ä»¤è¡ŒæŒ‚è½½ï¼Œé‡å¯ä¹‹åï¼Œä¹‹å‰æŒ‚è½½çš„å†…å®¹ä¼šå¤±æ•ˆ</p><p>æƒ³è¦æ°¸ä¹…æŒ‚è½½</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816490.png" alt="image-20230515160917755"></p></li></ul><p>â€‹       å°†ä½ è¦æŒ‚è½½çš„å†…å®¹åŠ å…¥åˆ°é‡Œé¢</p><p>â€‹      ç¬¬ä¸€ä¸ªæ•°å­—ï¼š0&#x2F;1 &#x3D; å¤‡ä»½&#x2F;ä¸å¤‡ä»½ï¼Œç¬¬äºŒä¸ªæ•°å­—ï¼š2&#x2F;1&#x2F;0 &#x3D; æ ¹ç›®å½•&#x2F;å…¶ä»–ç›®å½•æ–‡ä»¶æ£€æŸ¥&#x2F;ä¸æ£€    æŸ¥</p><p>â€‹     <img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816805.png" alt="image-20230515161206690"></p><ul><li>å¯¹äºç¬¬ä¸€ä¸ªä½ç½® ï¼Œä½ å¯ä»¥å¡«å†™<strong>uuid</strong>ï¼Œ ä¹Ÿå¯ä»¥å†™å®ƒçš„<strong>åœ°å€</strong> ï¼Œç¬¬äºŒä¸ªä½ç½®ä¸ºæŒ‚è½½åˆ°çš„åœ°ç‚¹ï¼Œ åé¢å‡ ä¸ªå°±å…ˆç…§æŠ„æˆ‘ä»¬è¿˜æ²¡æœ‰å­¦</li></ul><h2 id="ç£ç›˜æƒ…å†µæŸ¥è¯¢"><a href="#ç£ç›˜æƒ…å†µæŸ¥è¯¢" class="headerlink" title="ç£ç›˜æƒ…å†µæŸ¥è¯¢"></a>ç£ç›˜æƒ…å†µæŸ¥è¯¢</h2><p><code>df -h</code> æŸ¥çœ‹ç£ç›˜çš„æƒ…å†µ</p><ul><li><p>å¦‚æœä½¿ç”¨ç‡è¶…è¿‡äº†80%ï¼Œé‚£ä¹ˆéœ€è¦æ¸…ç†ç¡¬ç›˜ï¼Œæˆ–è€…å¢åŠ ç¡¬ç›˜</p></li><li><p>æŸ¥çœ‹æŒ‡å®šç›®å½•çš„ç£ç›˜å ç”¨æƒ…å†µï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•</p></li><li><p>ä½¿ç”¨<code>du -h --max-depth=1æ¥æŸ¥çœ‹ç£ç›˜çš„æ–‡ä»¶ä¸ªæ•°</code></p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816907.png" alt="image-20230515162009026"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816976.png" alt="image-20230515162456559"></p><h2 id="ç£ç›˜æƒ…å†µ-å®ç”¨å‘½ä»¤"><a href="#ç£ç›˜æƒ…å†µ-å®ç”¨å‘½ä»¤" class="headerlink" title="ç£ç›˜æƒ…å†µ-å®ç”¨å‘½ä»¤"></a>ç£ç›˜æƒ…å†µ-å®ç”¨å‘½ä»¤</h2><ul><li>ç»Ÿè®¡optç›®å½•ä¸‹æ–‡ä»¶ä¸ªæ•°</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816032.png" alt="image-20230515162722318"></p><p>grepè¿‡æ»¤ï¼Œ å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œ â€œ^-â€œ ä»£è¡¨åŒ¹é…å‰é¢ä¸ºâ€-â€œçš„å­—ç¬¦ä¸²</p><ul><li>ç»Ÿè®¡optæ–‡ä»¶å¤¹ä¸‹ç›®å½•çš„ä¸ªæ•°</li></ul><p>grepè¿‡æ»¤ ï¼Œ å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œâ€^.â€ä»£è¡¨åŒ¹é…å‰é¢ä»»æ„ä¸€ä¸ªå­—ç¬¦ä¸²</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816176.png" alt="image-20230515162943471"></p><ul><li><p>ç»Ÿè®¡&#x2F;optæ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶çš„ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶å¤¹é‡Œçš„</p><p><strong>ls -lR &#x2F;opt ç›®å½•ä¸‹å…¨éƒ¨æ–‡ä»¶ï¼Œ wc -lå¯ä»¥ç»Ÿè®¡ä¸ªæ•°</strong></p><p>ls -lR &#x2F;opt | grep â€œ^.â€ | wc -l</p></li><li><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816291.png" alt="image-20230515163443478"></p></li><li><p>treeå¯ä»¥æ˜¾ç¤ºæ–‡ä»¶å†…çš„æ‰€æœ‰å†…å®¹ï¼Œ ä½†æ˜¯è¦ä¸‹è½½<code>sudo yum install tree</code></p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071043890.png" alt="image-20230515163726702"></p><h1 id="NATç½‘ç»œåŸç†å›¾"><a href="#NATç½‘ç»œåŸç†å›¾" class="headerlink" title="NATç½‘ç»œåŸç†å›¾"></a>NATç½‘ç»œåŸç†å›¾</h1><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816734.png" alt="image-20230515165045620"></p><p>vmnet8å¯ä»¥è·Ÿlinuxè™šæ‹Ÿæœºé€šè®¯</p><p>ä½†æ˜¯è™šæ‹Ÿæœº<strong>ä¸èƒ½ping vmnet8</strong> ï¼Œæ˜¯å› ä¸º<strong>windows</strong>é‡Œé¢ä¼šæœ‰é˜²ç«å¢™</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071043253.png" alt="image-20230515165525475"></p><p>èƒ½ä¸Šç½‘ï¼Œ æ˜¯å› ä¸º<strong>æ— çº¿ç½‘å¡</strong>åšäº†<strong>ä»£ç†</strong></p><h2 id="æŸ¥çœ‹ç½‘ç»œipå’Œä»£ç†"><a href="#æŸ¥çœ‹ç½‘ç»œipå’Œä»£ç†" class="headerlink" title="æŸ¥çœ‹ç½‘ç»œipå’Œä»£ç†"></a>æŸ¥çœ‹ç½‘ç»œipå’Œä»£ç†</h2><p>è‡ªè¡Œçœ‹65é›†å°±å¥½</p><h2 id="linuxç½‘ç»œç¯å¢ƒé…ç½®"><a href="#linuxç½‘ç»œç¯å¢ƒé…ç½®" class="headerlink" title="linuxç½‘ç»œç¯å¢ƒé…ç½®"></a>linuxç½‘ç»œç¯å¢ƒé…ç½®</h2><ul><li>è‡ªåŠ¨è·å–ï¼Œ ç™»å½•ä¹‹åipåœ°å€å°±ä¼šå‘ç”Ÿæ”¹å˜</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071043372.png" alt="image-20230515170707217"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816092.png" alt="image-20230515170918777"></p><p>ä»è‡ªåŠ¨åˆ†é…å˜æˆstatic</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816304.png" alt="image-20230516151017037"></p><ul><li><p>è¿™ä¸€èŠ‚å°±æ˜¯æ•™ä½ æ€ä¹ˆä¿®æ”¹æˆé™æ€ipçš„</p></li><li><p>ç½‘ç»œæœåŠ¡ç”Ÿæ•ˆ <strong>service network restart</strong> æˆ–è€…é€‰æ‹© <strong>reboot</strong></p></li></ul><h1 id="è®¾ç½®ä¸»æœºå-å’Œhostsæ˜ å°„"><a href="#è®¾ç½®ä¸»æœºå-å’Œhostsæ˜ å°„" class="headerlink" title="è®¾ç½®ä¸»æœºå å’Œhostsæ˜ å°„"></a>è®¾ç½®ä¸»æœºå å’Œhostsæ˜ å°„</h1><ul><li><p>hostname - æŸ¥çœ‹å½“å‰ä¸»æœºå</p></li><li><p>ä¿®æ”¹ä¸»æœºçš„åå­—<code>vim /etc/hostname</code></p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816399.png" alt="image-20230516142523551"></p><ul><li><p>é‚£ä¹ˆå¦‚ä½•é€šè¿‡ä¸»æœºåæ¥æŸ¥æ‰¾ä¸»æœº</p></li><li><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816769.png" alt="image-20230516143434265"></p></li><li><p>ä½ åªè¦åœ¨etc&#x2F;hostsé‡Œé¢å†™å…¥ipåœ°å€ç©ºæ ¼ä¸»æœºåï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡ä¸»æœºåæ¥è®¿é—®äº†</p></li></ul><p>å®ƒçš„åŸç†ä¸ºå¦‚ä¸‹</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311071043820.png" alt="image-20230516143942597"></p><ul><li><strong>å…ˆæ‰¾ç½‘ç»œåŸŸåæœåŠ¡å™¨ï¼Œ åœ¨æŒ‰ç…§è¯¥å›¾æ¥è¿›è¡Œä¿®æ”¹</strong></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816020.png" alt="image-20230516144200859"></p><ul><li>å¦‚æœæŸä¸ªäººæŠŠä½ çš„etc&#x2F;hostsä¿®æ”¹ä¸ºå¦‚ä¸‹ä¿¡æ¯ï¼Œ é‚£ä¹ˆå°±ä¼šå‡ºç°dnsåŸŸååŠ«æŒ</li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230516144340815.png" alt="image-20230516144340815"></p><ul><li>æŸ¥çœ‹ä¸€ä¸ªç½‘ç«™çš„ipåœ°å€å¯ä»¥ä½¿ç”¨ping ç½‘ç«™åç§°</li></ul><p>æƒ³è¦ä¿®æ”¹hostsæ–‡ä»¶ï¼Œå¯ä»¥ç”¨è®°äº‹æœ¬ç®¡ç†å‘˜æ¨¡å¼æ‰“å¼€ï¼Œ ç„¶åæ‰“å¼€åˆ°<code>C:\Windows\System32\drivers\etc\hosts</code></p><h1 id="Linuxè¿›ç¨‹"><a href="#Linuxè¿›ç¨‹" class="headerlink" title="Linuxè¿›ç¨‹"></a>Linuxè¿›ç¨‹</h1><p><code>pid</code>: è¿›ç¨‹å·ï¼ˆæ¯ä¸€ä¸ªç¨‹åºåˆ†é…ä¸€ä¸ªIDå·ï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816242.png" alt="image-20230516151848444"></p><h2 id="æ˜¾ç¤ºç³»ç»Ÿçš„æ‰§è¡Œè¿›ç¨‹"><a href="#æ˜¾ç¤ºç³»ç»Ÿçš„æ‰§è¡Œè¿›ç¨‹" class="headerlink" title="æ˜¾ç¤ºç³»ç»Ÿçš„æ‰§è¡Œè¿›ç¨‹"></a>æ˜¾ç¤ºç³»ç»Ÿçš„æ‰§è¡Œè¿›ç¨‹</h2><h3 id="psæŒ‡ä»¤"><a href="#psæŒ‡ä»¤" class="headerlink" title="psæŒ‡ä»¤"></a>psæŒ‡ä»¤</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816621.png" alt="image-20230516151949132"></p><blockquote><p>User ä»£è¡¨è¿›ç¨‹ç”¨æˆ·å</p><p>CPU ç¨‹åºå ç”¨CPUç™¾åˆ†æ¯”</p><p>MEM å ç”¨å®é™…ç‰©ç†å†…å­˜çš„ç™¾åˆ†æ¯”</p><p>YSZ å ç”¨è™šæ‹Ÿå†…å­˜çš„å¤§å°ï¼ˆKBï¼‰å•ä½ï¼Œ ä¸‹é¢é‚£ä¸ªä¹Ÿæ˜¯</p><p>VSZ å ç”¨ç‰©ç†å†…å­˜çš„å¤§å°ï¼ˆKBï¼‰å•ä½ï¼Œ</p><p>STAT å½“å‰è¿è¡Œçš„çŠ¶æ€ <strong>sä»£è¡¨ä¼‘çœ </strong>ï¼Œ <strong>ræ­£åœ¨è¿è¡Œ</strong>    <strong>Z åƒµå°¸è¿›ç¨‹</strong>    <strong>T è¢«è·Ÿè¸ªæˆ–è€…åœæ­¢</strong> <strong>DçŸ­æœŸç­‰å¾…</strong></p><p>start è¿›ç¨‹çš„å¼€å§‹æ—¶é—´</p><p>TIME å ç”¨çš„cpuæ—¶é—´</p><p>command å¯åŠ¨è¿™ä¸ªè¿›ç¨‹çš„åå­—ï¼ˆä¹Ÿå°±æ˜¯è¿›ç¨‹ï¼‰</p><p>TTY ç»ˆç«¯çš„åç§° ï¼Œ ç¼©å†™</p></blockquote><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230516152346986.png" alt="image-20230516152346986"></p><h2 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h2><ul><li>è¦æ±‚ä»¥å…¨æ ¼å¼æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹ï¼Œ å·²ç»è¿›ç¨‹çš„çˆ¶è¿›ç¨‹</li></ul><p><code>ps -ef</code></p><p><strong>-eæ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ -få…¨æ ¼å¼</strong></p><p>ppid <strong>ä»£è¡¨çˆ¶è¿›ç¨‹</strong>ï¼Œ çˆ¶è¿›ç¨‹ä¸º0 ä»£è¡¨æ²¡æœ‰çˆ¶è¿›ç¨‹</p><p>sshd çˆ¶è¿›ç¨‹ä¿¡æ¯</p><p><code>ps -ef | more sshd</code></p><h2 id="ç»ˆæ­¢è¿›ç¨‹"><a href="#ç»ˆæ­¢è¿›ç¨‹" class="headerlink" title="ç»ˆæ­¢è¿›ç¨‹"></a>ç»ˆæ­¢è¿›ç¨‹</h2><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230516153714487.png" alt="image-20230516153714487"></p><p>killallä¼šæŠŠå­è¿›ç¨‹ä¹Ÿç»™å¹²æ‰</p><h3 id="å››ä¸ªå®è·µ"><a href="#å››ä¸ªå®è·µ" class="headerlink" title="å››ä¸ªå®è·µ"></a>å››ä¸ªå®è·µ</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816223.png" alt="image-20230516153837280"></p><ul><li>è¸¢æ‰æŸä¸€ä¸ªç”¨æˆ· ï¼ˆæ³¨æ„ä¸èƒ½ç”¨rootçš„æ—¶å€™ç”¨<code>su -alan</code>,è¦ç›´æ¥æ–°å¼€ä¸€ä¸ªshellæ¥ç™»å½•<ul><li>ps -aux | grep sshd</li></ul></li><li>ç»ˆæ­¢è¿œç¨‹ç™»å½•æœåŠ¡<ul><li><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816286.png" alt="image-20230516155231085"></li><li>è¿™ä¸ªè¿›ç¨‹å·ä»£è¡¨xshellçš„è¿›ç¨‹</li><li>é‡æ–°å¯åŠ¨æŒ‡ä»¤ &#x2F;bin&#x2F;systemctl start sshd.service</li></ul></li><li>ç»ˆæ­¢å¤šä¸ªgedit   <code>killall gedit</code></li><li>å¼ºåˆ¶åˆ é™¤ä¸€ä¸ªè¿›ç¨‹ï¼ˆå› ä¸ºæœ‰ä¸€äº›è¿›ç¨‹æ€ä¸æ‰ï¼‰ kill -9 xxxx</li></ul><h3 id="æŸ¥çœ‹è¿›ç¨‹æ ‘pstree"><a href="#æŸ¥çœ‹è¿›ç¨‹æ ‘pstree" class="headerlink" title="æŸ¥çœ‹è¿›ç¨‹æ ‘pstree"></a>æŸ¥çœ‹è¿›ç¨‹æ ‘pstree</h3><p>pstree æ˜¾ç¤ºè¿›ç¨‹</p><ul><li><p>é€‰é¡¹</p><ul><li><p>-p æ˜¾ç¤ºè¿›ç¨‹å·</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816791.png" alt="image-20230516155543174"></p></li><li><p>-u æ˜¾ç¤ºè¿›ç¨‹çš„ç”¨æˆ·ä¿¡æ¯</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816804.png" alt="image-20230516155607212"></p></li></ul></li></ul><h2 id="æœåŠ¡è¿›ç¨‹"><a href="#æœåŠ¡è¿›ç¨‹" class="headerlink" title="æœåŠ¡è¿›ç¨‹"></a>æœåŠ¡è¿›ç¨‹</h2><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230516155900357.png" alt="image-20230516155900357"></p><ul><li>æŒ‡ä»¤</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816991.png" alt="image-20230516155848640"></p><ul><li>etc&#x2F;init.dè¿˜å¯ä»¥é€šè¿‡è¯¥æŒ‡ä»¤æŸ¥çœ‹</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816171.png" alt="image-20230516160002842"></p><p>åœæ­¢æ‰ç½‘ç»œæœåŠ¡ä¹‹åï¼Œ å°±ä¸èƒ½å¤Ÿåœ¨è¿æ¥xshell</p><p><code>service network stop</code>: å¯ä»¥è®©xshellè¿æ¥ä¸åˆ°æœåŠ¡å™¨</p><p><code>service network restart</code>ï¼š xshellè¿æ¥ä¸Š</p><h3 id="æ‰“å¼€å’Œå…³é—­è‡ªå¯åŠ¨"><a href="#æ‰“å¼€å’Œå…³é—­è‡ªå¯åŠ¨" class="headerlink" title="æ‰“å¼€å’Œå…³é—­è‡ªå¯åŠ¨"></a>æ‰“å¼€å’Œå…³é—­è‡ªå¯åŠ¨</h3><p><code>setup</code>æ‰“å¼€è¿™ä¸ªç®¡ç†ç•Œé¢</p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230516160327392.png" alt="image-20230516160327392"></p><ul><li><p>å¸¦ä¸Š<code>*</code>å·çš„ä¼šè‡ªå¯åŠ¨</p></li><li><p>å–æ¶ˆæ˜Ÿå· æ‘ä¸‹ç©ºæ ¼</p></li><li><p>tabç§»åŠ¨å…‰æ ‡æ¥é€€å‡º</p></li></ul><h3 id="è¿è¡Œçº§åˆ«"><a href="#è¿è¡Œçº§åˆ«" class="headerlink" title="è¿è¡Œçº§åˆ«"></a>è¿è¡Œçº§åˆ«</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816614.png" alt="image-20230516170223204"></p><ul><li>å¤šæ•°é€‰æ‹©3</li></ul><h3 id="chkconfigæŒ‡ä»¤"><a href="#chkconfigæŒ‡ä»¤" class="headerlink" title="chkconfigæŒ‡ä»¤"></a>chkconfigæŒ‡ä»¤</h3><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230516170629907.png" alt="image-20230516170629907"></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230516171056890.png" alt="image-20230516171056890"></p><ul><li>è¾“å…¥chkconfig â€“level 3 network off æ¥å…³é—­æŸä¸ªçº§åˆ«çš„ç½‘ç»œæœåŠ¡</li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230516171101595.png" alt="image-20230516171101595"></p><p>æ•²å‡»chkconfig â€“level 3 network onä¹‹å</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816319.png" alt="image-20230516171233340"></p><h2 id="systemctlæŒ‡ä»¤ï¼ˆæ˜å¤©å­¦ï¼‰-åå¤©ï¼ˆæ˜¨å¤©æ¸¸æ³³äº†ï¼‰-swimmer"><a href="#systemctlæŒ‡ä»¤ï¼ˆæ˜å¤©å­¦ï¼‰-åå¤©ï¼ˆæ˜¨å¤©æ¸¸æ³³äº†ï¼‰-swimmer" class="headerlink" title="systemctlæŒ‡ä»¤ï¼ˆæ˜å¤©å­¦ï¼‰&#x2F; åå¤©ï¼ˆæ˜¨å¤©æ¸¸æ³³äº†ï¼‰:swimmer:"></a>systemctlæŒ‡ä»¤ï¼ˆæ˜å¤©å­¦ï¼‰&#x2F; åå¤©ï¼ˆæ˜¨å¤©æ¸¸æ³³äº†ï¼‰:swimmer:</h2><ul><li>åŸºæœ¬æŒ‡ä»¤</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816440.png" alt="image-20230518154330934"></p><p> å®ƒçš„æŒ‡ä»¤ç®¡ç†çš„æœåŠ¡åœ¨<code>/usr/lib/systemd/system</code> æŸ¥çœ‹</p><ul><li>firewalld.service  <strong>é˜²ç«å¢™çš„åç§°</strong></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816061.png" alt="image-20230518154259349"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816074.png" alt="image-20230518154312007"></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518154424204.png" alt="image-20230518154424204"></p><ul><li>systemctl [start | stop | restart | status] æœåŠ¡å</li></ul><p>systemctl status firewalld æŸ¥çœ‹é˜²ç«å¢™çš„çŠ¶æ€</p><ul><li>å¦‚æœæƒ³è¦å°†æŸä¸ªä¸œè¥¿å¯ä»¥å…³é—­æˆ–è€…å¼€å¯è‡ªå¯åŠ¨ï¼Œè¦ç”¨enableæˆ–è€…disable</li></ul><h3 id="é˜²ç«å¢™çš„åŸç†"><a href="#é˜²ç«å¢™çš„åŸç†" class="headerlink" title="é˜²ç«å¢™çš„åŸç†"></a>é˜²ç«å¢™çš„åŸç†</h3><blockquote><p>é˜²ç«å¢™å¯ä»¥ç†è§£ä¸ºç­›å­ï¼Œé€šè¿‡é¢„å…ˆè®¾ç½®çš„å¤§å°ï¼Œæ¥è¿‡æ»¤æ‰ä¸ç¬¦åˆå°ºå¯¸çš„æœåŠ¡</p></blockquote><ul><li>æ²¡æœ‰é˜²ç«å¢™çš„æ—¶å€™ï¼Œ å¤–é¢çš„ä¸œè¥¿å°±å¯ä»¥éšä¾¿è¿›å…¥</li></ul><h3 id="é˜²ç«å¢™"><a href="#é˜²ç«å¢™" class="headerlink" title="é˜²ç«å¢™"></a>é˜²ç«å¢™</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816287.png" alt="image-20230724122724783"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816308.png" alt="image-20230724122807869"></p><ul><li><strong>æ‰“å¼€æˆ–è€…å…³é—­ç«¯å£</strong>ä½†æ˜¯åŒæ—¶ä¸å…³é—­é˜²ç«å¢™</li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518160030406.png" alt="image-20230518160030406"></p><p> æŸ¥çœ‹åè®® netstat -anp | more ,æœ€å·¦ä¾§çš„æ•°æ®å°±æ˜¯åè®®</p><p>åœ¨ä¿®æ”¹ç«¯å£çŠ¶æ€ä¹‹åï¼Œè¿˜æœ‰<strong>é‡æ–°è½½å…¥</strong></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816001.png" alt="image-20230518160249899"></p><p><code>firewall-cmd --permanent --add-port=111/tcp</code> æ³¨æ„è¿™é‡Œçš„firewallç»“å°¾æ˜¯æ²¡æœ‰dçš„</p><p><code>firewall-cmd --reload</code></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816016.png" alt="image-20230518160752435"></p><ul><li><p>æŸ¥çœ‹é˜²ç«å¢™æ˜¯å¦å­˜åœ¨</p><p>firewall-cmd â€“query-port&#x3D;111&#x2F;tcp</p></li><li><p>å…³é—­ä¹‹å</p></li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518160902340.png" alt="image-20230518160902340"></p><blockquote><p>é˜²ç«å¢™æ˜¯ yes æ‰èƒ½å¤Ÿè¢«è®¿é—®åˆ°</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816233.png" alt="image-20230625112314948"></p><hr><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230625112324723.png" alt="image-20230625112324723"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816882.png" alt="image-20230625112425647"></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230625112438681.png" alt="image-20230625112438681"></p><h2 id="åŠ¨æ€ç›‘æ§è¿›ç¨‹"><a href="#åŠ¨æ€ç›‘æ§è¿›ç¨‹" class="headerlink" title="åŠ¨æ€ç›‘æ§è¿›ç¨‹"></a>åŠ¨æ€ç›‘æ§è¿›ç¨‹</h2><p>topæŒ‡ä»¤ ï¼Œ ä¸åŒäº<strong>ps</strong> ï¼Œä»–æ˜¯<strong>åŠ¨æ€çš„ç›‘æ§</strong></p><p>é€‰é¡¹</p><p>-d ç§’æ•° æŒ‡å®štopå‘½ä»¤æ¯éš”<strong>å‡ ç§’é’Ÿæ›´æ–°</strong>ï¼Œé»˜è®¤æ˜¯3ç§’</p><p>-i ä½¿å¾—topä¸æ˜¾ç¤º<strong>ä»»ä½•é—²ç½®æˆ–è€…åƒµæ­»</strong>çš„è¿›ç¨‹</p><p>-p é€šè¿‡æŒ‡å®šç›‘æ§è¿›ç¨‹idæ¥ä»…ä»…<strong>ç›‘æ§æŸä¸ªè¿›ç¨‹çš„çŠ¶æ€</strong></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816940.png" alt="image-20230518161751226"></p><p>é€šè¿‡æŒ‡å®šç›‘æ§è¿›ç¨‹id</p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518161610873.png" alt="image-20230518161610873"></p><blockquote><p>ç¬¬ä¸€ä¸ªæ•°å­—ä»£è¡¨ç³»ç»Ÿæ—¶é—´</p><p>ç¬¬äºŒä¸ªæ•°å­—ä»£è¡¨è¿è¡Œæ—¶é—´</p><p>ç¬¬ä¸‰ä¸ªä»£è¡¨ä½¿ç”¨çš„ç”¨æˆ·</p><p>ç¬¬å››ä¸ªä»£è¡¨è´Ÿè½½å‡è¡¡ï¼ˆä¸‰ä¸ªè´Ÿè½½åŠ èµ·æ¥ï¼Œé™¤ä»¥3 ã€‹ 0.7è¯´æ˜ç”µè„‘é…ç½®è¦å‡çº§ä¸€ä¸‹äº†ï¼‰</p></blockquote><ul><li>äº¤äº’æ“ä½œè¯´æ˜</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816192.png" alt="image-20230518162103794"></p><ul><li><p>ç›‘æ§xxxç”¨æˆ·ï¼Œ æ–¹æ³• ï¼š <strong>å…ˆè¾“å…¥top å›è½¦ï¼Œ ç„¶åå†è¾“å…¥<code>u</code>  åœ¨è¾“å…¥ç”¨æˆ·åï¼Œå›è½¦å³å¯</strong></p><p>ä¹‹å‰æ²¡æœ‰alanè¿›ç¨‹ï¼Œä½†æ˜¯æˆ‘ä»¬åˆç™»å½•äº†alanå°±æ–°å¢äº†ä¸€ä¸ªè¿›ç¨‹</p></li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518163032902.png" alt="image-20230518163032902"></p><ul><li><p>ç»ˆæ­¢æŒ‡å®šè¿›ç¨‹ æ–¹æ³• ï¼š è¾“å…¥topå›è½¦ï¼Œ ç„¶åå†è¾“å…¥kå›è½¦ï¼Œ å†è¾“å…¥è¦ç»“æŸçš„idè¿›ç¨‹å·</p></li><li><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518163231249.png" alt="image-20230518163231249"></p></li><li><p>å†æŒ‰ä¸‹9ï¼Œ å¼ºåˆ¶åˆ é™¤ï¼ˆå‹å·é‡ï¼‰</p></li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518163244507.png" alt="image-20230518163244507"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816101.png" alt="image-20230518163323100"></p><h2 id="netstatæŒ‡ä»¤"><a href="#netstatæŒ‡ä»¤" class="headerlink" title="netstatæŒ‡ä»¤"></a>netstatæŒ‡ä»¤</h2><p>è¾“å…¥ <code>netstat -an</code></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518163519203.png" alt="image-20230518163519203"></p><p>proto : åè®®</p><p><code>netstat -anp</code> ä¼šæ›´åŠ è¯¦ç»†ï¼ˆä¼šæ˜¾ç¤ºå“ªä¸ªè¿›ç¨‹å†è°ƒç”¨ï¼‰</p><h3 id="local-address-and-foreign-addressä¹‹é—´çš„å…³ç³»"><a href="#local-address-and-foreign-addressä¹‹é—´çš„å…³ç³»" class="headerlink" title="local address and foreign addressä¹‹é—´çš„å…³ç³»"></a>local address and foreign addressä¹‹é—´çš„å…³ç³»</h3><p>localæ˜¯linuxçš„åœ°å€ï¼Œ foreignæ˜¯windosçš„åœ°å€ï¼ˆè¿™é‡Œè¦çœ‹æœ¬æœºçš„æƒ…å†µè€Œå®šï¼‰</p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518164139574.png" alt="image-20230518164139574"></p><ul><li>å¦‚æœå…³é—­è¿æ¥ä¹‹å</li><li>çŠ¶æ€æ˜¯å…ˆå˜æˆtime-Wait åé¢æ‰ä¼šæ²¡æœ‰ï¼ˆå› ä¸ºtcpåè®®ä¼šæš‚æ—¶ä»¥ä¸ºæ˜¯åªæ˜¯ç½‘ç»œä¸å¥½ï¼‰</li><li>æŸ¥çœ‹sshdæœåŠ¡çš„ä¿¡æ¯ <code>netstat -anp | grep ssh</code></li></ul><h2 id="rpmç®¡ç†"><a href="#rpmç®¡ç†" class="headerlink" title="rpmç®¡ç†"></a>rpmç®¡ç†</h2><ul><li>ä»‹ç»</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816493.png" alt="image-20230518164911922"></p><p><code>rpm -qa | grep xx</code> æŸ¥è¯¢å·²å®‰è£…çš„rpmåˆ—è¡¨</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816500.png" alt="image-20230518165010229"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816515.png" alt="image-20230518165023300"></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518165152222.png" alt="image-20230518165152222"></p><p><code>rpm -q firefox</code></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816052.png" alt="image-20230518165228534"></p><p><code>rpm -qi firefox</code></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518165319466.png" alt="image-20230518165319466"></p><p><code>rpm -al firefox</code></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816351.png" alt="image-20230518165424630"></p><ul><li><p><strong>æŸ¥è¯¢æ–‡ä»¶æ‰€å±çš„åŒ…</strong></p><p>rpm -qf &#x2F;etc&#x2F;passwd</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816588.png" alt="image-20230518165710126"></p><ul><li>åˆ é™¤rpmåŒ…</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816935.png" alt="image-20230518165807424"></p><p> å¼ºåˆ¶åˆ é™¤ <strong>$rpm -e â€“nodeps foo</strong>  å› ä¸ºå­˜åœ¨å…¶ä»–è½¯ä»¶ï¼Œéœ€è¦ä¾èµ–äºè¿™ä¸ªå®‰è£…åŒ…</p><ul><li><p>å®‰è£…rpmåŒ…</p><p>rpm -ivh RPMåŒ…å…¨è·¯å¾„åç§°</p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518170005403.png" alt="image-20230518170005403"></p></li></ul><h2 id="yumæŒ‡ä»¤"><a href="#yumæŒ‡ä»¤" class="headerlink" title="yumæŒ‡ä»¤"></a>yumæŒ‡ä»¤</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816342.png" alt="image-20230518170511733"></p><p><code>yum list | grep xx</code>æŸ¥çœ‹yumæœåŠ¡å™¨æ˜¯å¦åˆéœ€è¦å®‰è£…çš„è½¯ä»¶</p><p><code>yum install xxx</code>ä¸‹è½½å®‰è£…</p><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><ul><li><p>tomcat å®‰è£…</p><p>æ­¥éª¤å¦‚ä¸‹ï¼š</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816428.png" alt="image-20230519150409019"></p><p><code>[Apache Tomcat/8.5.88](http://192.168.202.138:8080/)</code></p><p>ç„¶åå°±å¯ä»¥è®¿é—®äº†</p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230519152248621.png" alt="image-20230519152248621"></p><ul><li>åœ¨apa &#x2F;&#x2F; çš„webapps çš„rootä¸­è¾“å…¥æ–‡ä»¶</li></ul><p><a href="http://192.168.202.138:8080/wjh.html">192.168.202.138:8080&#x2F;wjh.html</a></p><p><code>/opt/tomcat/apache-tomcat-8.5.88/bin</code>,å®ƒçš„è·¯å¾„ä¸º</p><ul><li>æ³¨æ„<strong>ä½¿ç”¨ä¹‹å‰</strong>è¦å…ˆå¼€å¯<code>./startup.sh</code></li></ul><h2 id="mysqlå®‰è£…"><a href="#mysqlå®‰è£…" class="headerlink" title="mysqlå®‰è£…"></a>mysqlå®‰è£…</h2><p>ä¸‹è½½æ–‡ä»¶ï¼š</p><p><code>[wget](https://so.csdn.net/so/search?q=wget&amp;spm=1001.2101.3001.7020) http://dev.mysql.com/get/mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar</code></p><p><a href="https://blog.csdn.net/Tommy__li/article/details/127080007">(65æ¡æ¶ˆæ¯) éŸ©é¡ºå¹³â€”â€”linuxä¸‹çš„mysqlå®‰è£…è¿‡ç¨‹ï¼ˆå®Œå…¨æŒ‰ç…§è§†é¢‘æµç¨‹æ¥çš„ï¼‰æˆåŠŸç‰ˆ_å¿«ä¹æœ¬ä¹çš„åšå®¢-CSDNåšå®¢</a></p><p>å¯ä»¥å‚è€ƒä»¥ä¸Šé“¾æ¥å®‰è£…</p><h2 id="shellç¼–ç¨‹å¿«é€Ÿå…¥é—¨"><a href="#shellç¼–ç¨‹å¿«é€Ÿå…¥é—¨" class="headerlink" title="shellç¼–ç¨‹å¿«é€Ÿå…¥é—¨"></a>shellç¼–ç¨‹å¿«é€Ÿå…¥é—¨</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &quot;hello,world~&quot;</span><br></pre></td></tr></table></figure><ul><li><p>ç›´æ¥å†™è„šæœ¬åç§°ã€‚è¿è¡Œ ä½†æ˜¯å¾—åŠ ä¸Šæ‰§è¡Œæƒé™</p></li><li><p>ä½¿ç”¨sh + è„šæœ¬åç§° å°±å¯ä»¥ä¸éœ€è¦åŠ ä¸Šæƒé™x</p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518171847762.png" alt="image-20230518171847762"></p></li></ul><h3 id="ç³»ç»Ÿå˜é‡"><a href="#ç³»ç»Ÿå˜é‡" class="headerlink" title="ç³»ç»Ÿå˜é‡"></a>ç³»ç»Ÿå˜é‡</h3><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518171951253.png" alt="image-20230518171951253"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816189.png" alt="image-20230518172413937"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816638.png" alt="image-20230518172427077"></p><ul><li>vim : set nu <strong>å¯ä»¥æŸ¥çœ‹è¡Œå·</strong></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816704.png" alt="image-20230518172611279"></p><h2 id="è®¾ç½®ç¯å¢ƒå˜é‡"><a href="#è®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="è®¾ç½®ç¯å¢ƒå˜é‡"></a>è®¾ç½®ç¯å¢ƒå˜é‡</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816708.png" alt="image-20230519150025794"></p><p>å®šä¹‰ç¯å¢ƒå˜é‡è¦åœ¨&#x2F;etc&#x2F;profileæ–‡ä»¶ä¸­ã€‚</p><p><strong>export</strong>ä¹‹åï¼Œ è¦<strong>source &#x2F;etc&#x2F;profile</strong>æ–‡ä»¶ï¼Œæ‰å¯ä»¥æ˜¾ç¤ºå‡ºæ¥æ–‡ä»¶</p><ul><li><p>shellçš„è¡¥å……</p><p>shellè„šæœ¬çš„å¤šè¡Œæ³¨é‡Šï¼ˆå­—ç¬¦ä¸²è¦ç‹¬ç«‹å†™ä¸ºä¸€è¡Œï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¼€å¤´æ‰“è¿™ä¸ª:&lt;&lt;!</span><br><span class="line"></span><br><span class="line">ç»“å°¾æ‰“è¿™ä¸ª!</span><br></pre></td></tr></table></figure></li></ul><h2 id="ä½ç½®å‚æ•°å˜é‡"><a href="#ä½ç½®å‚æ•°å˜é‡" class="headerlink" title="ä½ç½®å‚æ•°å˜é‡"></a>ä½ç½®å‚æ•°å˜é‡</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816914.png" alt="image-20230519153407645"></p><p>åœ¨shcodeæ–‡ä»¶å¤¹ä¸­å»ºç«‹ä¸€ä¸ªshæ–‡ä»¶</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816385.png" alt="image-20230519153720474"></p><ul><li>è¾“å…¥éƒ¨åˆ†æŒ‡ä»¤ä¹‹åï¼Œå¾—åˆ°ä¸€ä¸‹çš„ç»“æœ</li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230519153803222.png" alt="image-20230519153803222"></p><h3 id="é¢„å®šä¹‰å˜é‡"><a href="#é¢„å®šä¹‰å˜é‡" class="headerlink" title="é¢„å®šä¹‰å˜é‡"></a>é¢„å®šä¹‰å˜é‡</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816894.png" alt="image-20230519154100220"></p><p><code>$! åå°æœ€åä¸€ä¸ªè¿è¡Œçš„è¿›ç¨‹çš„è¿›ç¨‹å·ç»“æœä¸º</code></p><h2 id="shell-è¿ç®—ç¬¦"><a href="#shell-è¿ç®—ç¬¦" class="headerlink" title="shell - è¿ç®—ç¬¦"></a>shell - è¿ç®—ç¬¦</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816043.png" alt="image-20230519154542299"></p><ul><li>æ¡ˆä¾‹ä¸€ï¼ˆè¿˜æœ‰æ²¡æœ‰å¼€å§‹å¼„ï¼‰</li></ul><p><strong>æ¡ˆä¾‹äºŒ</strong></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816618.png" alt="image-20230519160135767"></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230519160124338.png" alt="image-20230519160124338"></p><h2 id="shell-åˆ¤æ–­"><a href="#shell-åˆ¤æ–­" class="headerlink" title="shell åˆ¤æ–­"></a>shell åˆ¤æ–­</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816399.png" alt="image-20230519160827175"></p><ul><li><p>è¿‡ç¨‹</p><p><strong>ä¸­æ‹¬å·å’Œè¯­å¥ä¹‹é—´è¦æœ‰ç©ºæ ¼</strong></p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816515.png" alt="image-20230519161029957"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816060.png" alt="image-20230519180822403"></p><ul><li>å¦‚æœè¦å†™ä¸€ä¸ªä¸ºç©ºçš„åˆ¤æ–­ï¼Œ ä¸­æ‹¬å·ä¹‹é—´å¿…è¦è¦æœ‰ç©ºæ ¼ï¼ˆç©ºåˆ¤æ–­ä¸ºfalseï¼‰</li><li>å¦‚æœåªåœ¨ä¸­æ‹¬å·ä¸­è¾“å…¥å­—ç¬¦ï¼Œ é‚£ä¹ˆæ¡ä»¶ä¸ºçœŸï¼Œ å› ä¸ºéç©ºè¿”å›true</li></ul><h2 id="æ¡ä»¶åˆ¤æ–­"><a href="#æ¡ä»¶åˆ¤æ–­" class="headerlink" title="æ¡ä»¶åˆ¤æ–­"></a>æ¡ä»¶åˆ¤æ–­</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816241.png" alt="image-20230519181941468"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816641.png" alt="image-20230519182000153"></p><h2 id="æµç¨‹æ§åˆ¶"><a href="#æµç¨‹æ§åˆ¶" class="headerlink" title="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816797.png" alt="image-20230519182236352"></p><ul><li>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„å…¶ä»–è¾“å…¥çš„æ˜¯<code>*</code>ï¼Œ è€Œä¸æ˜¯<code>â€œ*â€</code>.</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">case $1 in</span><br><span class="line">&quot;1&quot;)</span><br><span class="line">echo &quot;1&quot;</span><br><span class="line">;;</span><br><span class="line">&quot;2&quot;)</span><br><span class="line">echo &quot;2&quot;</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">echo &quot;5&quot;</span><br><span class="line">;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure><h2 id="for"><a href="#for" class="headerlink" title="for"></a>for</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816403.png" alt="image-20230519184205657"></p><h2 id="while"><a href="#while" class="headerlink" title="while"></a>while</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816662.png" alt="image-20230519184121248"></p><h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="read"><a href="#read" class="headerlink" title="read"></a>read</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816879.png" alt="image-20230520142137748"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816119.png" alt="image-20230520142443008"></p><ul><li>é€šè¿‡è¿™ç§æ–¹å¼å°±å¯uiç†è§£readå‡½æ•°</li></ul><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816212.png" alt="image-20230520142603619"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816404.png" alt="image-20230520142731563"></p><ul><li>dirname</li></ul><h3 id="è‡ªå®šä¹‰å‡½æ•°"><a href="#è‡ªå®šä¹‰å‡½æ•°" class="headerlink" title="è‡ªå®šä¹‰å‡½æ•°"></a>è‡ªå®šä¹‰å‡½æ•°</h3><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230520142840366.png" alt="image-20230520142840366"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816275.png" alt="image-20230520143032557"></p><h2 id="ç»¼åˆå®æˆ˜"><a href="#ç»¼åˆå®æˆ˜" class="headerlink" title="ç»¼åˆå®æˆ˜"></a>ç»¼åˆå®æˆ˜</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816305.png" alt="image-20230520144832152"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816628.png" alt="image-20230520145411988"></p><ul><li>å¤‡ä»½<strong>æ•°æ®åº“</strong></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816834.png" alt="image-20230520145718349"></p><ul><li>åˆ é™¤æºæ–‡ä»¶ï¼Œ ç„¶åæ‰“åŒ…</li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230520150317285.png" alt="image-20230520150317285"></p><p><strong>-execç»§ç»­æ‰§è¡Œ   å‘½ä»¤  ï½›ï½å‰é¢æŒ‡ä»¤å¾—åˆ°çš„å†…å®¹   \ï¼›ç»“å°¾ç¬¦å·</strong></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230520150506395.png" alt="image-20230520150506395"></p><h2 id="è‡ªå·±çš„å®æˆ˜å¤ä¹ "><a href="#è‡ªå·±çš„å®æˆ˜å¤ä¹ " class="headerlink" title="è‡ªå·±çš„å®æˆ˜å¤ä¹ "></a>è‡ªå·±çš„å®æˆ˜å¤ä¹ </h2><ul><li>æ—¶é—´</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">BACKUP=/root/shcode</span><br><span class="line">DATETIME=$(date +%Y-%m-%d_%H%M%S)</span><br><span class="line">touch $&#123;BACKUP&#125;/$&#123;DATETIME&#125;.sh</span><br></pre></td></tr></table></figure><ul><li>dateä»£è¡¨å½“å‰çš„æ—¥æœŸï¼Œ åé¢çš„ä»£è¡¨æ—¶é—´åˆ†é’Ÿç§’æ•°ï¼Œè¿˜æœ‰å°æ—¶åˆ†é’Ÿå’Œç§’æ•°ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816300.png" alt="image-20230520151707190"></p><h2 id="æ—¥å¿—ç®¡ç†"><a href="#æ—¥å¿—ç®¡ç†" class="headerlink" title="æ—¥å¿—ç®¡ç†"></a>æ—¥å¿—ç®¡ç†</h2><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230520153222128.png" alt="image-20230520153222128"></p><ul><li>é‡è¦çš„ä»»åŠ¡</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816678.png" alt="image-20230520153338241"></p><p><strong>lastlog ä¸è¦ç”¨catæŸ¥çœ‹ï¼Œ ç›´æ¥æ‰“å…¥<code>lastlog</code>å°±å¥½äº†</strong></p><p><strong>ulmp ä¸è¦ç”¨cat ç”¨whoå°±å¥½äº†</strong></p><h2 id="åŸç†å›¾"><a href="#åŸç†å›¾" class="headerlink" title="åŸç†å›¾"></a>åŸç†å›¾</h2><ul><li>å†<code>/etc/rsyslog.conf</code>æ–‡ä»¶é‡Œé¢æœ‰ä¸€ä¸ªåå°ç¨‹åºï¼Œä¼šè‡ªåŠ¨çš„ç”Ÿæˆè¿™äº›æ—¥å¿—</li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230520154102859.png" alt="image-20230520154102859"></p><ul><li><p>æŸ¥çœ‹<strong>rsyslog</strong>æ˜¯å¦å­˜åœ¨</p><p><code>ps -aux | grep rsyslog</code></p><p><code>ps -aux | grep -v rsyslog</code> åå‘åŒ¹é…ï¼ˆé€‰æ‹©ä¸å«æœ‰rsyslogçš„ï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816888.png" alt="image-20230521142403019"></p></li><li><p>æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹çŠ¶æ€</p><p><code>systemctl list-unit-files | grep &quot;rsyslog&quot;</code></p></li><li><p>æ—¥å¿—ç±»å‹</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816162.png" alt="image-20230520155917438"></p><ul><li><strong>æ—¥å¿—çº§åˆ«</strong></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816219.png" alt="image-20230520155326718"></p><p>ä¸€ä¸ªæ—¥å¿—çš„æ ¼å¼ä¸º<code>*.*</code>ï¼Œç¬¬ä¸€ä¸ª<code>*</code>ä»£è¡¨<strong>æ—¥å¿—çš„ç±»å‹</strong>ï¼ˆå…·ä½“å‚è€ƒç¬¬ä¸€å¼ å›¾ç‰‡ï¼‰ï¼Œç¬¬äºŒä¸ª<code>*</code>ä»£è¡¨æ—¥å¿—çº§åˆ«</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816912.png" alt="image-20230520155710048"></p><ul><li>å¯¹äºä¸€ä¸ªæ—¥å¿—å®ƒå¯ä»¥è¿™ä¹ˆæŸ¥çœ‹ï¼Œ ç¬¬ä¸€ä¸ªä»£è¡¨æ—¶é—´ï¼Œ ç¬¬äºŒä¸ªä»£è¡¨ç”¨æˆ·ï¼Œç¬¬ä¸‰ä¸ªä»£è¡¨ç¨‹åºæˆ–è€…æœåŠ¡ï¼Œç¬¬å››ä¸ªå‘ç”Ÿçš„äº‹ä»¶</li></ul><h2 id="æ—¥å¿—ç®¡ç†æœåŠ¡ï¼ˆè‡ªå®šä¹‰ï¼‰"><a href="#æ—¥å¿—ç®¡ç†æœåŠ¡ï¼ˆè‡ªå®šä¹‰ï¼‰" class="headerlink" title="æ—¥å¿—ç®¡ç†æœåŠ¡ï¼ˆè‡ªå®šä¹‰ï¼‰"></a>æ—¥å¿—ç®¡ç†æœåŠ¡ï¼ˆè‡ªå®šä¹‰ï¼‰</h2><ul><li><p>ç¬¬ä¸€æ­¥ <code>vim  /etc/rsyslog.conf</code></p></li><li><p>ç¬¬äºŒæ­¥ ç„¶åæ‰¾åˆ°ä¸€ä¸ªæœ€åçš„ä¸€ä¸ªæ—¥å¿—ç±»å‹ä¿¡æ¯ï¼Œæ‰“å…¥<code>*.*</code>ï¼Œç„¶åè¾“å…¥<code>/etc/log/wjh.log</code></p></li><li><p>ç„¶åreboot</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816947.png" alt="image-20230521143904131"></p></li><li><p>å½“æˆ‘è¾“é”™ç§˜å¯†çš„æ—¶å€™ï¼Œ å°±ä¼šäº§ç”Ÿä¸€ä¸‹çš„æ–‡ä»¶</p></li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230521144119246.png" alt="image-20230521144119246"></p><h2 id="æ—¥å¿—è½®æ›¿ï¼ˆæŠŠæ—§çš„æ—¥å¿—æ–‡ä»¶æ”¹åç­‰æ“ä½œï¼Œæ¢æˆæ–°çš„ï¼‰"><a href="#æ—¥å¿—è½®æ›¿ï¼ˆæŠŠæ—§çš„æ—¥å¿—æ–‡ä»¶æ”¹åç­‰æ“ä½œï¼Œæ¢æˆæ–°çš„ï¼‰" class="headerlink" title="æ—¥å¿—è½®æ›¿ï¼ˆæŠŠæ—§çš„æ—¥å¿—æ–‡ä»¶æ”¹åç­‰æ“ä½œï¼Œæ¢æˆæ–°çš„ï¼‰"></a>æ—¥å¿—è½®æ›¿ï¼ˆæŠŠæ—§çš„æ—¥å¿—æ–‡ä»¶æ”¹åç­‰æ“ä½œï¼Œæ¢æˆæ–°çš„ï¼‰</h2><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230521144413309.png" alt="image-20230521144413309"></p><p>è¿™ä¸ªæ–‡ä»¶è§„å®šäº†<strong>è½®æ›¿çš„è§„åˆ™</strong></p><p>ä½†æ˜¯ä¹Ÿå¯ä»¥å•ç‹¬çš„ç»™æŸä¸ªæ—¥å¿—æŒ‡å®šç­–ç•¥</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816064.png" alt="image-20230521144541993"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816350.png" alt="image-20230521144818686"></p><p>logrotateã€‚logæ–‡ä»¶çš„è§„åˆ™å¦‚ä¸Šã€‚</p><p><strong>è‡ªå®šä¹‰</strong>çš„æ–¹æ³•</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816405.png" alt="image-20230521145049833"></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230521145234326.png" alt="image-20230521145234326"></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230521145502254.png" alt="image-20230521145502254"></p><p>æˆ‘ä»¬å†è‡ªå®šä¹‰æ—¥å¿—æ–‡ä»¶çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠå®ƒå†™åˆ°<code>/etc/logrotate.d</code>çš„ç›®å½•ä¸‹ã€‚æ²¡å¿…è¦ä¸€è‚¡å„¿è„‘çš„å…¨éƒ¨å†™åˆ°<code>/etc/logrotate.conf</code>é…ç½®æ–‡ä»¶ä¸­</p><p>æˆ‘è‡ªå·±å†™äº†ä¸€ä¸ªæ–‡ä»¶ä¸º<code>wjh.log</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/var/log/wjh.log</span><br><span class="line">&#123;</span><br><span class="line">        missingok</span><br><span class="line">        daily</span><br><span class="line">        copytruncate</span><br><span class="line">        rotate 7</span><br><span class="line">        notifempty</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ—¥å¿—è½®æ¢æœºåˆ¶"><a href="#æ—¥å¿—è½®æ¢æœºåˆ¶" class="headerlink" title="æ—¥å¿—è½®æ¢æœºåˆ¶"></a>æ—¥å¿—è½®æ¢æœºåˆ¶</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816480.png" alt="image-20230521150100024"></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230521150212116.png" alt="image-20230521150212116"></p><p>å®ƒä¼šåˆä¸€ä¸ªcrond çš„åå°ç¨‹åºï¼Œ ç„¶åå›ç”¨logrotate ç„¶åå¯¹<code>/etc/logrotate.d</code></p><p>æˆ–è€…æ˜¯<code>/etc/logrotate.conf</code>æ¥å¤„ç†</p><h2 id="å†…å­˜æ—¥å¿—"><a href="#å†…å­˜æ—¥å¿—" class="headerlink" title="å†…å­˜æ—¥å¿—"></a>å†…å­˜æ—¥å¿—</h2><ul><li>æŸ¥çœ‹å†…å­˜æ—¥å¿—ï¼Œ ä»–æ˜¯å†™å…¥å†…å­˜çš„ï¼Œè€Œä¸æ˜¯æ–‡ä»¶</li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230521150410432.png" alt="image-20230521150410432"></p><h2 id="linuxå®šåˆ¶ï¼ˆå…ˆè¿‡ï¼‰"><a href="#linuxå®šåˆ¶ï¼ˆå…ˆè¿‡ï¼‰" class="headerlink" title="linuxå®šåˆ¶ï¼ˆå…ˆè¿‡ï¼‰"></a>linuxå®šåˆ¶ï¼ˆå…ˆè¿‡ï¼‰</h2><p><strong>æ€»çš„æ€è·¯</strong></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816437.png" alt="image-20230521152307561"></p><h2 id="å¤‡ä»½-å®ä½“æœºåšå¿«ç…§"><a href="#å¤‡ä»½-å®ä½“æœºåšå¿«ç…§" class="headerlink" title="å¤‡ä»½ - å®ä½“æœºåšå¿«ç…§"></a>å¤‡ä»½ - å®ä½“æœºåšå¿«ç…§</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816680.png" alt="image-20230521153142100"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816171.png" alt="image-20230521153837239"></p><h3 id="restore-å›å¤"><a href="#restore-å›å¤" class="headerlink" title="restore å›å¤"></a>restore å›å¤</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061816831.png" alt="image-20230521154545118"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061817069.png" alt="image-20230521155219024"></p><h2 id="Nginx-å‘½ä»¤"><a href="#Nginx-å‘½ä»¤" class="headerlink" title="Nginx å‘½ä»¤"></a>Nginx å‘½ä»¤</h2><p>ä»¥ä¸‹æŒ‡ä»¤éƒ½æ˜¯å†sbinç›®å½•ä¸‹è¿è¡Œ</p><p><code>/usr/local/nginx/sbin</code></p><ul><li><p>.&#x2F;nginx -v ,æ˜¾ç¤ºnginxçš„ç‰ˆæœ¬</p></li><li><p>.&#x2F;nginx -t æ£€æŸ¥è¯­æ³•</p></li><li><p>.&#x2F;nginx  å¯åŠ¨nginx</p></li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230723163209633.png" alt="image-20230723163209633"></p><ul><li>.&#x2F;nginx stop åœæ­¢æœåŠ¡</li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230723163722696.png" alt="image-20230723163722696"></p><h2 id="lrzsz-æŒ‡ä»¤"><a href="#lrzsz-æŒ‡ä»¤" class="headerlink" title="lrzsz æŒ‡ä»¤"></a>lrzsz æŒ‡ä»¤</h2><p>è¿™æ˜¯å¯ä»¥ç”¨æ¥ä¼ è¾“æ–‡ä»¶çš„æŒ‡ä»¤</p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230724114528812.png" alt="image-20230724114528812"></p><ul><li>ä»–ä¼šä¼ è¾“åˆ°å½“å‰çš„æ–‡ä»¶å¤¹é‡Œé¢</li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230724115418717.png" alt="image-20230724115418717"></p>]]></content>
      
      
      <categories>
          
          <category> æ“ä½œç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql</title>
      <link href="/2023/11/06/mysql/"/>
      <url>/2023/11/06/mysql/</url>
      
        <content type="html"><![CDATA[<h1 id="æŠ¥å‘Šé”™è¯¯æ€»ç»“"><a href="#æŠ¥å‘Šé”™è¯¯æ€»ç»“" class="headerlink" title="æŠ¥å‘Šé”™è¯¯æ€»ç»“"></a>æŠ¥å‘Šé”™è¯¯æ€»ç»“</h1><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061802384.png" alt="image-20230515190512074"></p><p>â€‹              <strong>å¤šåŠæ˜¯ç”¨äº†æŸ¥è¯¢è¯­å¥ï¼Œ ä½†æ˜¯æ‰§è¡Œç”¨çš„æ˜¯executeUpdate, è¦ä½¿ç”¨executeQuery</strong></p><p>å¯¹äºåˆ›å»ºæ–‡ä»¶æ¥è¯´ï¼Œ å®ƒè¿”å›çš„å—åˆ°å½±å“çš„è¡Œæ•°ä¸º0ï¼Œ æ‰€ä»¥è¿™æ—¶å€™ä¸è¦ç”¨ä»¥ä¸‹è¯­å¥æ¥åˆ¤æ–­æ˜¯å¦æˆåŠŸ</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803727.png" alt="image-20230515190629844"></p><h1 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h1><p>è¿›å…¥æ•°æ®åº“çš„æŒ‡ä»¤</p><p><code>mysql -u root -p</code> ï¼Œ<strong>æˆ‘ä»¬çš„å¯†ç æ˜¯ï¼ˆç©ºçš„ï¼‰ï¼ˆwindowï¼‰ 123456ï¼ˆlinuxï¼‰</strong></p><p>å¿«æ·é”®</p><ol><li>shift+ctrl +c</li><li>shift+ctrl+r</li></ol><ul><li>å­—ç¬¦é›†çš„ä¸€äº›æ³¨æ„ç‚¹</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061802388.png" alt="image-20221113225133612"></p><p><strong>åŸºå­—ç¬¦é›†</strong></p><ul><li>utf-8ç­‰ç­‰</li></ul><p><strong>è¿™äº›æ˜¯æ•°æ®åº“æ’åºè§„åˆ™</strong></p><ol><li>utf8_general_ci<code>ä¸åŒºåˆ†å¤§å°å†™</code></li><li>utf8_bin<code>åŒºåˆ†å¤§å°å†™</code></li></ol><ul><li>åˆ é™¤æ•°æ®åº“</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803966.png" alt="image-20221113225638295"></p><p><strong>SELECT {*|å­—æ®µåˆ—å}FROM æ•°æ®è¡¨å WHERE æŸ¥è¯¢æ¡ä»¶</strong></p><ul><li>ä½ å¯ä»¥ç”¨ *æ¥æ›¿ä»£æ‰€æœ‰å­—æ®µåˆ—å</li><li>æˆ–è€…è‡ªå®šä¹‰å­—æ®µåˆ—å</li><li>|   ä»£è¡¨æˆ–è€…</li></ul><p><strong>LIMIT + æ•°å­—</strong>è¡¨ç¤ºæ‰“å°çš„ä¸ªæ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">    customer_number</span><br><span class="line">FROM</span><br><span class="line">    orders</span><br><span class="line">GROUP BY customer_number</span><br><span class="line">ORDER BY COUNT(*) DESC</span><br><span class="line">LIMIT 1</span><br><span class="line"># z</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061802396.png" alt="image-20221113225844499"></p><ul><li>æŸ¥è¯¢</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803549.png" alt="image-20221113231328062"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># t1ä»£è¡¨çš„æ˜¯è¡¨çš„åå­—ï¼ŒNAMEæ˜¯è¿™ä¸ªè¡¨å®šä¹‰çš„åç§°</span><br><span class="line">SELECT * FROM t1 WHERE NAME = &#x27;tom&#x27;</span><br><span class="line">s</span><br></pre></td></tr></table></figure><h2 id="æ˜¾ç¤ºæ•°æ®åº“"><a href="#æ˜¾ç¤ºæ•°æ®åº“" class="headerlink" title="æ˜¾ç¤ºæ•°æ®åº“"></a>æ˜¾ç¤ºæ•°æ®åº“</h2><p><code>SHOW DATABASES</code></p><ul><li>æ³¨æ„è¿™é‡Œè¦å†™ä¸Šs</li></ul><h2 id="æ˜¾ç¤ºæ•°æ®åº“åˆ›å»ºè¯­å¥"><a href="#æ˜¾ç¤ºæ•°æ®åº“åˆ›å»ºè¯­å¥" class="headerlink" title="æ˜¾ç¤ºæ•°æ®åº“åˆ›å»ºè¯­å¥"></a>æ˜¾ç¤ºæ•°æ®åº“åˆ›å»ºè¯­å¥</h2><p><code>SHOW CREATE DATABASE åç§°</code></p><ul><li>åç§°å°½é‡å¸¦ä¸Šåå¼•å·ï¼Œå¦åˆ™ç¼–è¯‘å™¨å®¹æ˜“è¯¯è§£</li><li>å¦‚æœåç§°ä¸å…³é”®å­—é‡åˆé‚£å°±å¿…é¡»å¸¦ä¸ŠåŒå¼•å·</li></ul><p><code>SHOW CREATE DATABASE</code>  </p><h2 id="æ•°æ®åº“åˆ é™¤è¯­å¥ï¼ˆæ…ç”¨ï¼‰"><a href="#æ•°æ®åº“åˆ é™¤è¯­å¥ï¼ˆæ…ç”¨ï¼‰" class="headerlink" title="æ•°æ®åº“åˆ é™¤è¯­å¥ï¼ˆæ…ç”¨ï¼‰"></a>æ•°æ®åº“åˆ é™¤è¯­å¥ï¼ˆæ…ç”¨ï¼‰</h2><p><code>DROP DATABASE åç§°</code></p><h2 id="æ•°æ®åº“çš„å¤‡ä»½"><a href="#æ•°æ®åº“çš„å¤‡ä»½" class="headerlink" title="æ•°æ®åº“çš„å¤‡ä»½"></a>æ•°æ®åº“çš„å¤‡ä»½</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061802090.png" alt="image-20221115233305552"></p><ul><li>å¿…é¡»åœ¨dosæ“ä½œç³»ç»Ÿä¸‹æ‰§è¡Œ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -u root -p -B wjh_db05 &gt; d:\\pr\\bak1.sqlï¼ˆä¼šè‡ªåŠ¨åˆ›å»ºæ–‡ä»¶ï¼‰</span><br></pre></td></tr></table></figure><ul><li>æ¢å¤æ•°æ®(æ–¹æ³•ä¸€)</li></ul><p>è¦å…ˆè¿›å…¥mysqlå‘½ä»¤è¡Œæ‰èƒ½å¤Ÿæ‰§è¡Œ</p><p><code>mysql -u root -p</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source d:\\bak1.sql</span><br></pre></td></tr></table></figure><ul><li>æ¢å¤æ–¹æ³•äºŒ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç›´æ¥æ‰‹åŠ¨å¤åˆ¶æ•°æ®åº“çš„æ•°æ®èµ‹å€¼åˆ°æ–‡ä»¶ä¸­,æ”¾åˆ°æŸ¥è¯¢ç¼–è¯‘å™¨ä¸­ï¼Œæ‰§è¡Œ</span><br></pre></td></tr></table></figure><h2 id="ä»…ä»…å¤‡ä»½æ•°æ®åº“ä¸­çš„è¡¨"><a href="#ä»…ä»…å¤‡ä»½æ•°æ®åº“ä¸­çš„è¡¨" class="headerlink" title="ä»…ä»…å¤‡ä»½æ•°æ®åº“ä¸­çš„è¡¨"></a>ä»…ä»…å¤‡ä»½æ•°æ®åº“ä¸­çš„è¡¨</h2><p><code>mysqldump -u root -p æ•°æ®åº“ ç„¶åè¡¨çš„åç§°</code></p><p><strong>ä¸€å®šè¦ç†Ÿæ‚‰ä»¥ä¸Šçš„è¯­æ³•</strong></p><h2 id="è¡¨"><a href="#è¡¨" class="headerlink" title="è¡¨"></a>è¡¨</h2><h3 id="åˆ›å»ºè¡¨"><a href="#åˆ›å»ºè¡¨" class="headerlink" title="åˆ›å»ºè¡¨"></a><strong>åˆ›å»ºè¡¨</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE table name&#123;</span><br><span class="line"> field1 datatype,</span><br><span class="line"> field2 datatype</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803580.png" alt="image-20221116090408023"></p><ol><li>character set å¦‚æœæ²¡æœ‰æŒ‡å®šå­—ç¬¦é›†ï¼Œå°±ä»¥åˆ›å»ºæ•°æ®åº“çš„è§„åˆ™ä¸ºå‡†</li><li>collate åŒä¸Š</li><li>engine åŒä¸Š</li></ol><p>åˆ›å»ºæ–¹å¼1ï¼š ç”¨å›¾å½¢åŒ–åˆ›å»ºè¡¨</p><p>åˆ›å»ºæ–¹å¼2ï¼š ç”¨æŒ‡ä»¤åˆ›å»ºè¡¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE `user` (</span><br><span class="line"> id INT,</span><br><span class="line"> `name` VARCHAR(255),</span><br><span class="line"> `password` VARCHAR(255),</span><br><span class="line"> `birthday` DATE)</span><br><span class="line"> CHARACTER SET utf8 COLLATE utf8_bin ENGINE INNODB</span><br></pre></td></tr></table></figure><ul><li><strong>åé¢çš„ç±»å‹å¯ä»¥ä¸å†™</strong></li></ul><h3 id="ä¿®æ”¹è¡¨"><a href="#ä¿®æ”¹è¡¨" class="headerlink" title="ä¿®æ”¹è¡¨"></a>ä¿®æ”¹è¡¨</h3><ol><li>å¢åŠ ä¸€ä¸ªè¡Œå«åšimage</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE emp</span><br><span class="line">  ADD image VARCHAR(32) NOT NULL DEFAULT &#x27;&#x27;</span><br><span class="line">  AFTER RESUME</span><br></pre></td></tr></table></figure><ol start="2"><li>ä¿®æ”¹jobåˆ— ä½¿å…¶é•¿åº¦ä¸º60</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE emp</span><br><span class="line">  MODIFY job VARCHAR(60) NOT NULL DEFAULT &#x27;&#x27;</span><br><span class="line">  AFTER RESUME</span><br></pre></td></tr></table></figure><ol start="3"><li>åˆ é™¤sexè¿™ä¸€è¡Œ</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE emp</span><br><span class="line">  DROP sex</span><br></pre></td></tr></table></figure><ol start="4"><li>è¡¨åæ”¹æˆ employee</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RENAME TABLE emp T10 employee ï¼ˆç¬¬ä¸€ä¸ªæ˜¯æ•°æ®åº“ï¼Œç¬¬äºŒä¸ªæ˜¯è¦ä¿®æ”¹çš„åŸè¡¨åç§°ï¼Œç¬¬ä¸‰ä¸ªæ˜¯ä¿®æ”¹åçš„è¡¨å</span><br></pre></td></tr></table></figure><ol start="5"><li>ä¿®æ”¹è¡¨çš„å­—ç¬¦é›†ä¸ºutf8</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE employee CHARACTER SET utf8</span><br></pre></td></tr></table></figure><ol start="6"><li>åˆ—ånameæ”¹æˆuser_name</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE employee </span><br><span class="line"> CHANGE `name` `user_name` VARCHAR(64) NOT NULL DEFAULT &#x27;&#x27;</span><br></pre></td></tr></table></figure><h2 id="MySQLçš„å¸¸ç”¨æ•°æ®ç±»å‹"><a href="#MySQLçš„å¸¸ç”¨æ•°æ®ç±»å‹" class="headerlink" title="MySQLçš„å¸¸ç”¨æ•°æ®ç±»å‹"></a>MySQLçš„å¸¸ç”¨æ•°æ®ç±»å‹</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061804568.png" alt="image-20221116092017426"></p><ol><li>æ•°å€¼ç±»å‹</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061802392.png" alt="image-20221116092456448"></p><ol start="2"><li>æ–‡æœ¬ç±»å‹</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061804791.png" alt="image-20221116092635015"></p><ol start="3"><li>äºŒè¿›åˆ¶æ•°æ®ç±»å‹</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061804504.png" alt="image-20221116092747860"></p><ol start="4"><li>æ—¥æœŸç±»å‹</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061802448.png" alt="image-20221116092833735"></p><p>â€‹           datetime YYYY-MM-DD HH:MM:SS</p><ol start="5"><li><p>æ—¶é—´æˆ³</p><p><strong>timestamp</strong></p></li></ol><h3 id="åˆ—ç±»å‹"><a href="#åˆ—ç±»å‹" class="headerlink" title="åˆ—ç±»å‹"></a>åˆ—ç±»å‹</h3><h4 id="æ•´å‹"><a href="#æ•´å‹" class="headerlink" title="æ•´å‹"></a>æ•´å‹</h4><ol><li>ä½¿ç”¨è§„åˆ™ï¼šåœ¨èƒ½å¤Ÿæ»¡è¶³éœ€æ±‚çš„æƒ…å†µä¸‹ï¼Œå°½é‡é€‰æ‹©å°çš„æ•°æ®ç±»å‹</li><li>å¿…é¡»è¦åœ¨æ•°æ®èŒƒå›´å†…çš„æ•°æ®æ‰èƒ½å¤Ÿè¢«å­˜å…¥åˆ°æ•°æ®ä¸­</li></ol><h4 id="bit"><a href="#bit" class="headerlink" title="bit"></a>bit</h4><ol><li>æ‰“å°å‡ºæ¥æ˜¯ä»¥äºŒè¿›åˆ¶çš„å½¢å¼è¾“å‡º</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE t05(num BIT(8));</span><br><span class="line">INSERT INTO t05 VALUES(254);</span><br><span class="line">SELECT* FROM t05; </span><br></pre></td></tr></table></figure><h4 id="æ•°å€¼ç±»å‹"><a href="#æ•°å€¼ç±»å‹" class="headerlink" title="æ•°å€¼ç±»å‹"></a>æ•°å€¼ç±»å‹</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE t06(</span><br><span class="line"> nums1 FLOAT,</span><br><span class="line"> nums2 DOUBLE,</span><br><span class="line"> nums3 DECIMAL(30,20));</span><br><span class="line">INSERT INTO t06 VALUES(88.661616,88.6151515115151,88.5555555555555);</span><br><span class="line">SELECT *FROM t06;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸º</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061804479.png" alt="image-20221116121209785"></p><ul><li><p>DECIMALçš„æ³¨æ„äº‹é¡¹</p></li><li><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221116121243929.png" alt="image-20221116121243929"></p></li><li><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061802145.png" alt="image-20221116121341610"></p></li></ul><h4 id="å­—ç¬¦ä¸²ç±»å‹"><a href="#å­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="å­—ç¬¦ä¸²ç±»å‹"></a>å­—ç¬¦ä¸²ç±»å‹</h4><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061804303.png" alt="image-20221118120951402"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061802185.png" alt="image-20221116121735280"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061802381.png" alt="image-20221116121843219"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE t10(</span><br><span class="line"> `name` VARCHAR(32766))CHARSET gbk;</span><br></pre></td></tr></table></figure><ul><li><input checked="" disabled="" type="checkbox"> åœ¨æ•°æ®èŒƒå›´å†…</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE t10(</span><br><span class="line"> `name` VARCHAR(32767))CHARSET gbk;</span><br></pre></td></tr></table></figure><ul><li><input disabled="" type="checkbox"> è¶…è¿‡äº†gbkæ ¼å¼çš„æ•°æ®èŒƒå›´</li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221116122220141.png" alt="image-20221116122220141"></p><p><strong>æç¤ºè¾“å…¥æ•°å€¼è¿‡å¤§</strong></p><blockquote><p>é—®é¢˜1ï¼šä¸ºä»€ä¹ˆè¿™é‡Œè¦å‡å»ä¸‰ä¸ªå­—èŠ‚</p><p>å›ç­”ï¼š å› ä¸ºè¦ç”¨1~3çš„å­—èŠ‚å»è®°å½•å¤§å°</p><p>é—®é¢˜2ï¼šè¿™é‡Œçš„sizeæ˜¯ä»£è¡¨å­—ç¬¦è¿˜æ˜¯å­—èŠ‚</p><p>å›ç­”ï¼šæ˜¯å­—ç¬¦</p></blockquote><ul><li>ç»†èŠ‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061804984.png" alt="image-20221118121154289"></p><p><strong>æ³¨æ„è¿™é‡Œé¢çš„4æ˜¯å­—ç¬¦è€Œä¸æ˜¯å­—èŠ‚</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE t11(</span><br><span class="line"> `name` CHAR(4));</span><br><span class="line">INSERT INTO t11 VALUES(&#x27;abs&#x27;);</span><br><span class="line">SELECT * FROM t11;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061802478.png" alt="image-20221118122106130"></p><ul><li>varcharæ˜¯ä¸€ä¸ªå¯å˜é•¿çš„å­—ç¬¦ï¼Œä¸ä¼šé€ æˆç©ºé—´çš„æµªè´¹ï¼Œè€ŒCHARåªèƒ½æ ¹æ®æœ€å¼€å§‹åˆ†é…çš„ç©ºé—´æ¥ç»™å†…å­˜</li><li>ä½†æ˜¯charçš„æŸ¥è¯¢é€Ÿåº¦å¿«äºvarcharï¼Œå¦‚æœæ•°æ®çš„å®šé•¿çš„è¯ï¼Œæˆ‘ä»¬å°±å°½é‡å»ä½¿ç”¨char</li><li>å¦‚æœvarcharä¸å¤Ÿç”¨ï¼Œå¯ä»¥ä½¿ç”¨mediumtextæˆ–è€…longtextï¼Œæˆ–è€…å¯ä»¥å†™text</li></ul><p>æ€» ç»“</p><ol><li>ç©ºé—´å¤§å°ä¸Šï¼š <code>char &gt; varchar</code></li><li>é€Ÿåº¦å¿«æ…¢ä¸Šï¼š<code>char &gt; varchar</code></li><li>å¦‚æœæ–‡æœ¬è¿‡å¤§å°±é€‰æ‹©text</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061802520.png" alt="image-20221118122643836"></p><h4 id="æ—¥æœŸ"><a href="#æ—¥æœŸ" class="headerlink" title="æ—¥æœŸ"></a>æ—¥æœŸ</h4><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061804913.png" alt="image-20221119143143769"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE t14(</span><br><span class="line"> birthday DATE , -- ç”Ÿæ—¥</span><br><span class="line"> jobtime DATETIME ,-- è®°å½•å¹´æœˆæ—¥ æ—¶åˆ†ç§’</span><br><span class="line"> login_time TIMESTAMP </span><br><span class="line">  NOT NULL DEFAULT CURRENT_TIMESTAMP </span><br><span class="line">  ON UPDATE CURRENT_TIMESTAMP);-- ç™»å½•æ—¶é—´</span><br><span class="line">SELECT *FROM t14;</span><br><span class="line">INSERT INTO t14(birthday,jobtime)</span><br><span class="line"> VALUES(&#x27;2022-11-11&#x27;,&#x27;2022-11-11 10:10:10&#x27;);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061804550.png" alt="image-20221119143948153"></p><p><strong>ä¸ç”¨è¾“å…¥æ—¶é—´è‡ªåŠ¨è·³å‡ºæ¥ç™»é™†æ—¶é—´</strong></p><p>éœ€è¦è¾“å…¥ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NO NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP</span><br></pre></td></tr></table></figure><h3 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE `emp`(</span><br><span class="line"> id INT,</span><br><span class="line"> `name` VARCHAR(32),</span><br><span class="line"> sex CHAR(1),</span><br><span class="line"> birthday DATE,</span><br><span class="line"> entry_date DATETIME,</span><br><span class="line"> job VARCHAR(32),</span><br><span class="line"> salary DOUBLE,</span><br><span class="line"> `resume` TEXT) CHARSET utf8 COLLATE utf8_bin ENGINE INNODB;</span><br><span class="line"># æ·»åŠ çš„æ—¶é—´</span><br><span class="line">INSERT INTO `emp`</span><br><span class="line"> VALUES(100,&#x27;å°å¦–æ€ª&#x27;,&#x27;ç”·&#x27;,&#x27;2000-11-11&#x27;,</span><br><span class="line"> &#x27;2010-11-10 11:11:11&#x27;,&#x27;å·¡å±±çš„&#x27;,3000,&#x27;å¤§ç‹å«æˆ‘æ¥å·¡å±±&#x27;);</span><br><span class="line">SELECT *FROM `emp`</span><br><span class="line"> </span><br></pre></td></tr></table></figure><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221119144705934.png" alt="image-20221119144705934"></p><h2 id="CRUD"><a href="#CRUD" class="headerlink" title="CRUD"></a>CRUD</h2><h3 id="insert-è¯­å¥"><a href="#insert-è¯­å¥" class="headerlink" title="insert è¯­å¥"></a>insert è¯­å¥</h3><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221119164904712.png" alt="image-20221119164904712"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># æ³¨æ„å†™ä¸Šå­—ç¬¦é›†ä»¥åŠæ ¡å¯¹è§„åˆ™å’Œå¼•æ“</span><br><span class="line">CREATE TABLE `good`(</span><br><span class="line"> id INT,</span><br><span class="line"> goods_name VARCHAR(15),</span><br><span class="line"> price DOUBLE)CHARSET utf8 COLLATE utf8_bin ENGINE INNODB;</span><br><span class="line">INSERT INTO `good` (id,goods_name,price)</span><br><span class="line"> VALUES(10,&#x27;åä¸ºæ‰‹æœº&#x27;,2000);</span><br><span class="line">INSERT INTO `good` (id,goods_name,price)</span><br><span class="line"> VALUES(20,&#x27;è‹¹æœæ‰‹æœº&#x27;,3000);</span><br><span class="line">SELECT* FROM good;</span><br><span class="line"></span><br><span class="line">#ä¸Šè¯‰çš„insertè¯­å¥ä¹Ÿå¯ä»¥ç®€åŒ–å†™ä¸ºï¼ˆä½†æ˜¯å¿…é¡»å’Œä½ å†™çš„è¡¨çš„é¡ºåºä¸€è‡´ï¼‰</span><br><span class="line">INSERT INTO `good` </span><br><span class="line"> VALUES(20,&#x27;è‹¹æœæ‰‹æœº&#x27;,3000);</span><br></pre></td></tr></table></figure><ul><li>æ³¨æ„ç‚¹</li></ul><ol><li><blockquote><p>æ’å…¥çš„æ•°æ®åº”å½“å’Œå­—æ®µç±»å‹ç›¸åŒã€‚</p></blockquote></li></ol><p>é”™è¯¯ç¤ºèŒƒï¼š</p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221119170335962.png" alt="image-20221119170335962"></p><p>åŒæ—¶æˆ‘ä»¬ç”¨å•å¼•å·æ‹¬èµ·æ¥çš„æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆå®ƒä¼šè¿›è¡Œè½¬å‹ï¼Œè¿™ç§æ—¶å€™å°±æ˜¯æ­£ç¡®çš„</p><ol start="2"><li><blockquote><p>æ•°æ®çš„é•¿åº¦åº”è¯¥åœ¨åˆ—çš„èŒƒå›´å†…</p></blockquote></li></ol><p>é”™è¯¯ç¤ºèŒƒï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803671.png" alt="image-20221119170536712"></p><ol start="3"><li><blockquote><p>åœ¨valuesä¸­åˆ—å‡ºçš„æ•°æ®ä½ç½®å¿…é¡»ä¸è¢«åŠ å…¥çš„åˆ—çš„æ’åˆ—ä½ç½®ç›¸å¯¹åº”</p></blockquote></li><li><blockquote><p>å­—ç¬¦å’Œæ—¥æœŸå½¢æ•°æ®åº”è¯¥åŒ…å«åœ¨å•å¼•å·ä¸­</p></blockquote></li><li><blockquote><p>åˆ—å¯ä»¥æ’å…¥ç©ºå€¼ï¼ˆå‰ææ˜¯è¯¥å­—æ®µå…è®¸ä¸ºç©ºï¼‰ï¼Œinsert into table value (null)</p></blockquote></li><li><blockquote><p> insert into tab_name(åˆ—å..)</p></blockquote></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO `goods` vï¼ˆå¡«å…¥å†…å®¹ï¼‰ ï¼ˆå¡«å…¥å†…å®¹ï¼‰ ï¼ˆå¡«å…¥å†…å®¹ï¼‰</span><br></pre></td></tr></table></figure><ol start="7"><li><blockquote><p>å¦‚æœæ˜¯ç»™è¡¨ä¸­çš„æ‰€æœ‰å­—æ®µæ·»åŠ æ•°æ®ï¼Œå¯ä»¥ä¸å†™å‰é¢çš„å­—æ®µåç§°,ä½†æ˜¯ä¸èƒ½å°‘ä¸€æ¡å­—æ®µ</p></blockquote></li><li><blockquote><p>é»˜è®¤å€¼ï¼Œå½“ä¸ç»™æŸä¸ªå­—æ®µå€¼æ—¶ï¼Œå¦‚æœæœ‰é»˜è®¤å€¼å°±ä¼šæ·»åŠ é»˜è®¤å€¼ï¼Œå¦åˆ™æŠ¥é”™</p></blockquote></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># è¿™ä¸ªæ—¶å€™å°±æ˜¯å¯ä»¥çš„</span><br><span class="line">CREATE TABLE &#x27;goods&#x27;(</span><br><span class="line">  id INT,</span><br><span class="line">     &#x27;label&#x27; VARCHAR(10),</span><br><span class="line">     &#x27;price&#x27; DOUBLE </span><br><span class="line"> )</span><br><span class="line">INSERT INTO `goods`(id,goods_name)</span><br><span class="line">  VALUES(80,&#x27;æ ¼åŠ›æ‰‹æœº&#x27;);</span><br><span class="line"># å½“è¡¨çš„åˆ›å»ºæ ¼å¼ä¸ºä»¥ä¸‹çš„æƒ…å†µçš„æ—¶å€™,ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™</span><br><span class="line">CREATE TABLE &#x27;goods&#x27;(</span><br><span class="line">  id INT,</span><br><span class="line">     &#x27;label&#x27; VARCHAR(10),</span><br><span class="line">     &#x27;price&#x27; DOUBLE NOT NULL DEFAULT &#x27;&#x27;</span><br><span class="line"> )</span><br></pre></td></tr></table></figure><h3 id="deleteè¯­å¥"><a href="#deleteè¯­å¥" class="headerlink" title="deleteè¯­å¥"></a>deleteè¯­å¥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">delete from xxx(the name of list) where user_name = &quot;yyy&quot;</span><br><span class="line"># ä»è¡¨åä¸º xxx çš„è¡¨ä¸­ åˆ é™¤æ‰åå­—ä¸º yyy çš„ çš„é‚£ä¸€åˆ—</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># åˆ é™¤è¡¨ä¸­çš„åç§°ä¸ºyyçš„user_name</span><br><span class="line">DELETE FROM xxx</span><br><span class="line">  WHERE user_name = &#x27;yyy&#x27;;</span><br><span class="line"># åˆ é™¤è¡¨ä¸­ä¸ºuser_nameçš„æ•°æ®</span><br><span class="line">DELETE FROM XXX</span><br><span class="line"></span><br><span class="line"># åˆ é™¤è¡¨ä¸­é‚®ç®±ç›¸åŒçš„,å¹¶ä¸”åªä¿ç•™å®ƒçš„idæœ€å°å€¼</span><br><span class="line">DELETE p1 from </span><br><span class="line">        Person p1,Person p2</span><br><span class="line">        where </span><br><span class="line">        p1.email=p2.email AND p1.id&gt;p2.id</span><br><span class="line">        </span><br><span class="line">DELETE </span><br><span class="line">FROM</span><br><span class="line"> Person </span><br><span class="line">WHERE</span><br><span class="line"> id NOT IN (SELECT * FROM ( SELECT min( id ) AS id FROM Person GROUP BY email ) t)</span><br><span class="line">    </span><br><span class="line"># deleteä¸èƒ½åˆ é™¤æŸä¸€åˆ—çš„æ•°æ®</span><br><span class="line"># å¦‚æœéœ€è¦åˆ æ‰æŸä¸€è¡Œçš„ä¸€ä¸ªå­—æ®µï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨updateè¿›è¡Œæ›¿æ¢</span><br><span class="line">UPDATE employee SET job = &#x27;&#x27; WHERE user_name = &#x27;è€å¦–æ€ª&#x27;</span><br><span class="line"></span><br><span class="line"># åˆ é™¤è¡¨æ˜¯ç”¨dropè€Œä¸æ˜¯delete</span><br></pre></td></tr></table></figure><ul><li>å› ä¸ºdeleteè¯­å¥ä¸èƒ½åˆ é™¤æŸä¸€åˆ—çš„å€¼ï¼ˆå¯ä½¿ç”¨update è®¾ä¸ºnull)</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE xxx(è¡¨åç§°) SET x = &#x27;&#x27; WHERE user_name = &#x27;è€å¦–æ€ª&#x27; </span><br></pre></td></tr></table></figure><h3 id="updateè¯­å¥"><a href="#updateè¯­å¥" class="headerlink" title="updateè¯­å¥"></a>updateè¯­å¥</h3><ol><li>å°†æ‰€æœ‰çš„å‘˜å·¥è–ªæ°´ä¿®æ”¹ä¸º5000</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATuE employee SET salary = 5000</span><br></pre></td></tr></table></figure><ol start="2"><li>å°†å§“åä¸ºå°å¦–æ€ªçš„å‘˜å·¥ä¿®æ”¹ä¸º3000</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE employee set salary = 3000 where user_name = &#x27;å°å¦–æ€ª&#x27; </span><br></pre></td></tr></table></figure><ol start="3"><li>å°†è€å¦–æ€ªçš„è–ªæ°´å¢åŠ 3000</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE employee set salary = salary + 3000 where user_name = &#x27;è€å¦–æ€ª&#x27; </span><br></pre></td></tr></table></figure><ul><li>setå¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹å¤šä¸ªå­—æ®µçš„å€¼</li></ul><p><code>set xxx = xxxx yyy = yyyy</code></p><h4 id="CASEè¯­å¥"><a href="#CASEè¯­å¥" class="headerlink" title="CASEè¯­å¥"></a>CASEè¯­å¥</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># å°†æ€§åˆ«ä¸ºç”·çš„æ”¹æˆå¥³çš„ï¼Œå¥³çš„æ”¹æˆç”·çš„</span><br><span class="line">UPDATE salary</span><br><span class="line">SET</span><br><span class="line">    sex = CASE sex</span><br><span class="line">        WHEN &#x27;m&#x27; THEN &#x27;f&#x27;</span><br><span class="line">        ELSE &#x27;m&#x27;</span><br><span class="line">    END;</span><br></pre></td></tr></table></figure><h3 id="select-è¯­å¥"><a href="#select-è¯­å¥" class="headerlink" title="select è¯­å¥"></a>select è¯­å¥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SELECT  *FROM `student`;</span><br><span class="line"># å»é‡æŸ¥è¯¢ï¼ˆå¿…é¡»æŸ¥å‡ºæ¥çš„æ¯ä¸€ä¸ªåˆ—éƒ½ç›¸åŒï¼‰</span><br><span class="line">select DISTINCT english from student</span><br><span class="line"></span><br><span class="line">#å¦‚æœä¸¤ä¸ªäººçš„è‹±è¯­æˆselect DISTINCT english from studentç»©ç›¸åŒä½†æ˜¯åå­—ä¸ä¸€æ ·</span><br><span class="line">select DISTINCT english name from student</span><br><span class="line">#è¿™ä¸ªæ—¶å€™ï¼Œå°±ä¸ä¼šå»é‡</span><br></pre></td></tr></table></figure><h4 id="æ¡ˆåˆ—"><a href="#æ¡ˆåˆ—" class="headerlink" title="æ¡ˆåˆ—"></a>æ¡ˆåˆ—</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT `name` (chinese+math+english)from student</span><br><span class="line"># è®¡ç®—å­¦æœ¯ä¸‰ä¸ªç§‘ç›®çš„æ€»åˆ†</span><br><span class="line">SELECT `name` as &#x27;åå­—&#x27;,(chinese+math+english) as &#x27;æ€»åˆ†&#x27;</span><br><span class="line">from student</span><br><span class="line"># aså¯ä»¥æ›¿æ¢åå­—</span><br></pre></td></tr></table></figure><h4 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h4><p>   <strong>è‡ªå·±åˆ°åŠ›æ‰£åšé¢˜å°±æ‡‚äº†</strong></p><ul><li><strong>å¦‚æœæƒ³è¦ç¦»æ•£çš„ç©ºé—´æŸ¥è¯¢éœ€è¦ç”¨åˆ°IN</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from student where math in(89,90,91)</span><br><span class="line"># ä»£è¡¨ç€æŸ¥è¯¢æ•°å­¦æˆç»©ä¸º 89, 90 ,91çš„å­¦ç”Ÿ</span><br></pre></td></tr></table></figure><ul><li>æ¨¡ç³ŠåŒ¹é…</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">select *from student where math like &#x27;éŸ©%&#x27;</span><br><span class="line"># ä¸€å®šè¦åŠ ä¸Š%</span><br><span class="line"></span><br><span class="line"># éœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œæ²¡æœ‰è®²æ¸…æ¥šå®é™…ä¸Š :</span><br><span class="line">#å¦‚æœè¿™é‡Œå†™çš„æ˜¯ %éŸ©% çš„è¯é‚£ä¹ˆä»£è¡¨æŸ¥æ‰¾å­˜åœ¨éŸ©çš„æ•°æ®</span><br><span class="line"># å¦‚æœæ˜¯éŸ©% ä»£è¡¨æŸ¥æ‰¾ä»¥éŸ©å¼€å¤´çš„æ•°æ®</span><br><span class="line"># å¦‚æœæ˜¯%éŸ© , ä»£è¡¨æŸ¥æ‰¾ ä»¥éŸ©ä¸ºç»“å°¾d</span><br></pre></td></tr></table></figure><h4 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h4><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803693.png" alt="image-20221120094701115"></p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">select * from student </span><br><span class="line">  order by math(é»˜è®¤å‡åº)</span><br><span class="line">select * from student </span><br><span class="line">  order by math asc(å‡åº) // é»˜è®¤ä¸ºå‡åº</span><br><span class="line">select * from student </span><br><span class="line">  order by math desc(å‡åº)</span><br><span class="line"></span><br><span class="line"># æ’åºçš„ç»„åˆæ“ä½œ</span><br><span class="line">#å¦‚æœæˆ‘ä»¬æƒ³è¦éƒ¨é—¨æŒ‰ç…§éƒ¨é—¨å·å‡åºï¼Œç„¶åæŒ‰ç…§å·¥èµ„é™åº</span><br><span class="line">select *from emp </span><br><span class="line"> order by deptno asc, sal desc </span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°-ä¸selecté…åˆçš„"><a href="#å‡½æ•°-ä¸selecté…åˆçš„" class="headerlink" title="å‡½æ•°(ä¸selecté…åˆçš„)"></a>å‡½æ•°(ä¸selecté…åˆçš„)</h2><h3 id="count"><a href="#count" class="headerlink" title="count"></a>count</h3><blockquote><p>æŸ¥è¯¢çš„ç»“æœæœ‰å¤šå°‘è¡Œ</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select count(*)from student where math&gt;90</span><br><span class="line"># ç»Ÿè®¡æ•°å­¦å¤§äº90çš„å­¦ç”Ÿ</span><br></pre></td></tr></table></figure><ul><li>count(*) è¿”å›æ»¡è¶³æ¡ä»¶çš„è¡Œæ•°</li><li>count(åˆ—):ç»Ÿè®¡æ»¡è¶³æ¡ä»¶æŸåˆ—æœ‰å¤šå°‘ä¸ªï¼Œ<strong>ä½†æ˜¯ä¼šæ’é™¤ä¸ºnullçš„æƒ…å†µ</strong></li></ul><h3 id="sum"><a href="#sum" class="headerlink" title="sum"></a>sum</h3><blockquote><p>è¿”å›æ»¡è¶³whereæ¡ä»¶çš„è¡Œçš„å’Œ ä¸€èˆ¬ä½¿ç”¨åœ¨æ•°å€¼åˆ—ä¸­ï¼ˆæ³¨æ„ä»–åªèƒ½å¯¹æ•°å€¼èµ·ä½œç”¨ï¼‰</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select sum(math) from student;</span><br><span class="line"># ç»Ÿè®¡ä¸€ä¸ªç­æ‰€æœ‰äººçš„æ•°å­¦æ€»æˆç»©</span><br></pre></td></tr></table></figure><h3 id="avg"><a href="#avg" class="headerlink" title="avg"></a>avg</h3><blockquote><p>æ±‚å¹³å‡å€¼ï¼ŒåŒä¸Šå¯¹æ•°å€¼èµ·ä½œç”¨</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select avg(math) from student</span><br></pre></td></tr></table></figure><h3 id="max-min"><a href="#max-min" class="headerlink" title="max&#x2F;min"></a>max&#x2F;min</h3><blockquote><p>æ±‚æœ€å¤§å€¼æˆ–è€…æœ€å°å€¼</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select max(math) from student</span><br><span class="line">select min(math) from student</span><br></pre></td></tr></table></figure><h3 id="group"><a href="#group" class="headerlink" title="group"></a>group</h3><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221120100654899.png" alt="image-20221120100654899"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select avg(sal),max(sal), deptno from employee group by deptno</span><br><span class="line"># æŒ‰ç…§éƒ¨é—¨åˆ†ç»„æŸ¥è¯¢å¹³å‡å·¥èµ„å’Œæœ€é«˜å·¥èµ„</span><br><span class="line"># éœ€è¦æ³¨æ„æ˜¯ï¼Œä¸€ä¸ªéƒ¨é—¨æœ‰å¾ˆå¤šäººï¼Œæ¯ä¸ªäººçš„å·¥èµ„ä¸ä¸€æ ·</span><br></pre></td></tr></table></figure><p><strong>æœ€åçš„è¾“å‡ºç»“æœä¸º</strong></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221121194906997.png" alt="image-20221121194906997"></p><h3 id="havingï¼ˆå’Œgroupå…±åŒä½¿ç”¨ï¼‰"><a href="#havingï¼ˆå’Œgroupå…±åŒä½¿ç”¨ï¼‰" class="headerlink" title="havingï¼ˆå’Œgroupå…±åŒä½¿ç”¨ï¼‰"></a>havingï¼ˆå’Œgroupå…±åŒä½¿ç”¨ï¼‰</h3><p>ç›¸å½“äºwhereæ¡ä»¶ç­›é€‰ï¼Œä»–å’Œgroupæ˜¯å¥½å…„å¼Ÿ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">select avg(sal) as avg_sal,deptno</span><br><span class="line"> from emp group by deptno</span><br><span class="line"> having avg_sal&lt;3000</span><br><span class="line"># ç­›é€‰å¹³å‡å·¥èµ„å°äº3000çš„éƒ¨é—¨9</span><br><span class="line"></span><br><span class="line"># ç­›é€‰è‡³å°‘åˆä½œè¿‡ä¸‰æ¬¡çš„å¯¼æ¼”</span><br><span class="line">SELECT actor_id, director_id FROM ActorDirector </span><br><span class="line">    GROUP BY actor_id, director_id</span><br><span class="line">    HAVING COUNT(*) &gt;= 3;</span><br><span class="line"># GROUP BY å°±æ˜¯åˆ†ç»„ï¼Œè¿™æ ·å­å†™çš„è¯ï¼Œå°±æ˜¯æŠŠä¸€å¯¹å¯¼æ¼”å’Œæ¼”å‘˜åˆ†æˆä¸€ç»„</span><br></pre></td></tr></table></figure><h3 id="å­—ç¬¦ä¸²ç›¸å…³å‡½æ•°"><a href="#å­—ç¬¦ä¸²ç›¸å…³å‡½æ•°" class="headerlink" title="å­—ç¬¦ä¸²ç›¸å…³å‡½æ•°"></a>å­—ç¬¦ä¸²ç›¸å…³å‡½æ•°</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803507.png" alt="image-20221121195045357"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select charset(ename) from emp;</span><br><span class="line">è¿”å›charsetï¼ˆnameï¼‰çš„è¡¨</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select concat(ename,&#x27;å·¥ä½œæ˜¯&#x27;,job) from emp;</span><br></pre></td></tr></table></figure><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221121195537204.png" alt="image-20221121195537204"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803104.png" alt="image-20221121195659676"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803107.png" alt="image-20221121200009584"></p><ul><li>ç»ƒä¹  ä»¥é¦–å­—æ¯å°å†™çš„æ–¹å¼æ˜¾ç¤ºæ‰€æœ‰å‘˜å·¥empè¡¨çš„å§“å</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># æ–¹æ³•ä¸€</span><br><span class="line">select CONCAT(Lcase(SUBSTRING(ename,1,1)),SUBSTRING(ename,2)) as new_name</span><br><span class="line"> from emp;</span><br><span class="line">## æ³¨æ„è¿™é‡Œçš„ä¸‹æ ‡ä»0å¼€å§‹</span><br><span class="line"></span><br><span class="line"># æ–¹æ³•äºŒ</span><br><span class="line">select concat(lcase(Left(ename,1)),substring(ename,2)) as new_name;</span><br></pre></td></tr></table></figure><h3 id="æ•°å­¦å‡½æ•°"><a href="#æ•°å­¦å‡½æ•°" class="headerlink" title="æ•°å­¦å‡½æ•°"></a>æ•°å­¦å‡½æ•°</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803112.png" alt="image-20221121200659389"></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221121200914705.png" alt="image-20221121200914705"></p><h3 id="æ—¶é—´å‡½æ•°"><a href="#æ—¶é—´å‡½æ•°" class="headerlink" title="æ—¶é—´å‡½æ•°"></a>æ—¶é—´å‡½æ•°</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803736.png" alt="image-20221121201227293"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE mes(</span><br><span class="line"> id INT,</span><br><span class="line"> content VARCHAR(30),</span><br><span class="line"> send_time DATETIME);</span><br><span class="line">INSERT INTO mes</span><br><span class="line"> VALUES(1,&#x27;åŒ—äº¬æ–°é—»&#x27;,CURRENT_TIMESTAMP);</span><br><span class="line">SELECT* FROM mes;</span><br><span class="line"></span><br><span class="line"># è®¡ç®—æ—¶é—´å·®çš„æ—¶å€™å…¶å®é™¤äº†ä½¿ç”¨DATEDIFFè¿˜å¯ä»¥ ä½¿ç”¨between xxx and xxxï¼ˆæ—¶é—´ç”¨&#x27;&#x27;bï¼‰</span><br></pre></td></tr></table></figure><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221121201726906.png" alt="image-20221121201726906"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803151.png" alt="image-20221121201840084"></p><ul><li>è¯·å†™å‡ºä»¥ä¸Šçš„æ‰€æœ‰mysqlè¯­å¥</li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221121202025586.png" alt="image-20221121202025586"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#å¦‚æœæ”¹æˆ20minä¹‹å†…å°±æ˜¯</span><br><span class="line">select * from mes</span><br><span class="line">where date_add(send_time,INTERVAL 20 MINUTE)&gt;=NOW();</span><br></pre></td></tr></table></figure><ul><li>year&#x2F;month&#x2F;dateï¼ˆï¼‰</li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221121202816540.png" alt="image-20221121202816540"></p><p><strong>åˆ†åˆ«è¿”å›å¹´&#x2F;æœˆ&#x2F;æ—¥</strong></p><ul><li>unix_timestampè¿”å›çš„æ˜¯1970-1-1åˆ°ç°åœ¨çš„<strong>ç§’æ•°</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select unix_timestamp(now()) from xxx</span><br></pre></td></tr></table></figure><ul><li>from_unixtime</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># &#x27;%Y-%m-%d&#x27;(å¹´æœˆæ—¥çš„æ ¼å¼)</span><br><span class="line">select from_unixtime(1618483484,%Y-%m-%d) from dual</span><br><span class="line"># &#x27;%Y-%m-%d %H:%i:%s&#x27;(intè½¬æ¢ä½å¹´æœˆæ—¥çš„æ ¼å¼)</span><br></pre></td></tr></table></figure><h3 id="åŠ å¯†å‡½æ•°"><a href="#åŠ å¯†å‡½æ•°" class="headerlink" title="åŠ å¯†å‡½æ•°"></a>åŠ å¯†å‡½æ•°</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803540.png" alt="image-20221121203640271"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">select user() from dual;</span><br><span class="line"># è¿”å›çš„æ˜¯ç”¨æˆ·ipåœ°å€</span><br><span class="line">select database()</span><br><span class="line"># æŸ¥è¯¢å½“å‰ä½¿ç”¨æ•°æ®åº“åç§°</span><br><span class="line">select MD5(&#x27;HSP&#x27;)from dual </span><br><span class="line"># åœ¨æ•°æ®åº“ä¸­å­˜æ”¾çš„æ˜¯åŠ å¯†åçš„å¯†ç ï¼ˆé•¿åº¦æ˜¯32ä½ï¼‰</span><br><span class="line">select password(&#x27;hsp&#x27;)from dual</span><br><span class="line"># åŠ å¯†å‡½æ•°ï¼Œmysqlæ•°æ®åº“çš„ç”¨æˆ·å¯†ç å°±æ˜¯passwordå‡½æ•°åŠ å¯†</span><br></pre></td></tr></table></figure><h3 id="æµç¨‹æ§åˆ¶å‡½æ•°"><a href="#æµç¨‹æ§åˆ¶å‡½æ•°" class="headerlink" title="æµç¨‹æ§åˆ¶å‡½æ•°"></a>æµç¨‹æ§åˆ¶å‡½æ•°</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803664.png" alt="image-20221121204649874"></p><p><strong>å¤šåˆ†æ”¯çš„ä»»åŠ¡éœ€æ±‚</strong></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221121205703208.png" alt="image-20221121205703208"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># å¦‚æœç¬¬ä¸€ä¸ªexp1ä¸ºçœŸå°±è¿”å›exp2ï¼Œå¦åˆ™è¿”å›expr3</span><br><span class="line">select if(TRUE,&#x27;åŒ—äº¬&#x27;,&#x27;ä¸Šæµ·&#x27;)from dual;</span><br><span class="line">#è¾“å‡º                         åŒ—äº¬</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># çœ‹ä¸Šè¡¨è§„åˆ™</span><br><span class="line">select if(NULL,&#x27;åŒ—äº¬&#x27;ï¼Œ&#x27;ä¸Šæµ·&#x27;)</span><br><span class="line">#è¾“å‡º                         ä¸Šæµ·</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># å¤šåˆ†æ”¯</span><br><span class="line"># åˆ¤æ–­æ˜¯å¦ä¸ºç©ºè¦ä½¿ç”¨is null/is not null</span><br><span class="line">select  ename  IF(comm is nullï¼Œ0.0,comm);</span><br><span class="line">#æˆ–è€…å†™å‡º</span><br><span class="line">select  ename  IFNULL(commï¼Œ0.0);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#å¤šåˆ†æ”¯</span><br><span class="line">select ename, (select case</span><br><span class="line">               when job = &#x27;cherk&#x27; then &#x27;èŒå‘˜&#x27;</span><br><span class="line">               when job = &#x27;manager&#x27; then &#x27;ç»ç†&#x27;</span><br><span class="line">               when job = &#x27;salesman&#x27; then &#x27;é”€å”®äººå‘˜&#x27;</span><br><span class="line">               when job end) as &#x27;job&#x27;</span><br><span class="line">               from emp</span><br></pre></td></tr></table></figure><ul><li>æ¨¡ç³ŠåŒ¹é…</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select ename from list ename Like &quot;__0%&quot;</span><br><span class="line"># æŸ¥è¯¢enameç¬¬ä¸‰ä¸ªæ•°å­—æ˜¯0çš„è¡¨</span><br><span class="line">select ename from list ename like &quot;s%&quot;</span><br><span class="line"># æŸ¥è¯¢enameä»¥sä½œä¸ºå¼€å¤´çš„ename</span><br></pre></td></tr></table></figure><ul><li>åˆ†é¡µæŸ¥è¯¢</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># grammer select * from * limit xxxx</span><br><span class="line">select *from emp order by empno</span><br><span class="line">select * from emp</span><br><span class="line">  order by empno </span><br><span class="line">  limit 0, 3;</span><br><span class="line">select * from emp </span><br><span class="line">  order by empno </span><br><span class="line">  limit 3, 3;</span><br><span class="line">select * from emp</span><br><span class="line">  order by empno</span><br><span class="line">  limit 6,</span><br></pre></td></tr></table></figure><h2 id="å¤šè¡¨æŸ¥è¯¢"><a href="#å¤šè¡¨æŸ¥è¯¢" class="headerlink" title="å¤šè¡¨æŸ¥è¯¢"></a>å¤šè¡¨æŸ¥è¯¢</h2><ul><li><p>å¤šè¡¨æŸ¥è¯¢çš„æ—¶å€™ï¼Œ<strong>å°±æ˜¯åˆ—æ‹¼æ¥åœ¨ä¸€èµ·ï¼Œç„¶åç›¸ä¹˜å¾—åˆ°è¡Œæ•°</strong></p></li><li><p>å½“æœ‰<strong>ä¸¤ä¸ªè¡¨ç›¸åŒçš„å­—æ®µ</strong>æˆ‘ä»¬éœ€è¦åšå‡ºåŒºåˆ†</p></li><li><p>è‡ªè¿æ¥</p></li></ul><p><strong>é—®é¢˜</strong></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221125184303704.png" alt="image-20221125184303704"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># æ˜¾ç¤ºå‘˜å·¥å’Œä»–ä¸Šçº§çš„åå­—</span><br><span class="line"># æŠŠåŒä¸€å¼ è¡¨å½“ä½œä¸¤å¼ è¡¨ä½¿ç”¨</span><br><span class="line"># éœ€è¦ç»™è¡¨å–åˆ«åï¼Œè¡¨åï¼Œè¡¨åˆ«å</span><br><span class="line"># åˆ—åä¸æ˜ç¡®ï¼Œå¯ä»¥æŒ‡å®šåˆ—çš„åˆ«å</span><br><span class="line">select worker.ename as &#x27;èŒå‘˜è¡¨&#x27;,boss.ename As &#x27;ä¸Šçº§è¡¨&#x27;</span><br><span class="line">    from emp worker, emp boss# æ³¨æ„è¿™ä¸ªå¯ä»¥ä¸ç”¨åŠ ä¸Šas </span><br><span class="line">                where worker.mgr = boss.empno;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="mysqlå­æŸ¥è¯¢"><a href="#mysqlå­æŸ¥è¯¢" class="headerlink" title="mysqlå­æŸ¥è¯¢"></a>mysqlå­æŸ¥è¯¢</h2><h3 id="å•è¡Œå’Œå¤šè¡Œçš„å­æŸ¥è¯¢"><a href="#å•è¡Œå’Œå¤šè¡Œçš„å­æŸ¥è¯¢" class="headerlink" title="å•è¡Œå’Œå¤šè¡Œçš„å­æŸ¥è¯¢"></a>å•è¡Œå’Œå¤šè¡Œçš„å­æŸ¥è¯¢</h3><ul><li>å•è¡Œå­æŸ¥è¯¢ï¼šè¿”å›å•è¡Œ</li><li>å¤šè¡Œå­æŸ¥è¯¢ï¼šè¿”å›å¤šè¡Œ<ul><li>all ï¼š <strong>æ‰€æœ‰çš„æ¡ä»¶</strong></li><li>anyï¼š <strong>å­˜åœ¨ä¸€ä¸ªæ¡ä»¶</strong></li></ul></li></ul><p><strong>é—®é¢˜</strong>1</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803218.png" alt="image-20221125185534231"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># å­æ¡ä»¶</span><br><span class="line">select deptno </span><br><span class="line">  from emp</span><br><span class="line">  where ename = &#x27;SMITH&#x27;</span><br><span class="line"># ç„¶åæŠŠä»–åµŒå¥—è¿›å»</span><br><span class="line">select* from emp </span><br><span class="line">  where deptno =(</span><br><span class="line">            select deptno </span><br><span class="line">   from emp</span><br><span class="line">   where ename = &#x27;SMITH&#x27;</span><br><span class="line">        ) </span><br></pre></td></tr></table></figure><p><strong>é—®é¢˜2</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># è–ªæ°´å¤§äºæ‰€æœ‰æŸ¥è¯¢å­æ¡ä»¶çš„å…ƒç´  </span><br><span class="line">select ename,sal,deptno </span><br><span class="line">  from emp</span><br><span class="line">  where sal&gt;ALL(</span><br><span class="line">         select sal</span><br><span class="line">              from emp</span><br><span class="line">           where deptno = 30</span><br><span class="line">        )</span><br><span class="line"> # æ–¹æ³•äºŒ</span><br><span class="line">select ename,sal,deptno </span><br><span class="line">  from emp</span><br><span class="line">  where sal(</span><br><span class="line">         select MAX(sal)</span><br><span class="line">              from emp</span><br><span class="line">           where deptno = 30</span><br><span class="line">        )</span><br><span class="line">#  æ±‚è–ªæ°´æœ€å°çš„å°±åè¿‡æ¥</span><br></pre></td></tr></table></figure><ul><li>any</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">select sal , empno </span><br><span class="line"> from emp</span><br><span class="line"> where sal &gt; any(</span><br><span class="line">     select sal </span><br><span class="line">         from emp</span><br><span class="line">         where dep = 30;</span><br><span class="line">    )</span><br><span class="line">å½“å‰å…ƒç´ æ¯”dep= 30çš„ä»»ä¸€ä¸€ä¸ªå…ƒç´ çš„valè¦å¤§</span><br><span class="line">select sal ,empno</span><br><span class="line"> from emp</span><br><span class="line"> where sal &gt; (</span><br><span class="line">     select min(sal) </span><br><span class="line">         from emp</span><br><span class="line">         where dep = 30;</span><br><span class="line">    );</span><br></pre></td></tr></table></figure><h3 id="å­æŸ¥è¯¢çš„ä¸´æ—¶è¡¨"><a href="#å­æŸ¥è¯¢çš„ä¸´æ—¶è¡¨" class="headerlink" title="å­æŸ¥è¯¢çš„ä¸´æ—¶è¡¨"></a>å­æŸ¥è¯¢çš„ä¸´æ—¶è¡¨</h3><p>ä»»åŠ¡ï¼šæˆ‘ä»¬éœ€è¦æŸ¥è¯¢æ¯ä¸€ä¸ªå•†å“ç±»åˆ«ä¸­æœ€é«˜ä»·æ ¼çš„å•†å“ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># æ¯ä¸€ä¸ªå•†å“ç§ç±»æœ€é«˜ä»·æ ¼çš„æŸ¥è¯¢</span><br><span class="line">select cat_id, MAX(shop_price)</span><br><span class="line">  from ecs_goods</span><br><span class="line">  Group BY cat_id</span><br><span class="line"># å®ç°</span><br><span class="line">select goods_id ecs_goods.cat_id, goods_name,shop_price</span><br><span class="line">  from(</span><br><span class="line">          select cat_id ,MAX(shop_price) as max_price</span><br><span class="line">             from ecs_goods</span><br><span class="line">             group by cat_id</span><br><span class="line">        )temp# è¿™ä¸ªå°±è¢«å«åšä¸´æ—¶è¡¨</span><br><span class="line">        , ecs_goods</span><br><span class="line">        where temp.cat_id = ecs_goods.cat_id</span><br><span class="line">        AND temp.max_price = ecs_goods.shop_price </span><br><span class="line"></span><br><span class="line"># ä»å‘˜å·¥è¡¨ä¸­æ‰¾åˆ°ä¸€ä¸ªå·¥èµ„æ¯”ç»ç†é«˜çš„å‘˜å·¥</span><br><span class="line"> select a.Name as Employee </span><br><span class="line"> from Employee a, (select Salary,Id from Employee) b</span><br><span class="line"> where a.ManagerId=b.Id and a.Salary &gt; b.Salary </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> # æ³¨æ„åœ¨å†™å®Œä¸´æ—¶è¡¨åå¿…é¡»ç»™ä¸´æ—¶è¡¨å‘½åå‘½åæ ¼å¼æ˜¯ åœ¨æ‹¬å·åé¢ç›´æ¥å†™ è¡¨çš„åå­—ï¼Œæˆ–è€…æ˜¯å†™ä¸Šas è¡¨å</span><br><span class="line"> select  k.c as employee </span><br><span class="line">                from (</span><br><span class="line">                    select a.name as c from employee as a,employee as b </span><br><span class="line">                    where a.managerId = b.id and a.salary&gt;b.salary</span><br><span class="line">                )as `k`</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å¤šåˆ—å­æŸ¥è¯¢"><a href="#å¤šåˆ—å­æŸ¥è¯¢" class="headerlink" title="å¤šåˆ—å­æŸ¥è¯¢"></a>å¤šåˆ—å­æŸ¥è¯¢</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#å­è¡¨</span><br><span class="line">select deptno, job</span><br><span class="line">  from emp</span><br><span class="line">  where ename = &#x27;SMITH&#x27;</span><br><span class="line">select *from emp </span><br><span class="line">  //ç±»ä¼¼äºpythonçš„åˆ—è¡¨ï¼Œ å¯ä»¥è¿›è¡Œå¤šæ®µåŒ¹é…</span><br><span class="line">  where(deptno,job)=(</span><br><span class="line">            select deptno, job</span><br><span class="line">   from emp</span><br><span class="line">   where ename = &#x27;SMITH&#x27;</span><br><span class="line">        )AND ename !=&#x27;SMITH&#x27;;</span><br></pre></td></tr></table></figure><ul><li>ç»ƒä¹ ä¸€:<strong>æŸ¥æ‰¾æ¯ä¸€ä¸ªéƒ¨é—¨å·¥èµ„é«˜äºæœ¬éƒ¨é—¨å¹³å‡å·¥èµ„çš„äººçš„èµ„æ–™</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># æ‰¾åˆ°æ¯ä¸€ä¸ªéƒ¨é—¨,çš„å¹³å‡å·¥èµ„</span><br><span class="line">select deptno AVG(sal) as avg_sal</span><br><span class="line">  from emp</span><br><span class="line">  group by deptno</span><br><span class="line">  </span><br><span class="line">#  å°†è¯¥è¡¨ä½œä¸ºä¸€ä¸ªä¸´æ—¶è¡¨</span><br><span class="line">select ename, sal, temp.avg_sal,emp.deptno from emp,(</span><br><span class="line">  select deptno AVG(sal) as avg_sal</span><br><span class="line">  from emp</span><br><span class="line">  group by deptno </span><br><span class="line">  )temp where emp.deptno = temp.deptno AND emp.sal&gt;temp.avg_sal;</span><br></pre></td></tr></table></figure><ul><li>ç»ƒä¹ äºŒ: <strong>æŸ¥æ‰¾æ¯ä¸€ä¸ªéƒ¨é—¨å·¥èµ„æœ€é«˜çš„äººçš„è¯¦ç»†èµ„æ–™</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># å¼„å‡ºä¸€ä¸ªå­æŸ¥è¯¢(æ¯ä¸€ä¸ªéƒ¨é—¨æœ€é«˜å·¥èµ„çš„äººçš„)</span><br><span class="line">select dentno, MAX(sal) as max_sal</span><br><span class="line">      from emp</span><br><span class="line">                        group by deptno</span><br><span class="line">                      </span><br><span class="line">                      </span><br><span class="line"># ç„¶åå½“ä½œä¸´æ—¶è¡¨è¿›è¡ŒæŸ¥è¯¢</span><br><span class="line">select ename,emp.deptno,max_sal</span><br><span class="line">   from emp ,(</span><br><span class="line">                select dentno, MAX(sal) as max_sal</span><br><span class="line">                from emp</span><br><span class="line">                group by deptno</span><br><span class="line">            )temp where emp.deptno = temp.deptno AND emp.sal = temp.max_sal</span><br></pre></td></tr></table></figure><ul><li>ç»ƒä¹ ä¸‰: <strong>æŸ¥è¯¢æ¯ä¸€ä¸ªéƒ¨é—¨çš„ä¿¡æ¯,åŒ…æ‹¬éƒ¨é—¨å,ç¼–å·,åœ°å€å’Œäººå‘˜æ•°é‡</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">--1. éƒ¨é—¨å æ¥è‡ª deptè¡¨</span><br><span class="line">select count(*),deptno</span><br><span class="line">  from emp</span><br><span class="line">  group by deptno</span><br><span class="line"></span><br><span class="line">select dname, dept, deptno, loc ,tmp.per_num as&#x27;äººæ•°&#x27;</span><br><span class="line">  from  (</span><br><span class="line">            select count(*) as per_num,deptno</span><br><span class="line">            from emp</span><br><span class="line">            group by deptno</span><br><span class="line">        ) tmp, dept</span><br><span class="line">        where tmp.deptno = dept.deptno</span><br><span class="line"></span><br><span class="line"># select ä¹Ÿå¯ä»¥æ”¹å†™ä¸ºtmp.*,è¿™æ ·ä»£è¡¨tmpçš„æ‰€æœ‰å­—æ®µ</span><br><span class="line">select tmp.*, dname,loc</span><br><span class="line">  from dept,(</span><br><span class="line">            select count(*) as per_num,deptno</span><br><span class="line">            from emp</span><br><span class="line">            group by deptno</span><br><span class="line">        ) tmp</span><br><span class="line">        where tmp.deptno = dept.deptno</span><br><span class="line">     </span><br></pre></td></tr></table></figure><h2 id="è¡¨çš„å¤åˆ¶"><a href="#è¡¨çš„å¤åˆ¶" class="headerlink" title="è¡¨çš„å¤åˆ¶"></a>è¡¨çš„å¤åˆ¶</h2><p>ç›®çš„:</p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221126081534874.png" alt="image-20221126081534874"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># å¤åˆ¶ä¸€ä¸ªè¡¨çš„æ•°æ®åˆ°å¦ä¸€ä¸ªè¡¨</span><br><span class="line">insert into my_tab01</span><br><span class="line">  (id,`name`,sal,job,deptno)</span><br><span class="line">  select empno,ename,sal,job,deptno from emp&#x27;</span><br><span class="line"># è‡ªæˆ‘å¤åˆ¶</span><br><span class="line">insert into my_tab02</span><br><span class="line">  select * from my_tab02</span><br><span class="line">  </span><br></pre></td></tr></table></figure><ul><li>é¢˜ç›®å¦‚ä½•å»æ‰ä¸€ä¸ªè¡¨çš„é‡å¤è®°å½•</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"> # æŠŠè¡¨çš„ç»“æ„å¤åˆ¶åˆ°empè¡¨ä¸­,è¿™æ ·å°±ä¸ç”¨é‡å¤æ‰“é‚£ä¹ˆå¤šå­—äº†(æ³¨æ„æ˜¯è¡¨çš„ç»“æ„)</span><br><span class="line"> create table my_tab02 like emp;</span><br><span class="line"> </span><br><span class="line"># æ„é€ é‡å¤è¡Œ </span><br><span class="line"> insert into my_tab02</span><br><span class="line">  select * from my_tab02</span><br><span class="line"> # ç°åœ¨å°±æœ‰å¾ˆå¤šé‡å¤çš„è¡Œ,é‚£å¦‚ä½•å»é‡å‘¢</span><br><span class="line"> </span><br><span class="line"> # æ–¹æ³•å°±æ˜¯åˆ›å»ºä¸€ä¸ªä¸´æ—¶è¡¨,</span><br><span class="line"> # æŒ‘é€‰è¿™ä¸ªè¡¨çš„distinct * from,æ’å…¥åˆ°å¦ä¸€ä¸ªè¡¨ä¸­</span><br><span class="line"> # ç„¶ååˆ é™¤åŸè¡¨,æ–°è¡¨æ”¹æˆåŸè¡¨çš„åå­—</span><br><span class="line"> </span><br><span class="line">create table my_tmp like my_tab02</span><br><span class="line">insert into my_tmp </span><br><span class="line">  select distinct * from my_tab02;</span><br><span class="line">delect from my_tab02;</span><br><span class="line">insert into my_tab02 </span><br><span class="line">   select * from my_tmp;</span><br><span class="line">   </span><br><span class="line"># æˆ–è€…æˆ‘ä»¬ä¹Ÿå¯ä»¥å†™æˆè¿™æ ·ï¼Œæ¥ä¿®æ”¹åå­—</span><br><span class="line"># [old] rename to [new]</span><br><span class="line">alter table my_tab02 rename to my_tmp</span><br></pre></td></tr></table></figure><h2 id="åˆå¹¶æŸ¥è¯¢"><a href="#åˆå¹¶æŸ¥è¯¢" class="headerlink" title="åˆå¹¶æŸ¥è¯¢"></a>åˆå¹¶æŸ¥è¯¢</h2><ul><li><code>union allå°†ä¸¤ä¸ªæŸ¥è¯¢ç»“æœåˆå¹¶ï¼Œä¸ä¼šå»é‡</code></li><li><code>unionå°±æ˜¯ä¸¤ä¸ªç»“ æœåˆå¹¶ï¼Œå›å»é‡ï¼Œäº‹å®ä¸Šå¾ˆåƒor</code></li></ul><h2 id="è¡¨çš„å¤–è¿æ¥"><a href="#è¡¨çš„å¤–è¿æ¥" class="headerlink" title="è¡¨çš„å¤–è¿æ¥"></a>è¡¨çš„å¤–è¿æ¥</h2><ul><li>å¦‚æœè¦æä¸€ä¸ªè¡¨çš„ç›¸åŒä¸¤ä¸ªé›†åˆ</li></ul><h4 id="è¡¨çš„è‡ªè¿æ¥"><a href="#è¡¨çš„è‡ªè¿æ¥" class="headerlink" title="è¡¨çš„è‡ªè¿æ¥"></a>è¡¨çš„è‡ªè¿æ¥</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">method1 :</span><br><span class="line">select </span><br><span class="line"> *</span><br><span class="line"> from emp.worker , emp.boss</span><br><span class="line"> where worker.mg</span><br><span class="line">SELECT</span><br><span class="line">     a.NAME AS Employee</span><br><span class="line">FROM Employee AS a JOIN Employee AS b</span><br><span class="line">     ON a.ManagerId = b.Id</span><br><span class="line">     AND a.Salary &gt; b.Salary</span><br><span class="line">ç›¸å½“äºfromä¸¤ä¸ªè¡¨è¿æ¥åœ¨ä¸€èµ·      </span><br><span class="line">     </span><br></pre></td></tr></table></figure><p>é—®é¢˜<img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221127080047582.png" alt="image-20221127080047582"></p><p>å‘ç°ä¸¤ä¸ªè¡¨åˆå¹¶ä¸èƒ½å¾ˆå¥½çš„å®ç°</p><p>å¼•å‡ºæˆ‘ä»¬çš„å¤–è¿æ¥</p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221127080338884.png"></p><p>å¼•å‡ºæˆ‘ä»¬çš„å¤–è¿æ¥é—®é¢˜<img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803063.png" alt="image-20221127080727053"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># å³ä¾¿å·¦è¡¨æ²¡æœ‰å’Œå³è¡¨è¿æ¥çš„åœ°æ–¹ï¼Œä¹Ÿä¼šå‡ºç°å·¦è¡¨,ä¸”å·¦è¡¨ä¸ºnull</span><br><span class="line">select &#x27;name&#x27; stu.id,</span><br><span class="line">  from stu LEFT JOIN exam</span><br><span class="line">  ON stu.i d = exam.id</span><br><span class="line">  </span><br><span class="line"># å·¦è¿æ¥å¦‚ä¸‹å†™æ³•</span><br><span class="line">select &#x27;name&#x27; stu.id,</span><br><span class="line">  from stu RIGHT JOIN exam</span><br><span class="line">  ON stu.id = exam.id</span><br></pre></td></tr></table></figure><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221127080923568.png" alt="image-20221127080923568"></p><p>é—®é¢˜<img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803169.png" alt="image-20221127081333443"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select eptno.id,ename,work </span><br><span class="line">  from company left join emp</span><br><span class="line">  ON where company.id = emp.id</span><br></pre></td></tr></table></figure><h2 id="mysqlçš„çº¦æŸ"><a href="#mysqlçš„çº¦æŸ" class="headerlink" title="mysqlçš„çº¦æŸ"></a>mysqlçš„çº¦æŸ</h2><ul><li><p>æŸ¥çœ‹çº¦æŸ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#ä½¿ç”¨dec+è¡¨å</span><br><span class="line">dec t17</span><br><span class="line"># å°±ä¼šæ˜¾ç¤ºçº¦æŸçš„æƒ…å†µ</span><br></pre></td></tr></table></figure></li></ul><h3 id="ä¸»é”®"><a href="#ä¸»é”®" class="headerlink" title="ä¸»é”®"></a>ä¸»é”®</h3><ul><li>ä¸»é”®åˆ—çš„å€¼æ˜¯ä¸å¯ä»¥é‡å¤çš„</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># åœ¨å­—æ®µåé¢æ·»åŠ primary keyå°±æ˜¯æŠŠä¸€ä¸ªå­—æ®µå˜æˆä¸»é”®</span><br><span class="line">create table t17(</span><br><span class="line">  id int primary key,</span><br><span class="line">  `name` varchar(32),</span><br><span class="line">  emain varchar(32));</span><br><span class="line">        </span><br></pre></td></tr></table></figure><ul><li>ä¸»é”®æ’å…¥çš„å…ƒç´ ä¸å¯ä»¥ä¸º<strong>null</strong></li><li>ä¸€ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ï¼Œä½†å¯ä»¥<strong>å¤åˆä¸»é”®</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># åªæœ‰å½“idå’Œnameéƒ½å’Œè¡¨ä¸­çš„ä¸€ä¸ªæ•°æ®ç›¸åŒçš„æ—¶å€™ï¼Œæ‰ä¸èƒ½æ’å…¥</span><br><span class="line">create table t17(</span><br><span class="line">  id int,</span><br><span class="line">  `name` varchar(32),</span><br><span class="line">  emain varchar(32)</span><br><span class="line">  primary key(id,`name`));--è¿™å°±æ˜¯å¤åˆä¸»é”®</span><br></pre></td></tr></table></figure><ul><li>å®šä¹‰ä¸»é”®çš„æ–¹å¼äºŒ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table t19(</span><br><span class="line">  id int,</span><br><span class="line">     `name` varchar(32),</span><br><span class="line">     emain varchar(32),</span><br><span class="line">     primary key(`name`)--æŠŠå®šä¹‰å†™åœ¨åé¢</span><br><span class="line"> )</span><br></pre></td></tr></table></figure><h3 id="unique"><a href="#unique" class="headerlink" title="unique"></a>unique</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create table t19(</span><br><span class="line">    id int unique,--idä¸å¯ä»¥é‡å¤</span><br><span class="line">    `name` varchar(32),</span><br><span class="line">    ename varchar(32),</span><br><span class="line">)</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœuniqueæ²¡æœ‰å¢åŠ not nullçº¦æŸï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥æ·»åŠ nullçš„å…ƒç´ ï¼Œ<strong>è€Œä¸”nullå¯ä»¥å¡«å†™å¤šä¸ª</strong>ï¼ˆå½“ç„¶énullä¸èƒ½å¡«å†™å¤šä¸ªï¼‰</li><li>ä¸€å¼ è¡¨ä¸­å¯ä»¥æœ‰<strong>å¤šä¸ªuniqueå­—æ®µ</strong></li><li>primary keyå’Œuniqueçš„åŒºåˆ«åœ¨äºï¼Œ<strong>primary keyåœ¨ä¸€ä¸ªè¡¨ä¸­åªèƒ½å­˜åœ¨ä¸€æ¬¡ï¼Œä½†æ˜¯uniqueå¯ä»¥æœ‰å¤šä¸ª</strong>ï¼Œå…¶ä»–çš„ç‰¹å¾éƒ½æ˜¯ç›¸åŒçš„</li></ul><h2 id="è¡¨çš„å¤–é”®"><a href="#è¡¨çš„å¤–é”®" class="headerlink" title="è¡¨çš„å¤–é”®"></a>è¡¨çš„å¤–é”®</h2><blockquote><p>å¦‚æœæˆ‘ä»¬è¦æ±‚æ¯ä¸€ä¸ªå­¦ç”Ÿæ‰€åœ¨çš„ç­çº§ç¼–å·æ˜¯å­˜åœ¨çš„ç­çº§ç¼–å·ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠclass_idåšæˆå¤–é”®çº¦æŸ</p></blockquote><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221129233418189.png" alt="image-20221129233418189"></p><ul><li>ç›¸äº’çº¦æŸçš„è¡¨æ ¼ï¼Œå¿…é¡»å¾—å…ˆåˆ é™¤å·¦è¾¹çš„è¡¨ï¼Œæ‰èƒ½åˆ é™¤å³è¾¹çš„è¡¨</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># åˆ›å»ºä¸»è¡¨</span><br><span class="line">CREATE TABLE my_class(</span><br><span class="line">  id INT PRIMARY KEY,</span><br><span class="line">     `name` VARCHAR(32) NOT NULL DEFAULT &#x27;&#x27;);</span><br><span class="line"> </span><br><span class="line"># åˆ›å»ºä»è¡¨</span><br><span class="line">CREATE TABLE my_stu(</span><br><span class="line">  id INT PRIMARY KEY,</span><br><span class="line">     `name`  VARCHAR(32) NOT NULL DEFAULT &#x27;&#x27;,</span><br><span class="line">     class_id INT,</span><br><span class="line">     # åˆ¶å®šå¤–é”®å…³ç³»</span><br><span class="line">     FOREIGN KEY(class_id) REFERENCES my_class(id))</span><br><span class="line">  )</span><br><span class="line">  // ç¬¬ä¸€ä¸ªæ˜¯keyï¼ˆä»è¡¨çš„å±æ€§ï¼‰reï¼ˆä¸»è¡¨ï¼ˆå±æ€§ï¼‰ï¼‰</span><br><span class="line">  </span><br><span class="line">INSERT INTO my_class</span><br><span class="line"> VALUES(100,&#x27;java&#x27;),(200,&#x27;web&#x27;);   </span><br><span class="line">    #æˆåŠŸæ’å…¥</span><br><span class="line">INSERT INTO my_stu</span><br><span class="line"> VALUES(1,&#x27;tom&#x27;,100),(2,&#x27;jack&#x27;,200);</span><br><span class="line"> #æˆåŠŸæ’å…¥</span><br><span class="line">INSERT INTO my_stu</span><br><span class="line"> VALUES(3,&#x27;hsp&#x27;,300);</span><br><span class="line"> #æ’å…¥å¤±è´¥</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803973.png" alt="image-20221130115600150"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 4</span><br><span class="line">insert into my_stu</span><br><span class="line">  values(5, &#x27;king&#x27;, NULL);</span><br><span class="line"># æ³¨æ„è¿™æ˜¯ä¸ä¼šæŠ¥é”™çš„</span><br><span class="line"># 5</span><br><span class="line">delete from my_class</span><br><span class="line">  where id == 5;</span><br><span class="line"># å¤–é”®çº¦æŸå¤±è´¥äº†ï¼Œ æ•°æ®ä¸èƒ½éšæ„åˆ é™¤</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="check"><a href="#check" class="headerlink" title="check"></a>check</h2><ul><li><p>mysql15.7,åªåšè¯­æ³•æ ¡éªŒï¼Œä¸ä¼šç”Ÿæ•ˆ</p><p>oracle ,sql serverä¾¿ä¼šç”Ÿæ•ˆ</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table t23(</span><br><span class="line">  id int primary key,</span><br><span class="line">  `name` varchar(32),</span><br><span class="line">  sex varchar(6) check(sex in(&#x27;man&#x27;,&#x27;woman&#x27;))),</span><br><span class="line">  sal double check(sal&gt;1000 AND sal&lt;2000)</span><br><span class="line">  );</span><br></pre></td></tr></table></figure><h2 id="ENUM"><a href="#ENUM" class="headerlink" title="ENUM"></a>ENUM</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sex enum(&#x27;ç”·&#x27;,&#x27;å¥³&#x27;)not null</span><br><span class="line"># è¡¨ç¤ºsexåªå¯èƒ½æ˜¯ç”·ç”Ÿæˆ–è€…å¥³ç”Ÿ</span><br></pre></td></tr></table></figure><h2 id="è‡ªå¢é•¿"><a href="#è‡ªå¢é•¿" class="headerlink" title="è‡ªå¢é•¿"></a>è‡ªå¢é•¿</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803037.png" alt="image-20221204221806824"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE t24</span><br><span class="line"> (id INT PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line"> email VARCHAR(32) NOT NULL DEFAULT &#x27;&#x27;,</span><br><span class="line"> `name` VARCHAR(32)NOT NULL DEFAULT &#x27;&#x27;);</span><br><span class="line">DESC t24</span><br><span class="line">INSERT INTO t24 </span><br><span class="line"> VALUES(NULL,&#x27;jack@qq.com&#x27;,&#x27;jack&#x27;);</span><br><span class="line"> </span><br><span class="line"># æ–¹æ³•äºŒ</span><br><span class="line"># æ³¨æ„è¿™é‡Œå¿…è¦å†™å‚é‡</span><br><span class="line">insert into t24</span><br><span class="line"> (email, &#x27;name&#x27;) values(&#x27;jack@qq.com&#x27;, &#x27;jack&#x27;);</span><br><span class="line">SELECT* FROM t24</span><br><span class="line"># å‡ºç°nullçš„æ—¶å€™ä¼šè‡ªåŠ¨å˜æˆ1</span><br></pre></td></tr></table></figure><ul><li><p>ç»†èŠ‚</p><ol><li><p>ä¸€èˆ¬æ¥è¯´è‡ªå¢é•¿éœ€è¦å’Œprimary keyé…åˆä½¿ç”¨</p></li><li><p>è‡ªå¢é•¿ä¹Ÿå¯ä»¥å•ç‹¬ä½¿ç”¨ï¼ˆä½†æ˜¯éœ€è¦é…åˆä¸€ä¸ªuniqueï¼‰</p></li><li><p>è‡ªå¢é•¿ä¿®é¥°çš„å­—æ®µä¸ºæ•´æ•°å½¢çš„ï¼ˆè™½ç„¶å°æ•°ä¹Ÿå¯ä»¥ä½†æ˜¯éå¸¸éå¸¸å°‘è¿™æ ·ä½¿ç”¨ï¼‰</p></li><li><p>è‡ªå¢é•¿é»˜è®¤ä»1å¼€å§‹ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤ä¿®æ”¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alter table t24 auto_increment = 100</span><br><span class="line"># ä¸‹æ¬¡å¼€å§‹çš„æ—¶å€™å°±æ˜¯ä»100å¼€å§‹</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœä½ æ·»åŠ æ•°æ®æ—¶ï¼Œ<strong>ç»™è‡ªå¢é•¿å­—æ®µæŒ‡å®šçš„æœ‰å€¼ï¼Œåˆ™ä»¥æŒ‡å®šçš„å€¼ä¸ºå‡†ï¼Œå¦‚æœæŒ‡å®šäº†è‡ªå¢é•¿ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå°±æŒ‰ç…§è‡ªå¢é•¿çš„è§„åˆ™æ¥æ·»åŠ æ•°æ®</strong></p></li></ol></li></ul><h2 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h2><h3 id="ç´¢å¼•ä¼˜åŒ–é€Ÿåº¦"><a href="#ç´¢å¼•ä¼˜åŒ–é€Ÿåº¦" class="headerlink" title="ç´¢å¼•ä¼˜åŒ–é€Ÿåº¦"></a>ç´¢å¼•ä¼˜åŒ–é€Ÿåº¦</h3><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20221204223135245.png" alt="image-20221204223135245"></p><ul><li><p>å½“è¡¨çš„å…ƒç´ ç‰¹åˆ«å¤šçš„æ—¶å€™ï¼Œåœ¨æ²¡æœ‰åˆ›å»ºç´¢å¼•æ—¶ï¼Œæˆ‘ä»¬çš„æŸ¥è¯¢ä¸€æ¡è®°å½•ä¼šéå¸¸æ…¢</p></li><li><p>åˆ›å»ºç´¢å¼•</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># create index ç´¢å¼•çš„åç§° on è¡¨å (åˆ—å)</span><br><span class="line">create index empno_index on emp (empno)</span><br><span class="line"># åˆ›å»ºç´¢å¼•ä¹‹åï¼Œåœ¨selectè´¼å¿«,ä½†æ˜¯åœ¨åˆ›å»ºç´¢å¼•çš„è¿‡ç¨‹ä¸­éœ€è¦ä¸€äº›æ—¶é—´ï¼Œå¹¶ä¸”å†…å­˜ä¼šå˜å¤§</span><br><span class="line">select * from emp where ename = &#x27;axJxC&#x27;;</span><br></pre></td></tr></table></figure><h3 id="ç´¢å¼•æœºåˆ¶"><a href="#ç´¢å¼•æœºåˆ¶" class="headerlink" title="ç´¢å¼•æœºåˆ¶"></a>ç´¢å¼•æœºåˆ¶</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803256.png" alt="image-20221204224422620"></p><ul><li><p>ç´¢å¼•çš„åŸç†</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803286.png" alt="image-20221204224635635"></p></li></ul><p> ä½¿ç”¨ç´¢å¼•åï¼Œå°±ä¼šå½¢æˆä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œæ¯”å¦‚äºŒå‰æ ‘ã€‚è¿™ä¸ªæœ‰åºçš„äºŒå‰æ ‘å°±ä¼šå­˜å‚¨è¿™äº›æ•°æ®</p><ul><li><p>åå¤„</p><ol><li><p>å ç”¨<strong>ç£ç›˜ç©ºé—´</strong></p></li><li><p>ä¼šå¯¹<strong>update delete inserté€ æˆä¸€å®šçš„å½±å“</strong></p></li></ol></li></ul><p>ä½†æ˜¯å› ä¸º<strong>selectåœ¨ä¸šåŠ¡å¼€å‘ä¸­çš„ä½¿ç”¨æ¬¡æ•°å¤šäºupdate delete insertä¹‹å’Œ</strong>,æ‰€ä»¥è¿™ä¸ªä¸œè¥¿è¿˜æ˜¯ç‰¹åˆ«ä½¿ç”¨çš„</p><h3 id="ç´¢å¼•çš„ç±»å‹"><a href="#ç´¢å¼•çš„ç±»å‹" class="headerlink" title="ç´¢å¼•çš„ç±»å‹"></a>ç´¢å¼•çš„ç±»å‹</h3><ul><li><p>æŸ¥è¯¢ä¸€ä¸ªè¡¨æ˜¯å¦æœ‰ç´¢å¼•</p></li><li><p>æ·»åŠ å”¯ä¸€ç´¢å¼•</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create unique index id_index on t25(id);</span><br></pre></td></tr></table></figure><ul><li>åˆ é™¤ç´¢å¼•</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># åˆ é™¤ç´¢å¼•</span><br><span class="line">drop index id_index on t25</span><br><span class="line"></span><br><span class="line"># åˆ é™¤ä¸»é”®ç´¢å¼•</span><br><span class="line">alter table drop primary key </span><br></pre></td></tr></table></figure><ul><li>æŸ¥è¯¢ç´¢å¼•</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># æ–¹å¼1</span><br><span class="line">show index from è¡¨å</span><br><span class="line"></span><br><span class="line"># æ–¹å¼äºŒ</span><br><span class="line">show indexes from è¡¨å</span><br><span class="line"></span><br><span class="line"># æ–¹å¼ä¸‰</span><br><span class="line">DESC b</span><br></pre></td></tr></table></figure><h4 id="ä¸»é”®ç´¢å¼•"><a href="#ä¸»é”®ç´¢å¼•" class="headerlink" title="ä¸»é”®ç´¢å¼•"></a>ä¸»é”®ç´¢å¼•</h4><p> ä¸»é”®å°±æ˜¯<strong>ä¸€ç§ç´¢å¼•</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">create table t11(</span><br><span class="line">id int primary key,-- ä¸»é”®ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç´¢å¼•</span><br><span class="line">name varchar(32))</span><br><span class="line">);</span><br><span class="line">create table t12(</span><br><span class="line">id int unique,-- ä¸»é”®ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç´¢å¼•</span><br><span class="line">name varchar(32))</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="æ™®é€šç´¢å¼•"><a href="#æ™®é€šç´¢å¼•" class="headerlink" title="æ™®é€šç´¢å¼•"></a>æ™®é€šç´¢å¼•</h4><ul><li>è¿™æ˜¯ä¸€ç§æœ€å¸¸ç”¨çš„ç´¢å¼•ã€‚</li></ul><h4 id="å”¯ä¸€ç´¢å¼•"><a href="#å”¯ä¸€ç´¢å¼•" class="headerlink" title="å”¯ä¸€ç´¢å¼•"></a>å”¯ä¸€ç´¢å¼•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE t25(</span><br><span class="line"> id INT,</span><br><span class="line"> `name` VARCHAR(32));</span><br><span class="line">INSERT INTO t25</span><br><span class="line"> VALUES(20,&quot;java&quot;);</span><br><span class="line">SHOW  INDEXES FROM t25 </span><br><span class="line"># å¦‚æœæŸåˆ—å€¼æ˜¯ä¸é‡å¤ï¼Œé‚£ä¹ˆä¼˜å…ˆè€ƒè™‘å”¯ä¸€ç´¢å¼•ï¼Œå¦åˆ™è€ƒè™‘æ™®é€šç´¢å¼•</span><br><span class="line">CREATE UNIQUE INDEX id_index ON t25(id);</span><br><span class="line"></span><br><span class="line"># æ·»åŠ ç´¢å¼•æ–¹å¼2</span><br><span class="line">alter table t25 add index id_index (id)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># æ·»åŠ ä¸»é”®ç´¢å¼•</span><br><span class="line">alter table t26 add primary key (id)</span><br></pre></td></tr></table></figure><h4 id="å…¨æ–‡ç´¢å¼•"><a href="#å…¨æ–‡ç´¢å¼•" class="headerlink" title="å…¨æ–‡ç´¢å¼•"></a>å…¨æ–‡ç´¢å¼•</h4><ul><li>æˆ‘ä»¬å¸¸ç”¨solrå’Œelasticsearchï¼ˆESï¼‰ã€‚</li></ul><h2 id="mysqläº‹åŠ¡"><a href="#mysqläº‹åŠ¡" class="headerlink" title="mysqläº‹åŠ¡"></a>mysqläº‹åŠ¡</h2><ul><li>äº‹åŠ¡çš„ç†è§£</li></ul><p>ç°åœ¨éœ€è¦æŠŠå¤šä¸ªæ•°æ®è§†ä¸ºä¸€ä¸ªæ•´ä½“ã€‚å°†å¤šä¸ªdmlï¼ˆdeleteï¼Œupdateï¼Œinsertï¼‰å½“åšä¸€ä¸ªæ•´ä½“ï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥</p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230103115023554.png" alt="image-20230103115023554"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">create table t27&#123;</span><br><span class="line"> id int,</span><br><span class="line"> `name` varchar(32)</span><br><span class="line">&#125;</span><br><span class="line">start transaction </span><br><span class="line">savepoint a</span><br><span class="line">insert into t27 values(200,&#x27;javk&#x27;);</span><br><span class="line">rollback a</span><br><span class="line"># commit å°±ä¼šçœŸçš„ç”Ÿæ•ˆäº†ï¼Œè¿˜ä¼šæŠŠæ‰€æœ‰çš„å›æ»šæœºåˆ¶å›é€€ã€‚ </span><br><span class="line">commit </span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803202.png" alt="image-20230506232037664"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start transaction  ä¹Ÿå¯ä»¥å†™æˆ set autocommit = off;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803366.png" alt="image-20230103120031423"></p><ul><li>é»˜è®¤æƒ…å†µä¸‹ä¼šè‡ªåŠ¨æäº¤äº‹åŠ¡ï¼Œä½†æ˜¯ä¸ä¼šä¿æŒã€‚</li><li>å¿…é¡»ä½¿ç”¨innODBå¼•æ“æ‰èƒ½ä½¿ç”¨æ”¯æŒäº‹åŠ¡</li></ul><h3 id="mysqläº‹åŠ¡éš”ç¦»çº§åˆ«"><a href="#mysqläº‹åŠ¡éš”ç¦»çº§åˆ«" class="headerlink" title="mysqläº‹åŠ¡éš”ç¦»çº§åˆ«"></a>mysqläº‹åŠ¡éš”ç¦»çº§åˆ«</h3><p> <img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230103120900930.png" alt="image-20230103120900930"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803816.png" alt="image-20230103120909327"></p><ul><li>æ›´å¥½ç†è§£çš„æ–¹å¼</li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230507141313883.png" alt="image-20230507141313883"></p><ul><li>çŸ¥ä¹çš„ä¸€ç¯‡åšå®¢ï¼ˆè®²çš„ä¹Ÿå¯ä»¥ï¼‰</li></ul><p><a href="https://zhuanlan.zhihu.com/p/150107974">å¤§ç™½è¯è®²è§£è„å†™ã€è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯» - çŸ¥ä¹ (zhihu.com)</a></p><h3 id="éš”ç¦»çº§åˆ«çš„è¯¦ç»†è¯´æ˜"><a href="#éš”ç¦»çº§åˆ«çš„è¯¦ç»†è¯´æ˜" class="headerlink" title="éš”ç¦»çº§åˆ«çš„è¯¦ç»†è¯´æ˜"></a>éš”ç¦»çº§åˆ«çš„è¯¦ç»†è¯´æ˜</h3><ul><li>è„è¯»å°±æ˜¯åœ¨æ²¡æœ‰<strong>commit</strong>çš„æ—¶å€™ï¼Œä¸€ä¸ªäº‹åŠ¡è¢«ä¿®æ”¹äº†ï¼Œå¦ä¸€ç«¯ä¹Ÿå¯ä»¥è¢«æŸ¥è¯¢åˆ°</li><li>ä¸å¯é‡å¤è¯»å’Œå¹»è¯»æ˜¯ï¼Œä½ commitäº†ï¼Œå½“è¿™ä¸ªäº‹åŠ¡åœ¨commitä¹‹å‰è¢«ä¿®æ”¹äº†ï¼Œé‚£ä¹ˆå¦ä¸€ç«¯å°±å¯ä»¥çœ‹åˆ°</li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230103121208049.png" alt="image-20230103121208049"></p><ul><li>å¯ä¸²è¡ŒåŒ–åœ¨<strong>äº‹ç‰©æ²¡æœ‰æäº¤</strong>çš„æ—¶å€™ï¼Œ å°±ä¼šå¡ä½ä¸ä¼šåŠ¨</li></ul><h3 id="æŸ¥çœ‹mysqlçš„éš”ç¦»çº§åˆ«"><a href="#æŸ¥çœ‹mysqlçš„éš”ç¦»çº§åˆ«" class="headerlink" title="æŸ¥çœ‹mysqlçš„éš”ç¦»çº§åˆ«"></a>æŸ¥çœ‹mysqlçš„éš”ç¦»çº§åˆ«</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥çœ‹éš”ç¦»çº§åˆ«</span><br><span class="line">select @@tx_isolation</span><br><span class="line"></span><br><span class="line">+-----------------+</span><br><span class="line">| @@tx_isolation  |</span><br><span class="line">+-----------------+</span><br><span class="line">| REPEATABLE-READ |</span><br><span class="line">+-----------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803598.png" alt="image-20230103145804494"></p><ul><li>æŸ¥çœ‹ç³»ç»Ÿéš”ç¦»çº§åˆ«</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥çœ‹ç³»ç»Ÿéš”ç¦»çº§åˆ«</span><br><span class="line">suselect @@global.tx_isolation</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹ä¸€ä¸ªæ§åˆ¶å°çš„éš”ç¦»çº§åˆ«è®¾ç½®"><a href="#ä¿®æ”¹ä¸€ä¸ªæ§åˆ¶å°çš„éš”ç¦»çº§åˆ«è®¾ç½®" class="headerlink" title="ä¿®æ”¹ä¸€ä¸ªæ§åˆ¶å°çš„éš”ç¦»çº§åˆ«è®¾ç½®"></a>ä¿®æ”¹ä¸€ä¸ªæ§åˆ¶å°çš„éš”ç¦»çº§åˆ«è®¾ç½®</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">set session transaction isolation level éš”ç¦»çº§åˆ«</span><br><span class="line"># è¢«è®¾ç½®ä¸ºè¯»æœªæäº¤çš„éš”ç¦»çº§åˆ«</span><br><span class="line">æ¯”å¦‚ï¼šset session transaction isolation level read uncommitted</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>ä¿®æ”¹ç³»ç»Ÿéš”ç¦»çº§åˆ«</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># è®¾ç½®ç³»ç»Ÿå½“å‰éš”ç¦»çº§åˆ«</span><br><span class="line">set global transaction isolation level éš”ç¦»çº§åˆ«</span><br></pre></td></tr></table></figure><ul><li><strong>mysqlé»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«æ˜¯repeatable readï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œæ²¡æœ‰å¿…è¦ä¿®æ”¹</strong></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803898.png" alt="image-20230103160128015"></p><h2 id="mysqlè¡¨çš„ç±»å‹å’Œå­˜å‚¨å¼•æ“"><a href="#mysqlè¡¨çš„ç±»å‹å’Œå­˜å‚¨å¼•æ“" class="headerlink" title="mysqlè¡¨çš„ç±»å‹å’Œå­˜å‚¨å¼•æ“"></a>mysqlè¡¨çš„ç±»å‹å’Œå­˜å‚¨å¼•æ“</h2><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230103162842363.png" alt="image-20230103162842363"></p><ul><li>äº‹åŠ¡å®‰å…¨å‹æ¯”å¦‚è¯´æ˜¯InnoDB</li><li>éäº‹åŠ¡å®‰å…¨æ€§å°±æ˜¯å…¶ä»–çš„å¼•æ“</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803217.png" alt="image-20230103163129815"></p><ul><li><p>è¡¨é”çš„çº§åˆ«é«˜ä¸€äº›ï¼Œ é”çš„æ›´å¤š</p></li><li><p>ç»†èŠ‚è¯´æ˜ï¼š</p></li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230103163509171.png" alt="image-20230103163509171"></p><h2 id="myisamå¼•æ“"><a href="#myisamå¼•æ“" class="headerlink" title="myisamå¼•æ“"></a>myisamå¼•æ“</h2><p><strong>é€Ÿåº¦å¿«ï¼Œä¸æ”¯æŒå¤–é”®ï¼Œå’Œäº‹åŠ¡</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">create table t28(</span><br><span class="line">  id int,</span><br><span class="line">  `name` varchar(32))engine myisam;</span><br><span class="line">start transaction;</span><br><span class="line">savepoint t1;</span><br><span class="line">insert into t28 values(1,&#x27;jack&#x27;);</span><br><span class="line">select* from t28;</span><br><span class="line"># è¿™é‡Œå°±ä¼šæŠ¥é”™ã€‚å› ä¸ºmyisamå¼•æ“ä¸æ”¯æŒå›æ»šã€‚</span><br><span class="line">rollback to t28</span><br></pre></td></tr></table></figure><h2 id="memoryå¼•æ“"><a href="#memoryå¼•æ“" class="headerlink" title="memoryå¼•æ“"></a>memoryå¼•æ“</h2><p>æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­</p><p>æ‰§è¡Œé€Ÿåº¦å¾ˆå¿«ï¼Œ<strong>ä½†æ˜¯å…³é—­æ•°æ®åº“çš„æ—¶å€™ï¼Œå°±ä¼šå‡ºç°åˆ é™¤è®°å½•ï¼Œä½†æ˜¯ä¼šä¿ç•™ç»“æ„ã€‚</strong>ï¼Œ ä½†æ˜¯<strong>è¡¨çš„ç»“æ„è¿˜æ˜¯å­˜åœ¨</strong>çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table t28(</span><br><span class="line">  id int,</span><br><span class="line">  `name` varchar(32))engine memory;</span><br><span class="line">insert int t29(</span><br><span class="line">   (1,&#x27;tom&#x27;),(2,&#x27;jack&#x27;),(3,&#x27;hsp&#x27;) );</span><br><span class="line">select* from t29</span><br></pre></td></tr></table></figure><ul><li><p>ä¸‰ç§å¼•æ“çš„æŠ‰æ‹©</p><p>å½“ä½ <strong>ä¸éœ€è¦è¿›è¡Œäº‹åŠ¡å¤„ç†çš„æ—¶å€™</strong>å°±ä¼˜å…ˆé€‰æ‹©<strong>myisam</strong>.</p><p>å¦åˆ™å°±é€‰æ‹©innoDBï¼Œå¦‚æœ<strong>ä»£è¡¨ç”¨æˆ·çš„çŠ¶æ€</strong>çš„æ—¶å€™ï¼Œç”¨æˆ·çš„çŠ¶æ€é¢‘ç¹æ”¹åŠ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€‰æ‹©memoryå¼•æ“ï¼ˆ<strong>æ¯”å¦‚ç”¨æˆ·åœ¨çº¿çš„çŠ¶æ€</strong>ï¼‰ã€‚</p></li><li><p>ä¿®æ”¹å­˜å‚¨å¼•æ“</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># å°†è¡¨çš„å­˜å‚¨å¼•æ“ä¿®æ”¹ä¸ºinnoDB</span><br><span class="line">alter table `t29` engine = innoDB</span><br></pre></td></tr></table></figure><h2 id="è§†å›¾åŸç†"><a href="#è§†å›¾åŸç†" class="headerlink" title="è§†å›¾åŸç†"></a>è§†å›¾åŸç†</h2><ul><li><p><strong>è§†å›¾å’Œå¯¹åº”çš„çœŸå®è¡¨</strong>çš„å…³ç³»</p></li><li><p>è§†å›¾çš„æ€»ç»“</p><ul><li>è§†å›¾æ˜¯æ ¹æ®åŸºæœ¬æ¥åˆ›å»ºçš„ï¼Œè§†å›¾æ˜¯è™šæ‹Ÿçš„è¡¨</li><li>è§†å›¾ä¹Ÿæœ‰åˆ—ï¼Œæ•°æ®æ¥è‡ªåŸºè¡¨çš„æ˜ å°„ï¼ˆç›¸å½“äºä¸€ä¸ªæŒ‡é’ˆï¼‰ã€‚</li><li>é€šè¿‡è§†å›¾å¯ä»¥ä¿®æ”¹<strong>åŸºè¡¨çš„æ•°æ®</strong></li><li>åŸºè¡¨çš„æ”¹å˜ï¼Œä¹Ÿä¼šå½±å“åˆ°è§†å›¾çš„æ•°æ®</li></ul><p>è€Œä¸”åŸºè¡¨ä¸èƒ½ç›´æ¥æŸ¥çœ‹ï¼Œåªèƒ½é€šè¿‡è¿™ä¸ªè§†å›¾æ¥è®¿é—®</p></li></ul><h3 id="è§†å›¾çš„åŸºæœ¬ä½¿ç”¨"><a href="#è§†å›¾çš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="è§†å›¾çš„åŸºæœ¬ä½¿ç”¨"></a>è§†å›¾çš„åŸºæœ¬ä½¿ç”¨</h3><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230103170610014.png" alt="image-20230103170610014"></p><ul><li>æŸ¥çœ‹è§†å›¾çš„viewè¯­å¥</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create VIEW emp_view01</span><br><span class="line">  AS</span><br><span class="line">  SELECT empno, ename,job,deptno from emp;</span><br><span class="line"># æŸ¥çœ‹è§†å›¾</span><br><span class="line">DESC emp_view01;</span><br></pre></td></tr></table></figure><ul><li><p>æŸ¥çœ‹åˆ›å»ºè§†å›¾çš„æŒ‡ä»¤</p></li><li><p>ä¿®æ”¹è§†å›¾</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">update emp_view01</span><br><span class="line">  set job = &quot;MANAGER&quot;</span><br><span class="line">  WHERE empno = 7369;</span><br><span class="line"># å‘ç°åŸºè¡¨ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼Œè€Œä¸”è¯¥è¡¨åŸºè¡¨ï¼Œè§†å›¾ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜</span><br></pre></td></tr></table></figure></li></ul><h3 id="è§†å›¾æœ€ä½³å®è·µ"><a href="#è§†å›¾æœ€ä½³å®è·µ" class="headerlink" title="è§†å›¾æœ€ä½³å®è·µ"></a>è§†å›¾æœ€ä½³å®è·µ</h3><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803634.png" alt="image-20230103171706923"></p><ul><li>è¿™æ ·å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªè§†å›¾ï¼Œç„¶åä»¥åå¯ä»¥ç›´æ¥æ‹¿æ¥åå¤ç”¨</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create view `view_032`</span><br><span class="line">  as</span><br><span class="line">  select empno, ename, dname,grade </span><br><span class="line">  from emp, dept,salgrade</span><br><span class="line">  where emp.deptno = dept.deptno AND</span><br><span class="line">  (sal Between losal AND hisal)</span><br></pre></td></tr></table></figure><ul><li>æ˜ å°„åˆ°å¤šå¼ è¡¨çš„æ–¹æ³•ï¼Œå°±æ˜¯æ˜ å°„åˆ°å¤šä¸ªè¡¨æ ¼ä¹‹é—´çš„ç¬›å¡å°”ç§¯ã€‚</li></ul><h2 id="mysqlæ•°æ®åº“"><a href="#mysqlæ•°æ®åº“" class="headerlink" title="mysqlæ•°æ®åº“"></a>mysqlæ•°æ®åº“</h2><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230103172856098.png" alt="image-20230103172856098"></p><ul><li>å½“æˆ‘ä»¬åšé¡¹ç›®å¼€å‘æ—¶ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„å¼€å‘äººå‘˜ï¼Œèµ‹ç»™ä»–ç›¸åº”çš„mysqlæ“ä½œæƒé™</li><li>æ‰€ä»¥ï¼Œmysqlæ•°æ®åº“ç®¡ç†äººå‘˜ï¼Œæ ¹æ®éœ€è¦åˆ›å»ºä¸åŒçš„ç”¨æˆ·åï¼Œèµ‹ç»™ç›¸åº”çš„æƒé™ï¼Œä¾›äººå‘˜ä½¿ç”¨</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># åˆ›å»ºä¸€ä¸ªhsp_eduçš„ç”¨æˆ·ï¼Œä»–å¯ä»¥è·å¾—ç®¡ç†æ•°æ®åº“çš„éƒ¨åˆ†æƒé™</span><br><span class="line">CREATE USER &#x27;hsp_edu&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123&#x27;;</span><br><span class="line"># åˆ é™¤ç”¨æˆ·</span><br><span class="line">DROP user `åç§°`@`localhost`;</span><br></pre></td></tr></table></figure><ul><li>ç™»é™†</li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230103174126035.png" alt="image-20230103174126035"></p><p>ç‚¹å‡»é‚£ä¸ªç»¿è‰²çš„å……ç”µå™¨ç¬¦å·ï¼Œç„¶åå°±å¯ä»¥æ”¹å˜ä½ çš„èº«ä»½ä¸ºwjh</p><ul><li>ä¿®æ”¹å¯†ç </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set password for `wjh`@`localhost` = password(&#x27;123456&#x27;);</span><br></pre></td></tr></table></figure><h3 id="ç»™ç”¨æˆ·æˆæƒ"><a href="#ç»™ç”¨æˆ·æˆæƒ" class="headerlink" title="ç»™ç”¨æˆ·æˆæƒ"></a>ç»™ç”¨æˆ·æˆæƒ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grant æƒé™åˆ—è¡¨ on åº“.å¯¹è±¡å to `ç”¨æˆ·å`@`ç™»å½•ä½ç½®`</span><br><span class="line"># ç›´æ¥èµ‹ç»™ä¸€ä¸ªç”¨æˆ·å…¨éƒ¨æƒé™</span><br><span class="line">grant all on *.* to `ç”¨æˆ·å`@`ç™»å½•ä½ç½®`</span><br></pre></td></tr></table></figure><ul><li>ç»ƒä¹ é¢˜</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803679.png" alt="image-20230103175025671"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 1</span><br><span class="line">create user `wjh`@`localhost` indentified by &#x27;123456&#x27;;</span><br><span class="line"># 2</span><br><span class="line"> # ä½¿ç”¨root ç”¨æˆ·åˆ›å»ºtestdb,è¡¨ä¸ºnews</span><br><span class="line">create database testdb</span><br><span class="line">create table news(</span><br><span class="line">  id int,</span><br><span class="line">  content varchar(32));</span><br><span class="line"># æ·»åŠ ä¸€ä¸ªæµ‹è¯•æ•°æ®</span><br><span class="line">insert into news values(100,&#x27;æ•°æ®åº“&#x27;);</span><br><span class="line">grant select ,insert </span><br><span class="line"> on testdb.news</span><br><span class="line"> to `wjh`@`localhost`</span><br><span class="line"># ä½†æ˜¯åœ¨wjhçš„ç”¨æˆ·ï¼Œå°±ä¸èƒ½æ›´æ”¹è¿™ä¸ªç”¨æˆ·çš„æ•°æ®</span><br></pre></td></tr></table></figure><ul><li></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># è¡¨ç¤ºxxxç”¨æˆ·åœ¨192.168.1.* çš„ipå¯ä»¥ç™»å½•mysql</span><br><span class="line">create user `smith`@`192.168.1.%`</span><br><span class="line"></span><br><span class="line"># åœ¨åˆ é™¤ç”¨æˆ·çš„æ—¶å€™ï¼Œå¦‚æœhostä¸æ˜¯%ï¼Œéœ€è¦æ˜ç¡®åˆ¶å®šï¼Œç”¨æˆ·@hostå€¼</span><br><span class="line">drop user jack-- é»˜è®¤å°±æ˜¯drop user `jack`@`%`</span><br><span class="line">drop user `smith`@`192.168.1.%`è¡¨ç¤ºxxxç”¨æˆ·åœ¨192.168.1.*d</span><br></pre></td></tr></table></figure><h1 id="ç»ƒä¹ é¢˜"><a href="#ç»ƒä¹ é¢˜" class="headerlink" title="ç»ƒä¹ é¢˜"></a>ç»ƒä¹ é¢˜</h1><ul><li>æŸ¥æ‰¾ç¬¬né«˜çš„æ•°æ®Â·</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">select DISTINCT</span><br><span class="line"> salary as xx</span><br><span class="line">from</span><br><span class="line"> employee</span><br><span class="line">order by salary desc</span><br><span class="line">limit 1 offset 1</span><br><span class="line">// offsetä»£è¡¨è·³è¿‡å¤šå°‘ä¸ªå…ƒç´ </span><br><span class="line">// ä½†æ˜¯ä¼šé‡åˆ°ä¼šç©ºçš„æƒ…å†µï¼Œ æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å­è¡¨æŸ¥è¯¢,å½“ä¸ºç©ºçš„æ—¶å€™ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªnull</span><br><span class="line">SELECT</span><br><span class="line">    (SELECT DISTINCT</span><br><span class="line">            Salary</span><br><span class="line">        FROM</span><br><span class="line">            Employee</span><br><span class="line">        ORDER BY Salary DESC</span><br><span class="line">        LIMIT 1 OFFSET 1) AS SecondHighestSalary</span><br><span class="line">;</span><br></pre></td></tr></table></figure><p> æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ifnullå‡½æ•°</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803774.png" alt="image-20230504121726459"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">    IFNULL(</span><br><span class="line">      (SELECT DISTINCT Salary</span><br><span class="line">       FROM Employee</span><br><span class="line">       ORDER BY Salary DESC</span><br><span class="line">        LIMIT 1 OFFSET 1),</span><br><span class="line">    NULL) AS SecondHighestSalary</span><br></pre></td></tr></table></figure><ul><li>æ±‚ç¬¬Né«˜çš„è–ªæ°´</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># å…ˆè®©Nå‡å»1</span><br><span class="line">set N := N - 1;</span><br><span class="line"></span><br><span class="line">select </span><br><span class="line">  distinct salary</span><br><span class="line">from </span><br><span class="line">  Employee</span><br><span class="line">order by </span><br><span class="line">  salary desc</span><br><span class="line">limit 1 offset N</span><br><span class="line"></span><br><span class="line"># distinct å’Œ group byä¸€ä¸ªå…ƒç´ éƒ½å¯ä»¥èµ·åˆ°å»é‡çš„æ•ˆæœã€‚</span><br><span class="line"></span><br><span class="line"># å­æŸ¥è¯¢å®ç°</span><br><span class="line">    select </span><br><span class="line">      distinct salary</span><br><span class="line">      from employee e </span><br><span class="line">      where </span><br><span class="line">      (select count(distinct salary) from employee where salary &gt; e.salary) = N</span><br></pre></td></tr></table></figure><h1 id="Java-åŸºç¡€çŸ¥è¯†è¡¥å……"><a href="#Java-åŸºç¡€çŸ¥è¯†è¡¥å……" class="headerlink" title="Java - åŸºç¡€çŸ¥è¯†è¡¥å……"></a>Java - åŸºç¡€çŸ¥è¯†è¡¥å……</h1><p><strong>Propertiesçš„ä½œç”¨</strong></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230517133747245.png" alt="image-20230517133747245"></p><h1 id="java-jdbc"><a href="#java-jdbc" class="headerlink" title="java - jdbc"></a>java - jdbc</h1><p>å¯¼å…¥ mysql - jdbc çš„jaræ–‡ä»¶</p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230528222459750.png" alt="image-20230528222459750"></p><h2 id="jdbcæ¦‚è¿°"><a href="#jdbcæ¦‚è¿°" class="headerlink" title="jdbcæ¦‚è¿°"></a>jdbcæ¦‚è¿°</h2><p>è¯¥å›¾å±•ç°äº†javaè¿æ¥æ•°æ®åº“çš„æ¨¡å¼</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803385.png" alt="image-20230513130330541"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803717.png" alt="image-20230513130431706"></p><h3 id="jdbc-ç¼–å†™çš„æ­¥éª¤"><a href="#jdbc-ç¼–å†™çš„æ­¥éª¤" class="headerlink" title="jdbc ç¼–å†™çš„æ­¥éª¤"></a>jdbc ç¼–å†™çš„æ­¥éª¤</h3><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230513174544652.png" alt="image-20230513174544652"></p><ul><li>è¿æ¥</li></ul><p><code>jdbc:mysql://localhost::3306/hsp_db02</code></p><p>â€jdbc:mysqlâ€æ˜¯å›ºå®šçš„ï¼Œä»£è¡¨çš„æ˜¯åè®®</p><ul><li><p>3306 ä»£è¡¨ç›‘å¬çš„ç«¯å£</p></li><li><p>hsp_db02 ä»£è¡¨ä½ è¦è¿æ¥çš„æ•°æ®åº“</p></li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230513183647741.png" alt="image-20230513183647741"></p><ul><li>ç¬¬ä¸€ä¸ªjdbcä»£ç </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wjh.jdbc;</span><br><span class="line"><span class="keyword">import</span> com.mysql.jdbc.Driver;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> è¿™æ˜¯ç¬¬ä¸€ä¸ªjdbcç¨‹åº</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">jdbc01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        <span class="comment">// 1. æ³¨å†Œé©±åŠ¨</span></span><br><span class="line">        <span class="type">Driver</span> <span class="variable">driver</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Driver</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€‚å¾—åˆ°é“¾æ¥</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/hsp_db02?useUnicode=true&amp;characterEncoding=utf8&quot;</span>;</span><br><span class="line">        <span class="comment">// å°†ç”¨æˆ·åå’Œå¯†ç æ”¾å…¥åˆ°Properties å¯¹è±¡</span></span><br><span class="line">        <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        properties.setProperty(<span class="string">&quot;user&quot;</span>, <span class="string">&quot;root&quot;</span>);</span><br><span class="line">        properties.setProperty(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connect</span> <span class="operator">=</span> driver.connect(url, properties);</span><br><span class="line">        <span class="comment">// 3ï¼›æ‰§è¡Œsql</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;insert into actor values(null, &#x27;åˆ˜å¾·å&#x27;, &#x27;ç”·&#x27;, &#x27;1970-11-11&#x27;, &#x27;110&#x27;)&quot;</span>;</span><br><span class="line">        <span class="comment">// ç”¨äºæ‰§è¡Œé™æ€sqlè¯­å¥å¹¶è¿”å›å…¶ç”Ÿæˆå¯¹è±¡</span></span><br><span class="line">        <span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> connect.createStatement();</span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> statement.executeUpdate(sql); <span class="comment">// dmlè¯­å¥ è¿”å›çš„å°±æ˜¯å½±å“çš„è¡Œæ•°,åªæœ‰åœ¨dmlçš„æ—¶å€™æ‰ä¼šè¿”å›å½±å“çš„è¡Œæ•°ï¼Œå¦‚æœæ˜¯åˆ›å»ºçš„è¯ï¼Œå°±ä¸ä¼š</span></span><br><span class="line"></span><br><span class="line">        System.out.println(rows &gt; <span class="number">0</span> ? <span class="string">&quot;æˆåŠŸ&quot;</span>:<span class="string">&quot;å¤±è´¥&quot;</span>);</span><br><span class="line">        <span class="comment">// 4.å…³é—­è¿æ¥èµ„æº</span></span><br><span class="line">        statement.close();</span><br><span class="line">        connect.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><p>ä¸Šé¢ä»£ç éœ€è¦æ³¨æ„çš„ç‚¹ ï¼š è¦åœ¨urlé‡Œé¢ç»“å°¾åŠ ä¸Š<code>?useUnicode=true&amp;characterEncoding=utf8</code></p></li><li><p>å¯ä»¥é€šè¿‡ä¿®æ”¹<code>sql</code>,æ¢æˆ<code>delete</code> ï¼Œ <code>update</code> ç­‰è¯­å¥</p></li><li><p>é€šè¿‡åå°„ç±»æ¥åŠ è½½ï¼Œ å¯ä»¥å‡å°‘ä¾èµ–æ€§</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;?&gt; aClass = Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line"><span class="type">Driver</span> <span class="variable">driver</span> <span class="operator">=</span> (Driver)aClass.newInstance();</span><br></pre></td></tr></table></figure><ul><li>åˆ©ç”¨DriverManager.registerDriveræ–¹æ³•æˆ‘ä»¬å¯ä»¥æ›´å¥½çš„æ‰“å¼€æ•°æ®åº“æ•°æ®ï¼Œè€Œä¸åƒä¹‹å‰é‚£æ ·æé”®å€¼å¯¹</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">connect03</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException, InstantiationException, IllegalAccessException, SQLException&#123;</span><br><span class="line">        Class&lt;?&gt; aClass = Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        <span class="type">Driver</span> <span class="variable">driver</span> <span class="operator">=</span> (Driver)aClass.newInstance();</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/hsp_db02?useUnicode=true&amp;characterEncoding=utf8&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">passwd</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        DriverManager.registerDriver(driver);</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> DriverManager.getConnection(url, user, passwd);</span><br><span class="line">        System.out.println(<span class="string">&quot;ç¬¬ä¸‰ç§æ–¹å¼=&quot;</span> + connection);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><ul><li>è¿›ä¸€æ­¥çš„ï¼Œ æˆ‘ä»¬å‘ç°ï¼Œ å…¶å®å¯ä»¥ä¸éœ€è¦æ³¨å†Œé©±åŠ¨(è¿™æ˜¯å› ä¸ºåº•å±‚æœ‰ä¸€ä¸ªé™æ€ä»£ç å—ï¼Œè‡ªåŠ¨å¸®ä½ å†™äº†) ï¼ˆè¿™ä¸ªæ–¹å¼è·å–é“¾æ¥æ˜¯æœ€é‡è¦ï¼‰</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">connect03</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException, InstantiationException, IllegalAccessException, SQLException&#123;</span><br><span class="line">        Class&lt;?&gt; aClass = Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/hsp_db02?useUnicode=true&amp;characterEncoding=utf8&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">passwd</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        DriverManager.registerDriver(driver);</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> DriverManager.getConnection(url, user, passwd);</span><br><span class="line">        System.out.println(<span class="string">&quot;ç¬¬ä¸‰ç§æ–¹å¼=&quot;</span> + connection</span><br><span class="line">                          );</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230513203223293.png" alt="image-20230513203223293"></p><ul><li><p>ç„¶åå› ä¸ºjdbcçš„ä¼˜åŒ–ï¼Œ &#x2F;META-INF &#x2F; service&#x2F;java.sql.Driver é‡Œé¢æœ‰æ³¨å†Œï¼Œæ‰€ä»¥åå°„çš„é‚£ä¸€æ®µéƒ½å¯ä»¥ä¸è¦ï¼Œ ä½†æ˜¯å»ºè®®è¿˜æ˜¯é€‰æ‹©æ–¹æ³•4.</p></li><li><p>è¿›ä¸€æ­¥çš„ä¼˜åŒ–æ–¹æ³•4ï¼šæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰å¯†ç ç”¨æˆ·å(ç”¨æˆ·è‡ªå·±é…ç½®å¯†ç  ç”¨æˆ·å driver)</p></li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230513205019188.png" alt="image-20230513205019188"></p><p>  ç°åœ¨srcç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<code>mysql.properties</code>æ–‡ä»¶ï¼Œ ç„¶åè¾“å…¥è¿™äº›å†…å®¹è¿›å»</p><p>  <img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803806.png" alt="image-20230513205146810"></p><blockquote><p>æ³¨æ„è¿™é‡Œä¸è¦æ·»åŠ ç©ºæ ¼å’ŒåŒå¼•å·</p></blockquote><p>â€‹     ç„¶åå‡½æ•°å†™æ³•å¦‚ä¸‹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">connect05</span><span class="params">()</span> <span class="keyword">throws</span> IOException, ClassNotFoundException, SQLException &#123;</span><br><span class="line">    <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">    properties.load(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;src\\mysql.properties&quot;</span>));</span><br><span class="line">    <span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">driver</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;driver&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">    Class.forName(driver);</span><br><span class="line">    <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> DriverManager.getConnection(url, user, password);</span><br><span class="line">    System.out.println(<span class="string">&quot;æ–¹å¼5 &quot;</span> + connection);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Resultset"><a href="#Resultset" class="headerlink" title="Resultset"></a>Resultset</h2><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230515191339770.png" alt="image-20230515191339770"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803955.png" alt="image-20230515191514606"></p><ul><li>å¯¹äºexecuteQueryï¼ˆï¼‰æ¥è¯´ï¼Œ ç»“å°¾å…³é—­çš„æ–‡ä»¶è¿˜æœ‰<code>resultSet.close()</code>;</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803949.png" alt="image-20230515192159401"></p><p>  <strong>éå†çš„æ–¹å¼1</strong></p><p>åº•å±‚çš„æºç å¦‚ä¸‹</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803207.png" alt="image-20230515192737325"></p><h2 id="statement-mysqlæ³¨å…¥"><a href="#statement-mysqlæ³¨å…¥" class="headerlink" title="statement&#x2F; mysqlæ³¨å…¥"></a>statement&#x2F; mysqlæ³¨å…¥</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803789.png" alt="image-20230515193007310"></p><ul><li><p>statementå­˜åœ¨ä¸€ä¸ªsqlæ³¨å…¥é—®é¢˜ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803850.png" alt="image-20230515193515020"></p></li><li><p>sqlæ³¨å…¥é»‘å®¢çš„åŸç†ï¼Œ å› ä¸ºå¯ä»¥æŠŠæœ€åä¸€ä½å˜å¾—æ°¸è¿œæ˜¯çœŸï¼Œç„¶åæŠŠæ‰€æœ‰æ•°æ®éƒ½å·å‡ºæ¥</p></li></ul><p><strong>è¾“å…¥æ•°æ®</strong></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230515195415652.png" alt="image-20230515195415652"></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230515195351292.png" alt="image-20230515195351292"></p><h2 id="PreparedStatement"><a href="#PreparedStatement" class="headerlink" title="PreparedStatement_"></a>PreparedStatement_</h2><ul><li>å±‚æ¬¡ç»“æ„å›¾</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803847.png" alt="image-20230515195556552"></p><ul><li>ä½¿ç”¨å®ƒçš„å¥½å¤„</li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230515195832526.png" alt="image-20230515195832526"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803209.png" alt="image-20230515200959087"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">      System.out.println(<span class="string">&quot;è¯·è¾“å…¥ç”¨æˆ·çš„åå­—&quot;</span>);</span><br><span class="line">      <span class="type">String</span> <span class="variable">admin_name</span> <span class="operator">=</span> scanner.nextLine();</span><br><span class="line">      System.out.println(<span class="string">&quot;è¯·è¾“å…¥ç”¨æˆ·çš„å¯†ç &quot;</span>);</span><br><span class="line">      <span class="type">String</span> <span class="variable">admin_pwd</span> <span class="operator">=</span> scanner.nextLine();</span><br><span class="line"><span class="comment">// å¯¼å…¥æ•°æ®</span></span><br><span class="line">      <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">      properties.load(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;src\\mysql.properties&quot;</span>));</span><br><span class="line">      <span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">      <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">      <span class="type">String</span> <span class="variable">driver</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;driver&quot;</span>);</span><br><span class="line">      <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;url&quot;</span>);</span><br><span class="line"><span class="comment">// åå°„æœºåˆ¶ï¼Œ æ³¨å†Œæ•°æ®</span></span><br><span class="line">      Class.forName(driver);</span><br><span class="line"><span class="comment">// æ‰§è¡Œsqlè¯­å¥</span></span><br><span class="line">      <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;SELECT name, pwd from admin where name =? and pwd =?&quot;</span>;</span><br><span class="line">      <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> DriverManager.getConnection(url, user, password);</span><br><span class="line">      <span class="comment">// ? ä»£è¡¨å ä½ç¬¦</span></span><br><span class="line">      <span class="type">PreparedStatement</span> <span class="variable">preparedStatement</span> <span class="operator">=</span> connection.prepareStatement(sql);</span><br><span class="line">      preparedStatement.setString(<span class="number">1</span>, admin_name);</span><br><span class="line">      preparedStatement.setString(<span class="number">2</span>, admin_pwd);</span><br><span class="line"><span class="comment">// è¿™é‡Œç°åœ¨ä¸ç”¨å¡«å…¥sqläº†ï¼ˆstatementçš„æ—¶å€™è¦ï¼‰</span></span><br><span class="line">      <span class="type">ResultSet</span> <span class="variable">resultSet</span> <span class="operator">=</span> preparedStatement.executeQuery();</span><br><span class="line">      <span class="keyword">if</span>(resultSet.next())&#123;</span><br><span class="line">          System.out.println(<span class="string">&quot;ç™»å½•æˆåŠŸ&quot;</span>);</span><br><span class="line">      &#125; </span><br><span class="line">      <span class="keyword">else</span>&#123;</span><br><span class="line">          System.out.println(<span class="string">&quot;ç™»å½•å¤±è´¥&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><p>åœ¨ä½¿ç”¨äº†preparedStatementçš„æ—¶å€™å°±ä¸è¦åœ¨executeçš„æ—¶å€™è¿™ä¸€è¡Œä½¿ç”¨çš„æ‹¬å·ä¸­å†™sql</p></li><li><p>dmlè¯­å¥</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update admin set pwd = ? where name = ?&quot;</span>;</span><br><span class="line"><span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> DriverManager.getConnection(url, user, password);</span><br><span class="line"><span class="comment">// ? ä»£è¡¨å ä½ç¬¦</span></span><br><span class="line"><span class="type">PreparedStatement</span> <span class="variable">preparedStatement</span> <span class="operator">=</span> connection.prepareStatement(sql);</span><br><span class="line">preparedStatement.setString(<span class="number">2</span>, admin_name);</span><br><span class="line">preparedStatement.setString(<span class="number">1</span>, admin_pwd);</span><br><span class="line"><span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> preparedStatement.executeUpdate();</span><br><span class="line">System.out.println(rows &gt; <span class="number">0</span> ? <span class="string">&quot;æˆåŠŸ&quot;</span>: <span class="string">&quot;å¤±è´¥&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="jdbc-apiçš„å¤ä¹ "><a href="#jdbc-apiçš„å¤ä¹ " class="headerlink" title="jdbc apiçš„å¤ä¹ "></a>jdbc apiçš„å¤ä¹ </h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803535.png" alt="image-20230516203905276"></p><ul><li><p>è¡¥å…… setObject <strong>ï¼ˆå ä½ç¬¦çš„ç´¢å¼•ï¼Œå ä½ç¬¦çš„å€¼ï¼‰</strong></p></li><li><p>ResultSetï¼ˆç»“æœé›†ï¼‰</p><ul><li><strong>nextï¼ˆï¼‰</strong>å‘ä¸‹ç§»åŠ¨ä¸€è¡Œ ï¼ˆä¸€å¼€å§‹è¿”å›çš„æ˜¯ç¬¬ä¸€è¡Œçš„å‰é¢ä¸€ä¸ªå…ƒç´ ï¼‰</li><li><strong>previousï¼ˆï¼‰</strong>å‘ä¸Šç§»åŠ¨ä¸€è¡Œ</li><li><strong>getIntï¼ˆï¼‰</strong>è¿˜å¯ä»¥é€šè¿‡å­—ç¬¦æ¥è¿›è¡Œç´¢å¼•resultset.getInt(â€œidâ€) é€šè¿‡åˆ—åæ¥è·å–å€¼</li></ul></li></ul><h2 id="å°è£…JDBCUtil"><a href="#å°è£…JDBCUtil" class="headerlink" title="å°è£…JDBCUtil"></a>å°è£…JDBCUtil</h2><p><code>Alt + Insert</code>: å¯ä»¥å¿«é€Ÿè°ƒç”¨å¸¸ç”¨æŒ‡ä»¤</p><p><code>alt + Enter</code>å¯ä»¥try-catchåŒ…æ‹¬ä½</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803595.png" alt="image-20230516205106115"></p><ul><li>æ³¨æ„æ–¹æ³•æ‰å¯ä»¥æŠ›å‡ºï¼Œ ä»£ç å—é‡Œé¢å¿…é¡»ä½¿ç”¨try-catch</li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230516205616966.png" alt="image-20230516205616966"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">package com.wjh.jdbc.utils;</span><br><span class="line"></span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.sql.*;</span><br><span class="line">import java.util.Properties;</span><br><span class="line"></span><br><span class="line">public class JDBCUtils &#123;</span><br><span class="line">    private static String user;</span><br><span class="line">    private static String password;</span><br><span class="line">    private static String url;</span><br><span class="line">    private static String driver;</span><br><span class="line">    // åœ¨static ä»£ç å—å»åˆå§‹åŒ–</span><br><span class="line">    static &#123;</span><br><span class="line">        try&#123;</span><br><span class="line">            Properties properties = new Properties();</span><br><span class="line">            properties.load(new FileInputStream(&quot;src\\mysql.properties&quot;));</span><br><span class="line">            user = properties.getProperty(&quot;user&quot;);</span><br><span class="line">            password = properties.getProperty(&quot;password&quot;);</span><br><span class="line">            url = properties.getProperty(&quot;url&quot;);</span><br><span class="line">            driver = properties.getProperty(&quot;driver&quot;);</span><br><span class="line">        &#125;catch(IOException e)&#123;</span><br><span class="line">            throw new RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public static Connection getConnection()&#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            return DriverManager.getConnection(url, user, password);</span><br><span class="line">        &#125;</span><br><span class="line">        catch (SQLException e)&#123;</span><br><span class="line">            throw new RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public static void close(ResultSet set, Statement statement,Connection connection)&#123;</span><br><span class="line">      try &#123;</span><br><span class="line">          if(set != null)&#123;</span><br><span class="line">              set.close();</span><br><span class="line">          &#125;</span><br><span class="line">          if(statement != null)&#123;</span><br><span class="line">              statement.close();</span><br><span class="line">          &#125;</span><br><span class="line">          if(connection != null)&#123;</span><br><span class="line">              connection.close();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;catch(SQLException e)&#123;</span><br><span class="line">        throw new RuntimeException(e);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>JDBCUtil_DML</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wjh.jdbc.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JDBCUtil_DML</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        testDML();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">testDML</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// connect</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">//create sql</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update actor set name =? where id =?&quot;</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">preparedStatement</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            connection = JDBCUtils.getConnection();</span><br><span class="line">            preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">            preparedStatement.setString(<span class="number">1</span>,<span class="string">&quot;å‘¨æ˜Ÿé©°&quot;</span>);</span><br><span class="line">            preparedStatement.setInt(<span class="number">2</span>, <span class="number">4</span>);</span><br><span class="line">            preparedStatement.executeUpdate();</span><br><span class="line">        &#125;<span class="keyword">catch</span>(SQLException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">            JDBCUtils.close(<span class="literal">null</span>,preparedStatement, connection);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="JDBCçš„äº‹åŠ¡ä»‹ç»"><a href="#JDBCçš„äº‹åŠ¡ä»‹ç»" class="headerlink" title="JDBCçš„äº‹åŠ¡ä»‹ç»"></a>JDBCçš„äº‹åŠ¡ä»‹ç»</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803157.png" alt="image-20230516214610316"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">connection.setAutoCommit(<span class="literal">false</span>); <span class="comment">// å¼€å¯äº†äº‹åŠ¡(å¼€äº†ä¹‹åå°±ä¸ä¼šä¸€æ‰§è¡Œsqlï¼Œ å°±æäº¤ï¼‰)</span></span><br><span class="line">connection.rollback();</span><br></pre></td></tr></table></figure><ul><li>æˆ‘ä»¬å¯ä»¥æŠŠå›æ»šæ“ä½œï¼Œæ”¾åˆ°æœ‰ä¸€åŠçš„ä¸šåŠ¡å‡ºç°å¼‚å¸¸catchè¯­å¥ä¸­çš„æ—¶å€™ï¼Œ å½“å‡ºäº‹çš„æ—¶å€™ï¼Œå°±å›æ»šã€‚</li></ul><h2 id="æ‰¹å¤„ç†æ“ä½œ"><a href="#æ‰¹å¤„ç†æ“ä½œ" class="headerlink" title="æ‰¹å¤„ç†æ“ä½œ"></a>æ‰¹å¤„ç†æ“ä½œ</h2><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518195826456.png" alt="image-20230518195826456"></p><p><strong>å¯ä»¥æé«˜æ•ˆç‡</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">preparedStatement.addBatch(); <span class="comment">// æ‰¹é‡å¤„ç†æ•°æ®</span></span><br><span class="line"><span class="comment">// å¦‚æœè¦ä½¿ç”¨æ‰¹é‡å¤„ç†ï¼Œ urlåé¢ä¸€å®šè¦åŠ ä¸Š?rewriteBatchedStatements=true</span></span><br><span class="line"><span class="comment">// æ¯å½“æ»¡1000æ¡çš„æ—¶å€™å°±ä¸€èµ·æ‰”åˆ°æœåŠ¡å™¨é‡Œé¢</span></span><br><span class="line"><span class="comment">// é€Ÿåº¦å¤§å¤§çš„æé«˜</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i  &lt; <span class="number">5000</span>;++i)&#123;</span><br><span class="line">    preparedStatement.setString(<span class="number">1</span>, <span class="string">&quot;jack&quot;</span>);</span><br><span class="line">    preparedStatement.setString(<span class="number">2</span>, <span class="string">&quot;666&quot;</span>);</span><br><span class="line">    preparedStatement.addBatch(); <span class="comment">// æ‰¹é‡å¤„ç†æ•°æ®</span></span><br><span class="line">    <span class="keyword">if</span>((i + <span class="number">1</span>)% <span class="number">1000</span> == <span class="number">0</span>)&#123;</span><br><span class="line">        preparedStatement.executeBatch();</span><br><span class="line">        preparedStatement.clearbatch();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>äº‹å®ä¸Šï¼Œä»–å°±æ˜¯åˆ›å»ºäº†ä¸€ä¸ªarraylistæ•°ç»„ï¼Œ æŠŠæ‰€æœ‰æ•°æ®å­˜åˆ°é‡Œé¢ï¼Œç„¶åä¸€æ¬¡æ€§æ‰§è¡Œ</p><p>executeBatchï¼ˆï¼‰å‡½æ•°ï¼Œè¿™æ ·ç›¸æ¯”äºæ­£å¸¸çš„æ–¹æ³•åªç”¨è°ƒç”¨5æ¬¡executeBatch</p></li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518202129108.png" alt="image-20230518202129108"></p><h2 id="æ•°æ®åº“è¿æ¥æ± "><a href="#æ•°æ®åº“è¿æ¥æ± " class="headerlink" title="æ•°æ®åº“è¿æ¥æ± "></a>æ•°æ®åº“è¿æ¥æ± </h2><h3 id="ä¼ ç»Ÿè¿æ¥"><a href="#ä¼ ç»Ÿè¿æ¥" class="headerlink" title="ä¼ ç»Ÿè¿æ¥"></a>ä¼ ç»Ÿè¿æ¥</h3><ul><li>å¦‚æœåˆå¤šä¸ªäººï¼Œ è¿æ¥ä¸€ä¸ªæ•°æ®åº“ï¼Œ ä¼šå˜å¾—å¾ˆæ…¢</li></ul><p>è¿™æ˜¯å› ä¸ºæ¯æ¬¡ï¼Œè¿æ¥æ•°æ®åº“ï¼Œç„¶åå…³é—­ï¼Œéƒ½è¦éªŒè¯<strong>ipåœ°å€ï¼Œ ç”¨æˆ·åå’Œå¯†ç </strong></p><p>è€Œä¸”ï¼Œ å¦‚æœç¨‹åºå‡ºç°å¼‚å¸¸ï¼Œä¸èƒ½æ­£å¸¸å…³é—­ï¼Œå°†ä¼šå¯¼è‡´æ•°æ®åº“çš„å†…å­˜æ³„éœ²ã€‚æœ€ç»ˆå¯¼è‡´é‡å¯æ•°æ®åº“</p><h3 id="å¼€å§‹æ–°çš„è¿æ¥"><a href="#å¼€å§‹æ–°çš„è¿æ¥" class="headerlink" title="å¼€å§‹æ–°çš„è¿æ¥"></a>å¼€å§‹æ–°çš„è¿æ¥</h3><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518203127314.png" alt="image-20230518203127314"></p><p>é€šè¿‡å†ç¼“å­˜æ± é‡Œé¢æ”¾å…¥ä¸€å®šæ•°é‡çš„è¿æ¥ï¼Œ æ¯æ¬¡åªéœ€ä»ç¼“å†²æ± é‡Œé¢å–å‡ºä¸€ä¸ªï¼Œä½¿ç”¨å®Œä»¥åå†æ”¾å›å»</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803838.png" alt="image-20230518203622485"></p><p>å®ƒçš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ª<strong>ç­‰å¾…é˜Ÿåˆ—</strong>ï¼Œå†æ”¾å›å»çš„æ—¶å€™ï¼Œä¸ä¼šé‡Šæ”¾å¯¹è±¡ã€‚</p><p>æ•°æ®åº“è¿æ¥æ± çš„ç§ç±»</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803844.png" alt="image-20230518203824373"></p><h3 id="è¿æ¥æ± -C3P0"><a href="#è¿æ¥æ± -C3P0" class="headerlink" title="è¿æ¥æ±  - C3P0"></a>è¿æ¥æ±  - C3P0</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæ•°æ®æºå¯¹è±¡</span></span><br><span class="line">comboxxxx = <span class="keyword">new</span> <span class="title class_">comboxxxx</span>;</span><br><span class="line"><span class="comment">// é€šè¿‡é…ç½®æ–‡ä»¶mysql.properties è·å–ç›¸å…³çš„ä¿¡æ¯ã€‚</span></span><br><span class="line"><span class="comment">//ç•¥</span></span><br><span class="line">    </span><br><span class="line">com.setdriverxxxclass(driver);</span><br><span class="line">com.set(url);</span><br><span class="line">com.set(user);</span><br><span class="line">com.setpass(password);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®åˆå§‹åŒ–è¿æ¥æ•°</span></span><br><span class="line">comxxx.poolsize(<span class="number">10</span>);</span><br><span class="line">comxxx.setMaxsize(<span class="number">50</span>);</span><br><span class="line"><span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> comxxx.getconnection();</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803944.png" alt="image-20230518205241292"></p><ul><li><p>ä»¥ä¸Šæ˜¯å¤§ä½“çš„æµç¨‹</p></li><li><p>æˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨å…¶ä»–çš„æ–¹å¼äºŒï¼ˆå®ƒçš„xmlæ¥è¿æ¥ï¼‰</p></li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230518205731069.png" alt="image-20230518205731069"></p><p>è¿™æ ·å­ï¼Œä»£ç å°±å¯ä»¥å˜å¾—ç‰¹åˆ«çŸ­</p><p>xmlä»£ç </p><p>æ–‡ä»¶çš„å‘½åä¸º<code>c3p0.config.xml</code></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803394.png" alt="image-20230518210102272"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803412.png" alt="image-20230518210043131"></p><h3 id="è¿æ¥æ± -Druid"><a href="#è¿æ¥æ± -Druid" class="headerlink" title="è¿æ¥æ±  - Druid"></a>è¿æ¥æ±  - Druid</h3><h2 id="Mysqlä¸»ä»å¤åˆ¶"><a href="#Mysqlä¸»ä»å¤åˆ¶" class="headerlink" title="Mysqlä¸»ä»å¤åˆ¶"></a>Mysqlä¸»ä»å¤åˆ¶</h2><ul><li>å¦‚æœideaä¸­å‡ºç°æŠ¥é”™ï¼Œ æˆ‘ä»¬éœ€è¦å†urlç»“å°¾åŠ ä¸Š <code>useSSL=false</code></li></ul><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230722202809491.png" alt="image-20230722202809491"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803137.png" alt="image-20230722214613077"></p><p>è¿™ä¸€æ­¥è¿˜æœ‰ä¸€ä¸ªé‡å¯</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803021.png" alt="image-20230722214714204"></p><p>ä¸»ä»å¤åˆ¶çš„ä½œç”¨</p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230722215505596.png" alt="image-20230722215505596"></p><h2 id="é¡¹ç›®ä¸­çš„æ–‡ä»¶é…ç½®"><a href="#é¡¹ç›®ä¸­çš„æ–‡ä»¶é…ç½®" class="headerlink" title="é¡¹ç›®ä¸­çš„æ–‡ä»¶é…ç½®"></a>é¡¹ç›®ä¸­çš„æ–‡ä»¶é…ç½®</h2><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230722220459783.png" alt="image-20230722220459783"></p><p>å…¶ä¸­ load-balance-algorithm-typeæ˜¯è´Ÿè½½å‡è¡¡</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803350.png" alt="image-20230722220720406"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803511.png" alt="image-20230722221153558"></p><p><img src="C:\Users\wps\AppData\Roaming\Typora\typora-user-images\image-20230722221144802.png" alt="image-20230722221144802"></p><ul><li>å† ideaä¸­ æ˜¾ç¤ºä¸ºï¼Œ æŸ¥è¯¢çš„æ—¶å€™ DataSourcesï¼šslave ï¼Œ å¢æ·»çš„æ—¶å€™ä¸º masterã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061803422.png" alt="image-20230723160911437"></p>]]></content>
      
      
      <categories>
          
          <category> å‰åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> åç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>webcomponent</title>
      <link href="/2023/11/06/webcomponent/"/>
      <url>/2023/11/06/webcomponent/</url>
      
        <content type="html"><![CDATA[<h1 id="è¿™æ˜¯æˆ‘çš„å‰ç«¯å°ç»„ä»¶åº“-thinking"><a href="#è¿™æ˜¯æˆ‘çš„å‰ç«¯å°ç»„ä»¶åº“-thinking" class="headerlink" title="è¿™æ˜¯æˆ‘çš„å‰ç«¯å°ç»„ä»¶åº“ :thinking:"></a>è¿™æ˜¯æˆ‘çš„å‰ç«¯å°ç»„ä»¶åº“ :thinking:</h1><h2 id="cloud-font"><a href="#cloud-font" class="headerlink" title="cloud-font"></a>cloud-font</h2><p><a href="https://github.com/Alanyaeer/web-component/tree/master/cloud-font">cloud-font</a></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/web-component@master/assets/202310282006780.png" alt="image-20231028192333139"></p><h2 id="nav"><a href="#nav" class="headerlink" title="nav"></a>nav</h2><p><a href="https://github.com/Alanyaeer/web-component/tree/master/nav-tab">nav</a></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/web-component@master/assets/202310291413234.png" alt="image-20231029141317092"></p><h2 id="process-bar"><a href="#process-bar" class="headerlink" title="process-bar"></a>process-bar</h2><p><a href="https://github.com/Alanyaeer/web-component/tree/master/process-bar">è¿›åº¦æ¡</a></p><p>è¿™é‡Œæœ‰ä¸€æ®µä»£ç ä¸æ˜¯å¾ˆç†è§£</p><p><code>background-image: linear-gradient(45deg, rgba(255, 255, 255, .15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .15) 50%, rgba(255, 255, 255, .15) 75%, transparent 75%, transparent);</code></p><blockquote><p>è¿™æ®µ CSS ä»£ç æ˜¯ç”¨æ¥è®¾ç½®ä¸€ä¸ªå…ƒç´ çš„èƒŒæ™¯å›¾åƒï¼Œå…·ä½“æ¥è¯´æ˜¯ä¸€ä¸ªçº¿æ€§æ¸å˜èƒŒæ™¯ã€‚æˆ‘ä»¬å¯ä»¥é€æ­¥è§£æè¿™æ®µä»£ç ï¼š</p><p><code>linear-gradient(45deg, ...)</code>: è¿™æ˜¯ CSS çš„ <code>linear-gradient</code> å‡½æ•°ï¼Œå®ƒåˆ›å»ºä¸€ä¸ªçº¿æ€§æ¸å˜ã€‚è¿™é‡Œçš„ <code>45deg</code> è¡¨ç¤ºæ¸å˜çš„æ–¹å‘æ˜¯ 45 åº¦è§’ã€‚</p><p><code>rgba(255, 255, 255, .15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .15) 50%, rgba(255, 255, 255, .15) 75%, transparent 75%, transparent</code>: è¿™æ˜¯æ¸å˜çš„é¢œè‰²å’Œä½ç½®ã€‚</p><ul><li><code>rgba(255, 255, 255, .15) 25%</code>: è¡¨ç¤ºé¢œè‰²ä¸ºç™½è‰²ï¼ˆRGB ä¸º 255,255,255ï¼‰å¹¶ä¸”ä¸é€æ˜åº¦ä¸º 0.15 çš„è‰²æ ‡ä½äºæ¸å˜çš„ 25% ä½ç½®ã€‚ä¸é€æ˜åº¦èŒƒå›´ä» 0ï¼ˆå®Œå…¨é€æ˜ï¼‰åˆ° 1ï¼ˆå®Œå…¨ä¸é€æ˜ï¼‰ã€‚</li><li><code>transparent 25%</code>: è¡¨ç¤ºä¸€ä¸ªé€æ˜çš„è‰²æ ‡ï¼Œä½äºæ¸å˜çš„ 25% ä½ç½®ã€‚é€æ˜è‰²æ ‡å°†ç¡®ä¿åœ¨æ¸å˜ä¸­æœ‰ä¸€ä¸ªä»ä¸‹åˆ°ä¸Šçš„è¿‡æ¸¡ã€‚</li><li><code>transparent 50%</code>: è¡¨ç¤ºä¸€ä¸ªé€æ˜çš„è‰²æ ‡ï¼Œä½äºæ¸å˜çš„ 50% ä½ç½®ã€‚å†æ¬¡ä½¿ç”¨é€æ˜è‰²æ ‡ä»¥åœ¨æ¸å˜ä¸­åˆ›å»ºä¸€ä¸ªä»ä¸‹åˆ°ä¸Šçš„è¿‡æ¸¡ã€‚</li><li><code>rgba(255, 255, 255, .15) 50%</code>: è¡¨ç¤ºé¢œè‰²ä¸ºç™½è‰²ï¼ˆRGB ä¸º 255,255,255ï¼‰å¹¶ä¸”ä¸é€æ˜åº¦ä¸º 0.15 çš„è‰²æ ‡ä½äºæ¸å˜çš„ 50% ä½ç½®ã€‚</li><li><code>rgba(255, 255, 255, .15) 75%</code>: è¡¨ç¤ºé¢œè‰²ä¸ºç™½è‰²ï¼ˆRGB ä¸º 255,255,255ï¼‰å¹¶ä¸”ä¸é€æ˜åº¦ä¸º 0.15 çš„è‰²æ ‡ä½äºæ¸å˜çš„ 75% ä½ç½®ã€‚</li><li><code>transparent 75%</code>: è¡¨ç¤ºä¸€ä¸ªé€æ˜çš„è‰²æ ‡ï¼Œä½äºæ¸å˜çš„ 75% ä½ç½®ã€‚å†æ¬¡ä½¿ç”¨é€æ˜è‰²æ ‡ä»¥åœ¨æ¸å˜ä¸­åˆ›å»ºä¸€ä¸ªä»ä¸Šåˆ°ä¸‹çš„è¿‡æ¸¡ã€‚</li><li><code>transparent</code>: æœ€åï¼Œé€æ˜è‰²æ ‡ç¡®ä¿åœ¨æ¸å˜çš„æœ€åæœ‰ä¸€ä¸ªä»ä¸Šåˆ°ä¸‹çš„è¿‡æ¸¡ã€‚</li></ul><p>è¿™é‡Œçš„ <code>transparent</code> çš„ä¸»è¦ä½œç”¨æ˜¯åˆ›å»ºæ¸å˜çš„è¿‡æ¸¡æ•ˆæœï¼Œå®ƒä½¿å¾—é¢œè‰²ä¹‹é—´çš„è¿‡æ¸¡æ›´åŠ å¹³æ»‘ï¼Œè€Œä¸æ˜¯ç›´æ¥è·³è½¬åˆ°ä¸‹ä¸€ä¸ªé¢œè‰²ã€‚é€šè¿‡ä½¿ç”¨é€æ˜è‰²æ ‡ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå‡ºå„ç§å„æ ·çš„çº¿æ€§æ¸å˜æ•ˆæœï¼Œä¾‹å¦‚â€œå½©è™¹â€æ•ˆæœç­‰ã€‚</p></blockquote><p>æš‚æ—¶æ”¾ç€ä»¥åä¹‹åå†æ¥å›å¤´çœ‹ï¼Œ å¤§æ¦‚çš„æ„æ€æ˜¯ transparent å¯ä»¥è®©è¿‡æ¸¡æ•ˆæœæ›´åŠ çš„å¥½çœ‹</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311052044848.png" alt="image-20231105204409670"></p>]]></content>
      
      
      <categories>
          
          <category> å‰åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> ç»„ä»¶åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>websocket</title>
      <link href="/2023/11/06/websocket%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/2023/11/06/websocket%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="é—®é¢˜ğŸ¤•"><a href="#é—®é¢˜ğŸ¤•" class="headerlink" title="é—®é¢˜ğŸ¤•"></a>é—®é¢˜ğŸ¤•</h1><blockquote><p> å†™è¯¾è®¾çš„æ—¶å€™ï¼Œ ä½¿ç”¨websocket å»ºç«‹è¿æ¥å‘é€æ¶ˆæ¯ï¼Œ å‡ºç°äº† ä»¥ä¸‹ä¸¤ç§é—®é¢˜ </p></blockquote><h2 id="CloseStatus-1002"><a href="#CloseStatus-1002" class="headerlink" title="CloseStatus &#x3D; 1002"></a>CloseStatus &#x3D; 1002</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061317978.png" alt="image-20231106131744951"></p><ul><li>é‡åˆ°è¿™ä¸ªé—®é¢˜å¤šåŠæ˜¯å› ä¸º ä½ å‘é€çš„æ¶ˆæ¯çš„ æ—¶å€™å‰ç«¯æ²¡æœ‰å¯¹æ•°æ®è¿›è¡Œè°ƒæ•´</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.<span class="title function_">send</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(sendmessage))</span><br></pre></td></tr></table></figure><blockquote><p>JSON.stringify å¦‚æœä¸åŠ ä¸Šè¿™ä¸ªå°±ä¼šæŠ¥é”™ï¼Œ æˆ‘æ˜¯åœ¨å†™å¿ƒè·³æ£€æµ‹çš„æ—¶å€™ï¼Œ æ²¡æœ‰å¯¹ç©ºçš„å­—ç¬¦ä¸²è¿›è¡Œ stringifyæ‰€ä»¥å¯¼è‡´ä¸€æ‰“å¼€æœåŠ¡å°±æŠ¥é”™</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç½ªé­ç¥¸é¦–</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sendHeartbeat</span>(<span class="params"></span>) &#123;  </span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;  </span><br><span class="line">    <span class="keyword">if</span> (socket.<span class="property">readyState</span> === <span class="title class_">WebSocket</span>.<span class="property">OPEN</span>) &#123;  </span><br><span class="line">      socket.<span class="title function_">send</span>(<span class="string">&#x27;&#x27;</span>); <span class="comment">// å‘é€ç©ºçš„å¿ƒè·³åŒ…ç»™æœåŠ¡å™¨  </span></span><br><span class="line">      <span class="comment">//è¿™é‡Œä¿®æ”¹ä¸º socket.send(JSON.stringify(&#x27;&#x27;))</span></span><br><span class="line">      <span class="title function_">sendHeartbeat</span>(); <span class="comment">// é€’å½’è°ƒç”¨å‘é€å¿ƒè·³åŒ…å‡½æ•°ï¼Œä»¥ä¿æŒè¿æ¥æ´»è·ƒ  </span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;WebSocketè¿æ¥å·²å…³é—­&#x27;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;, <span class="number">5000</span>); <span class="comment">// æ¯30ç§’å‘é€ä¸€æ¬¡å¿ƒè·³åŒ…ç»™æœåŠ¡å™¨  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="CloseStatus-1006"><a href="#CloseStatus-1006" class="headerlink" title="CloseStatus &#x3D; 1006"></a>CloseStatus &#x3D; 1006</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311061317040.png" alt="image-20231106131730108"></p><ul><li>åæ¥å‘ç°æ˜¯è‡ªå·±ä¿®æ”¹ipåœ°å€çš„æ—¶å€™å§åé¢çš„ ç«¯å£å·ä¹Ÿç»™åˆ é™¤äº†</li></ul><p>æ­£ç¡® çš„websocket æ ¼å¼ æ˜¯ <code>ws:// ipåœ°å€ + :(ç«¯å£å·) + /xxx</code>ï¼Œ è¿™æ ·ä¸€ä¿®æ”¹ä¹‹åå°±æœ¨æœ‰è¿™ä¸ªé—®é¢˜äº† ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç–‘éš¾è§£æƒ‘ </tag>
            
            <tag> websocket </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Netty</title>
      <link href="/2023/10/31/Netty/"/>
      <url>/2023/10/31/Netty/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><h1 id="Netty"><a href="#Netty" class="headerlink" title="Netty"></a>Netty</h1><blockquote><p>ç‰¢è®°å››ä¸ªç‚¹</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202310312044227.png" alt="image-20231031204440182"></p><h2 id="NIOåŸºç¡€"><a href="#NIOåŸºç¡€" class="headerlink" title="NIOåŸºç¡€"></a>NIOåŸºç¡€</h2><blockquote><p>éé˜»å¡io - non-blocking io</p></blockquote><h3 id="ä¸‰å¤§ç»„ä»¶"><a href="#ä¸‰å¤§ç»„ä»¶" class="headerlink" title="ä¸‰å¤§ç»„ä»¶"></a>ä¸‰å¤§ç»„ä»¶</h3><blockquote><p>Channel Buffer Selector</p></blockquote><ol><li><p>Channel &amp; Buffer</p><p>æœ€å¸¸ç”¨çš„ Bufferï¼š ByteBuffer</p><p>å…¶ä»–çš„ä¸æ˜¯å¾ˆæ¸…æ¥š</p></li><li><p>Selector</p><p>Selectorç›¸å½“äºä¸€ä¸ªä¸­è½¬ç«™ï¼Œ æ¥åˆ†å‘channel å‘æ¥çš„æ•°æ®ç»™thread<img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202310312106328.png" alt="image-20231031210625241"></p></li></ol><h3 id="bytebuffer"><a href="#bytebuffer" class="headerlink" title="bytebuffer"></a>bytebuffer</h3><h4 id="bytebufferçš„åŸºæœ¬ä½¿ç”¨"><a href="#bytebufferçš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="bytebufferçš„åŸºæœ¬ä½¿ç”¨"></a>bytebufferçš„åŸºæœ¬ä½¿ç”¨</h4><blockquote><p>ä»£ç å¦‚ä¸‹</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span>&#123;</span><br><span class="line">    <span class="keyword">try</span>(<span class="type">FileChannel</span> <span class="variable">channel</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;data.txt&quot;</span>).getChannel())&#123;</span><br><span class="line">        <span class="comment">// å‡†å¤‡ç¼“å†²åŒº </span></span><br><span class="line"><span class="type">ByteBuffer</span> <span class="variable">buffer</span> <span class="operator">=</span> ByteBuffer.allocate(<span class="number">10</span>)</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="comment">// ä»channel è¯»å–æ•°æ®ï¼Œ å‘buffer å†™å…¥</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> channel.read(buffer)</span><br><span class="line">            log.debug(xxx ,len);</span><br><span class="line">            <span class="keyword">if</span>(len == -<span class="number">1</span>)&#123; <span class="comment">//è¯»å–å®Œæˆäº† </span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ‰“å°</span></span><br><span class="line">            buffer.filp() <span class="comment">// åˆ‡æ¢è‡³è¯»å–æ¨¡å¼</span></span><br><span class="line">            <span class="keyword">while</span>(buffer.hasRemaining())&#123;</span><br><span class="line">                <span class="type">byte</span> <span class="variable">b</span> <span class="operator">=</span> buffer.get() <span class="comment">//è¯»å–ä¸€ä¸ªå­—èŠ‚</span></span><br><span class="line">                log.debug(xxx, b);</span><br><span class="line">            &#125;</span><br><span class="line">            buffer.clear() <span class="comment">//åˆ‡æ¢æ¢ä½å†™å…¥æ¨¡å¼</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Bytebuffer-ç»“æ„"><a href="#Bytebuffer-ç»“æ„" class="headerlink" title="Bytebuffer ç»“æ„"></a>Bytebuffer ç»“æ„</h4><blockquote><p>å®ƒæœ‰ä¸‰ä¸ªé‡è¦çš„å±æ€§</p></blockquote><ul><li>capacity</li><li>position</li><li>limit</li></ul><p>è°ƒç”¨<strong>clear****æ–¹æ³•</strong></p><ol><li><strong>é»˜è®¤æ˜¯å†™æ¨¡å¼</strong></li></ol><p>å¦‚å›¾æ‰€ç¤º</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202310312134540.png" alt="image-20231031213414504"></p><p>positionå¾€åè¯»å–ï¼Œ ç›´åˆ°é‡åˆ° Limit æˆ–è€…Capacity ã€‚ </p><blockquote><p><strong>è¿™é‡Œè®²è®² Limit å’ŒCapacity çš„åŒºåˆ«</strong></p><p><code>ByteBuffer buffer = ByteBuffer.allocate(10)</code>è¿™å¥è¯å°±é™åˆ¶äº†å®ƒçš„Capacity ä¸º 10ã€‚</p><p>åœ¨ç¨‹åºå¾€åè¿è¡Œä¹‹åï¼Œ limit æ˜¯å°äºç­‰äº Capacity çš„ã€‚ æ¯”å¦‚æˆ‘è¿™ä¸ªæ–‡æœ¬æ˜¯13ä¸ªå­—èŠ‚</p><p>é‚£ä¹ˆç¬¬ä¸€æ¬¡è¯»å–åˆ°çš„Limit å°±æ˜¯ 10ï¼Œ ç¬¬äºŒæ¬¡è¯»å–æ˜¯3.</p></blockquote><p>åœ¨è°ƒç”¨buffer çš„ <strong>flipæ–¹æ³•</strong>ä¹‹å</p><ol start="2"><li><strong>è¿›å…¥å†™æ¨¡å¼</strong></li></ol><p>Position æŒ‡é’ˆè·³å›åˆ°ç¬¬0ä½åœ°å€ï¼Œ ç„¶åè¾¹å‘å³ç§»åŠ¨ï¼Œ è¾¹è¯»å–æ•°æ®ï¼Œç›´åˆ°é‡åˆ°Limit </p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202310312140821.png" alt="image-20231031214014784"></p><p><strong>ï¼ˆè°ƒç”¨Compactæ–¹æ³•ï¼‰</strong></p><ol start="3"><li>è¿›å…¥Compactæ¨¡å¼</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202310312142916.png" alt="image-20231031214211859"></p><p>å’Œæ™®é€šçš„è¯»æ¨¡å¼ä¸åŒçš„æ˜¯ï¼Œ<strong>åœ¨compact æ¨¡å¼ä¸­ï¼Œ positionä¼šå°†ä¼šå†™å…¥çš„æ•°æ®ï¼Œ å‘å‰å‹ç¼©</strong>ã€‚</p><p> ç„¶åPositionè·³å…¥åˆ°æœ€åå·²è¯»å–æ•°æ®çš„ä¸‹ä¸€ä½åœ°å€ç»§ç»­è¯»å–</p><ul><li>éœ€è¦æ³¨æ„çš„æ˜¯ Compact ä¼šä¸ä¼šæ¶ˆé™¤æœ€åä¸€ä½æ•°æ®ï¼Œä»–ä¼šåœ¨å†™å…¥æ¨¡å¼çš„æ—¶å€™æŠŠé‚£ä¸ªå­—ç¬¦è¦†ç›–</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202310312156938.png" alt="image-20231031215648878"></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Netty </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java_Juc</title>
      <link href="/2023/10/31/Java-Juc/"/>
      <url>/2023/10/31/Java-Juc/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¾èµ–æ”¹å˜"><a href="#ä¾èµ–æ”¹å˜" class="headerlink" title="ä¾èµ–æ”¹å˜"></a>ä¾èµ–æ”¹å˜</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.openjdk.jol<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jol-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h1><h2 id="è¿›ç¨‹å’Œçº¿ç¨‹"><a href="#è¿›ç¨‹å’Œçº¿ç¨‹" class="headerlink" title="è¿›ç¨‹å’Œçº¿ç¨‹"></a>è¿›ç¨‹å’Œçº¿ç¨‹</h2><blockquote><p>è¿›ç¨‹å°±æ˜¯ï¼š ä¸€ä¸ªè½¯ä»¶å®ä¾‹å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹</p><p>çº¿ç¨‹å°±æ˜¯ï¼š è¿›ç¨‹çš„å­é›† </p></blockquote><h2 id="å¹¶å‘å’Œå¹¶è¡Œ"><a href="#å¹¶å‘å’Œå¹¶è¡Œ" class="headerlink" title="å¹¶å‘å’Œå¹¶è¡Œ"></a>å¹¶å‘å’Œå¹¶è¡Œ</h2><blockquote><p>å¹¶å‘(concurrent)å°±æ˜¯ï¼Œ ä¸€ä¸ªæ ¸å¿ƒè¿…é€Ÿåœ¨å¤šä¸ªä»»åŠ¡ä¹‹é—´åˆ‡æ¢</p><p>å¹¶è¡Œ(parallel)å°±æ˜¯ï¼Œ å¤šä¸ªæ ¸å¿ƒåŒæ—¶åœ¨å¤šä¸ªä»»åŠ¡è¿è¡Œã€‚</p></blockquote><h2 id="å¼‚æ­¥å’ŒåŒæ­¥"><a href="#å¼‚æ­¥å’ŒåŒæ­¥" class="headerlink" title="å¼‚æ­¥å’ŒåŒæ­¥"></a>å¼‚æ­¥å’ŒåŒæ­¥</h2><blockquote><p>åŒæ­¥ï¼š ä¸éœ€è¦ç­‰å¾…ç»“æœçš„è¿”å›</p><p>å¼‚æ­¥ï¼š éœ€è¦ç­‰å¾…ç»“æœçš„è¿”å›â€™</p></blockquote><ul><li><p>è¿è¡Œæ•ˆç‡æå‡</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311111906943.png" alt="image-20231111190652846"></p></li></ul><h1 id="åˆ›å»ºå’Œè¿è¡Œçº¿ç¨‹"><a href="#åˆ›å»ºå’Œè¿è¡Œçº¿ç¨‹" class="headerlink" title="åˆ›å»ºå’Œè¿è¡Œçº¿ç¨‹"></a>åˆ›å»ºå’Œè¿è¡Œçº¿ç¨‹</h1><h2 id="ç›´æ¥ä½¿ç”¨Thread"><a href="#ç›´æ¥ä½¿ç”¨Thread" class="headerlink" title="ç›´æ¥ä½¿ç”¨Thread"></a>ç›´æ¥ä½¿ç”¨Thread</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>() &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span> <span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">t.start() <span class="comment">//çº¿ç¨‹å¼€å§‹æ‰§è¡Œ</span></span><br></pre></td></tr></table></figure><h2 id="Runnable-é…åˆThread"><a href="#Runnable-é…åˆThread" class="headerlink" title="Runnable é…åˆThread"></a>Runnable é…åˆThread</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Runnable</span> <span class="variable">runnable</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span> <span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆ›å»ºçº¿ç¨‹å¯¹è±¡</span></span><br><span class="line"><span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(runnable);</span><br><span class="line">t.start()</span><br></pre></td></tr></table></figure><blockquote><p>å¯ä»¥è¯•ç€ä½¿ç”¨lambdaè¡¨è¾¾å¼æŠŠä¸Šè¯‰ä»£ç ç²¾ç®€</p></blockquote><h2 id="Thread-å’Œ-Runnableä¹‹é—´çš„å…³ç³»"><a href="#Thread-å’Œ-Runnableä¹‹é—´çš„å…³ç³»" class="headerlink" title="Thread å’Œ Runnableä¹‹é—´çš„å…³ç³»"></a>Thread å’Œ Runnableä¹‹é—´çš„å…³ç³»</h2><p>ä¸Šè¯‰çš„ä¸¤ä¸ªæ–¹æ³•ä¸­</p><ul><li>æ–¹æ³•ä¸€ï¼š æ˜¯æŠŠçº¿ç¨‹å’Œä»»åŠ¡åˆå¹¶åœ¨ä¸€èµ·äº†</li><li>æ–¹æ³•äºŒï¼š æ˜¯æŠŠçº¿ç¨‹å’Œä»»åŠ¡åˆ†å¼€äº†</li></ul><p>å¹¶ä¸”ä½¿ç”¨ Runnable å¯ä»¥æ›´åŠ çš„å’Œçº¿ç¨‹æ± ç­‰é«˜çº§api é…åˆã€‚ </p><h2 id="FutureTask-é…åˆThread"><a href="#FutureTask-é…åˆThread" class="headerlink" title="FutureTask é…åˆThread"></a>FutureTask é…åˆThread</h2><blockquote><p> å¯ä»¥è·å–ä»»åŠ¡çš„æ‰§è¡Œç»“æœï¼Œ ä»–å’ŒRunnable æœ‰å…³ç³»</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä»»åŠ¡å¯¹è±¡</span></span><br><span class="line">FutureTask&lt;Integer&gt;task3 = <span class="keyword">new</span> <span class="title class_">FutureTask</span>&lt;&gt;(()-&gt;&#123;</span><br><span class="line">    log.debug(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°ä»»åŠ¡å¯¹è±¡ï¼Œ ç¬¬äºŒä¸ªå‚æ•°çº¿ç¨‹åå­—</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Thread</span>(task3, <span class="string">&quot;t3&quot;</span>)</span><br><span class="line"><span class="comment">// è¿™é‡Œçš„getä¼šé˜»å¡ï¼Œ ç›´åˆ°ç»“æœçš„è¿”å›</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">result</span> <span class="operator">=</span> task3.get();</span><br><span class="line">log.debug(<span class="string">&quot;ç»“æœæ˜¯ï¼š&#123;&#125;&quot;</span>, result);</span><br></pre></td></tr></table></figure><h1 id="çº¿ç¨‹è¿è¡Œ"><a href="#çº¿ç¨‹è¿è¡Œ" class="headerlink" title="çº¿ç¨‹è¿è¡Œ"></a>çº¿ç¨‹è¿è¡Œ</h1><h2 id="æŸ¥çœ‹è¿›ç¨‹çº¿ç¨‹çš„æ–¹æ³•"><a href="#æŸ¥çœ‹è¿›ç¨‹çº¿ç¨‹çš„æ–¹æ³•" class="headerlink" title="æŸ¥çœ‹è¿›ç¨‹çº¿ç¨‹çš„æ–¹æ³•"></a>æŸ¥çœ‹è¿›ç¨‹çº¿ç¨‹çš„æ–¹æ³•</h2><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311111936309.png" alt="image-20231111193656252"></p><h2 id="JConsole"><a href="#JConsole" class="headerlink" title="JConsole"></a>JConsole</h2><ol><li>æ‰“å¼€cmd</li><li>è¾“å…¥JConsole </li><li>ç„¶åå°±å¯ä»¥è¿æ¥ä½ æƒ³è¦è¿æ¥çš„JavaæœåŠ¡</li></ol><p>å¯¹äºä½ æƒ³è¦ç›‘å¬çš„ ç±»ï¼Œ ä½ éœ€è¦åšå¦‚ä¸‹æ“ä½œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java -Djava.rmi.server.hostname=`ipåœ°å€` -Dcom.sun.management.jmxremote -</span><br><span class="line">Dcom.sun.management.jmxremote.port=`è¿æ¥ç«¯å£` -Dcom.sun.management.jmxremote.ssl=æ˜¯å¦å®‰å…¨è¿æ¥ -</span><br><span class="line">Dcom.sun.management.jmxremote.authenticate=æ˜¯å¦è®¤è¯ javaç±»</span><br></pre></td></tr></table></figure><h2 id="æ ˆä¸æ ˆå¸§"><a href="#æ ˆä¸æ ˆå¸§" class="headerlink" title="æ ˆä¸æ ˆå¸§"></a>æ ˆä¸æ ˆå¸§</h2><p>ç•¥ï¼ˆå¾ˆç®€å•ï¼‰</p><h2 id="å¤šçº¿ç¨‹çš„æ ˆä¸æ ˆå¸§"><a href="#å¤šçº¿ç¨‹çš„æ ˆä¸æ ˆå¸§" class="headerlink" title="å¤šçº¿ç¨‹çš„æ ˆä¸æ ˆå¸§"></a>å¤šçº¿ç¨‹çš„æ ˆä¸æ ˆå¸§</h2><blockquote><p>æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„æ ˆå†…å­˜ï¼Œ çº¿ç¨‹ä¹‹é—´çš„æ ˆäº’ç›¸ä¸å¹²æ‰°</p></blockquote><h2 id="çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆThread-context-Switchï¼‰"><a href="#çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆThread-context-Switchï¼‰" class="headerlink" title="çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆThread context Switchï¼‰"></a>çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆThread context Switchï¼‰</h2><blockquote><p>ä»ä½¿ç”¨cpuåˆ°ä¸ä½¿ç”¨cpuçš„åŸå› </p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311122251260.png" alt="image-20231112225156160"></p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311122255852.png" alt="image-20231112225516807"></p><h2 id="å¸¸è§æ–¹æ³•"><a href="#å¸¸è§æ–¹æ³•" class="headerlink" title="å¸¸è§æ–¹æ³•"></a>å¸¸è§æ–¹æ³•</h2><p>çœ‹pdf</p><h3 id="start"><a href="#start" class="headerlink" title="start"></a>start</h3><p><strong>getState è·å–çº¿ç¨‹çš„çŠ¶æ€</strong></p><blockquote><p>åœ¨æœªstartä¹‹å‰ï¼Œ è°ƒç”¨çº¿ç¨‹çš„getStateæ–¹æ³•ä¼šå¾—åˆ°ä¸€ä¸ªNEWï¼Œ åœ¨è°ƒç”¨start ä¹‹åï¼Œ è°ƒç”¨çº¿ç¨‹çš„getState æ–¹æ³•ä¼šå¾—åˆ°ä¸€ä¸ª RUNNABLE</p></blockquote><ul><li>è¿ç»­è°ƒç”¨ä¸¤æ¬¡start æ–¹æ³•</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202311122307487.png" alt="image-20231112230727451"></p><h3 id="sleep"><a href="#sleep" class="headerlink" title="sleep"></a>sleep</h3><blockquote><p>ä½¿å¾—çº¿ç¨‹çš„çŠ¶æ€ç”±Running å˜æˆ Timed Waiting çŠ¶æ€</p></blockquote><h4 id="çº¿ç¨‹æ‰“æ–­"><a href="#çº¿ç¨‹æ‰“æ–­" class="headerlink" title="çº¿ç¨‹æ‰“æ–­"></a>çº¿ç¨‹æ‰“æ–­</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;t1&quot;</span>) &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        log.debug(<span class="string">&quot;enter sleep...&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            log.debug(<span class="string">&quot;wake up...&quot;</span>);</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">t1.start();</span><br><span class="line"></span><br><span class="line">Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">log.debug(<span class="string">&quot;interrupt...&quot;</span>);</span><br><span class="line">t1.interrupt();</span><br></pre></td></tr></table></figure><p>æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹</p><blockquote><p>java.lang.InterruptedException: sleep interrupted<br>    at java.lang.Thread.sleep(Native Method)<br>    at cn.itcast.test.Test7$1.run(Test7.java:14)</p></blockquote><ul><li>åŒæ—¶æˆ‘ä»¬è¿˜éœ€è¦æ³¨æ„ä¸€ä¸ªç¡çœ ç»“æŸçš„çº¿ç¨‹æœªå¿…ä¼šç«‹å³æ‰§è¡Œ</li></ul><h4 id="sleepæ–¹æ³•æ›´æ–°"><a href="#sleepæ–¹æ³•æ›´æ–°" class="headerlink" title="sleepæ–¹æ³•æ›´æ–°"></a>sleepæ–¹æ³•æ›´æ–°</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸæ¥</span></span><br><span class="line">Thread.sleep(<span class="number">1000</span>);</span><br><span class="line"><span class="comment">// æ›¿æ¢æˆè¿™ä¸ªæ›´å¥½</span></span><br><span class="line">TimeUnit.SECONDS.sleep(<span class="number">1</span>);</span><br></pre></td></tr></table></figure><h3 id="yield"><a href="#yield" class="headerlink" title="yield"></a>yield</h3><blockquote><p>ä½¿å¾—çº¿ç¨‹ä» running å˜æˆ runnable çŠ¶æ€ï¼Œ ç„¶åè°ƒç”¨å…¶ä»–çš„çº¿ç¨‹ï¼Œ å¦‚æœæ²¡æœ‰å…¶ä»–çš„çº¿ç¨‹è¦æ‰§è¡Œä¼šæŠŠæœºä¼šç»§ç»­è®©è¯¥çº¿ç¨‹è¿›è¡Œ</p></blockquote><h3 id="çº¿ç¨‹ä¼˜å…ˆçº§ï¼ˆsetPriorityï¼‰"><a href="#çº¿ç¨‹ä¼˜å…ˆçº§ï¼ˆsetPriorityï¼‰" class="headerlink" title="çº¿ç¨‹ä¼˜å…ˆçº§ï¼ˆsetPriorityï¼‰"></a>çº¿ç¨‹ä¼˜å…ˆçº§ï¼ˆsetPriorityï¼‰</h3><blockquote><p>æç¤ºä»»åŠ¡è°ƒåº¦å™¨å»ä¼˜å…ˆè°ƒåº¦è¿™ä¸ªçº¿ç¨‹ï¼Œ ä½†æ˜¯è¿™åªæ˜¯ä¸ªæç¤ºï¼Œä¸ä¸€å®šä¼šæ‰§è¡Œ</p><p>å½“cpu ç¹å¿™çš„æ—¶å€™ï¼Œä¼˜å…ˆçº§é«˜çš„å°±ä¼šè¢«åˆ†é…å°½å¯èƒ½å¤šçš„æœåŠ¡</p></blockquote><p>åœ¨Runnable æ„é€ å™¨ä¸­ï¼Œ ä½¿ç”¨Thread.yield()å¯ä»¥å®ç°è®©çš„æ•ˆæœ</p><p>è€ŒsetPriority éœ€è¦å¯¹çº¿ç¨‹å¯¹è±¡ è¿›è¡Œæ“ä½œã€‚ </p><h4 id="sleepçš„å°åº”ç”¨"><a href="#sleepçš„å°åº”ç”¨" class="headerlink" title="sleepçš„å°åº”ç”¨"></a>sleepçš„å°åº”ç”¨</h4><p>ç•¥</p><h3 id="join"><a href="#join" class="headerlink" title="join"></a>join</h3><blockquote><p>ç­‰å¾…çº¿ç¨‹çš„ç»“æŸï¼Œ æ‹¥å¡ä¸»çº¿ç¨‹</p></blockquote><ul><li>å¦‚æœä¸‹é¢è¿™æ®µä»£ç ä¸åŠ ä¸Š join æ–¹æ³•ï¼Œ é‚£ä¹ˆå°±ä¼šå‡ºç°r &#x3D; 0 . ä½†æ˜¯åˆäº†joinä¹‹åå°±ä¼šç­‰åˆ°è¿™ä¸ªçº¿ç¨‹ç»“æŸä¹‹åå†å»è°ƒç”¨åé¢çš„æ–¹æ³•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">log.debug(<span class="string">&quot;å¼€å§‹&quot;</span>);</span><br><span class="line"><span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">    log.debug(<span class="string">&quot;å¼€å§‹&quot;</span>);</span><br><span class="line">    sleep(<span class="number">1</span>);</span><br><span class="line">    log.debug(<span class="string">&quot;ç»“æŸ&quot;</span>);</span><br><span class="line">    r = <span class="number">10</span>;</span><br><span class="line">&#125;,<span class="string">&quot;t1&quot;</span>);</span><br><span class="line">t1.start();</span><br><span class="line">t1.join();</span><br><span class="line">log.debug(<span class="string">&quot;ç»“æœä¸º:&#123;&#125;&quot;</span>, r);</span><br><span class="line">log.debug(<span class="string">&quot;ç»“æŸ&quot;</span>);</span><br></pre></td></tr></table></figure><ul><li>å¸¦å‚æ•°çš„join</li></ul><blockquote><p>è®¾ç½®ç­‰å¾…çš„æœ€å¤§æ—¶é—´, å¦‚æœè¶…è¿‡è¿™ä¸ªæ—¶é—´å°±ä¸ç­‰å¾…</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> å¤šçº¿ç¨‹ </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¿œç¨‹mysqlè¿æ¥ä¸ä¸Š</title>
      <link href="/2023/10/30/%E8%BF%9C%E7%A8%8Bmysql%E8%BF%9E%E6%8E%A5%E4%B8%8D%E4%B8%8A/"/>
      <url>/2023/10/30/%E8%BF%9C%E7%A8%8Bmysql%E8%BF%9E%E6%8E%A5%E4%B8%8D%E4%B8%8A/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><h1 id="ç”¨æˆ·æƒé™å·²ç»æ˜¯-ï¼Œä½†æ˜¯è¿œç¨‹æ•°æ®åº“ä¾æ—§è¿æ¥ä¸ä¸Š"><a href="#ç”¨æˆ·æƒé™å·²ç»æ˜¯-ï¼Œä½†æ˜¯è¿œç¨‹æ•°æ®åº“ä¾æ—§è¿æ¥ä¸ä¸Š" class="headerlink" title="ç”¨æˆ·æƒé™å·²ç»æ˜¯%ï¼Œä½†æ˜¯è¿œç¨‹æ•°æ®åº“ä¾æ—§è¿æ¥ä¸ä¸Š"></a>ç”¨æˆ·æƒé™å·²ç»æ˜¯%ï¼Œä½†æ˜¯è¿œç¨‹æ•°æ®åº“ä¾æ—§è¿æ¥ä¸ä¸Š</h1><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>æœ€è¿‘è¶ç€åŒ11è´­ä¹°äº†è…¾è®¯äº‘æœåŠ¡å™¨ï¼Œæƒ³ç€é…ç½®å¥½ç¯å¢ƒï¼Œæ—©ç‚¹ç”¨ä¸Šã€‚</p><p>ç„¶åå¯åŠ¨æˆ‘çš„æ•°æ®åº“ å¼€å§‹ ç‹ ç‹ çš„è¿æ¥ï¼ˆè¯¯ï¼‰ï¼Œ ç»“æœéƒ½æ˜¯timeout ï¼Ÿ ï¼Œ ä»€ä¹ˆæˆ‘æ˜æ˜å·²ç»è®¾ç½®äº†ç”¨æˆ·æƒé™æ˜¯%å•Šï¼</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202310301954484.png" alt="image-20231030195447448"></p><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>åæ¥æ€æ¥æƒ³å»ï¼Œ çªç„¶æƒ³è¦å»çœ‹çœ‹ç«¯å£æ˜¯ä¸æ˜¯3306ï¼Œ ç„¶åæƒ³åˆ°ä¸­åˆæ‰“å¼€è…¾è®¯äº‘çš„æ—¶å€™ï¼Œçœ‹åˆ°äº†ç«¯å£ï¼Ÿ æˆ‘æ‰çŒ›åœ°æ„è¯†åˆ°æˆ‘çš„3306ç«¯å£æ²¡æœ‰å¼€å¯</p><blockquote><p>ä¸è¿‡è¿™ä¸ªå·²ç»æ˜¯å¼€å¯åçš„äº†</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202310301951278.png" alt="image-20231030195131182"></p><h3 id="å¼€å¯ç«¯å£æ–¹å¼"><a href="#å¼€å¯ç«¯å£æ–¹å¼" class="headerlink" title="å¼€å¯ç«¯å£æ–¹å¼"></a>å¼€å¯ç«¯å£æ–¹å¼</h3><ul><li>ç‚¹å‡» æ·»åŠ è§„åˆ™</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202310301952077.png" alt="image-20231030195223035"></p><p>è·³å‡ºæ¥è¿™ä¸ªé¡µé¢ï¼Œ ç„¶åå°†åº”ç”¨ç±»å‹çš„ä¸‹æ‹‰æ¡†é€‰æ‹©mysql ï¼Œå°±å¥½äº†</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/ImgSummary@master/img/202310301952193.png" alt="image-20231030195259158"></p>]]></content>
      
      
      <categories>
          
          <category> å‰åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è·¨åŸŸè¯·æ±‚è§£å†³-nginxæœåŠ¡å™¨</title>
      <link href="/2023/10/28/%E8%B7%A8%E5%9F%9F%E8%AF%B7%E6%B1%82%E8%A7%A3%E5%86%B3-nginx%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2023/10/28/%E8%B7%A8%E5%9F%9F%E8%AF%B7%E6%B1%82%E8%A7%A3%E5%86%B3-nginx%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><h1 id="è·¨åŸŸè¯·æ±‚é—®é¢˜-nginxè§£å†³"><a href="#è·¨åŸŸè¯·æ±‚é—®é¢˜-nginxè§£å†³" class="headerlink" title="è·¨åŸŸè¯·æ±‚é—®é¢˜ - nginxè§£å†³"></a>è·¨åŸŸè¯·æ±‚é—®é¢˜ - nginxè§£å†³</h1><ul><li>æƒ³è±¡ä¸€ä¸ªåœºæ™¯ï¼Œ æˆ‘åœ¨ç”¨vue3 vite å†™å‰ç«¯ï¼ˆæˆ–è€…å·²ç»æ‰“åŒ…åçš„æ–‡ä»¶ï¼‰ï¼Œ åŒæ—¶åç«¯ç”¨springboot ï¼Œ æˆ‘å†™å®Œä¸€ä¸ªåŠŸèƒ½æƒ³è¦è°ƒè¯•ï¼Œ ä½†æ˜¯é‡åˆ°äº†ä¸‹é¢è¿™ä¸ªé—®é¢˜</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/web-component@master/assets/202310282236940.png" alt="image-20231028223647903"></p><p>è¿™å°±æ˜¯è·¨åŸŸè¯·æ±‚çš„ä¼šå‡ºç°çš„é—®é¢˜ã€‚</p><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><ul><li><p>æˆ‘åœ¨ç½‘ä¸Šçœ‹åˆ°äº†å¾ˆå¤šï¼Œ åœ¨å‰ç«¯é…ç½®ä¸€äº›æ–‡ä»¶ï¼Œ åœ¨åç«¯åŠ ä¸Šæ³¨è§£æˆ–æ·»åŠ ä¸€äº›é…ç½®ç±»æ–‡ä»¶ï¼Œ ä½†æ˜¯æ°å·§æˆ‘çš„ç¨‹åºä½¿ç”¨äº†ä¸Šé¢ç§ç§æ–¹æ³•éƒ½æ— æ³•æˆåŠŸï¼Œ åœ¨èˆå‹çš„æé†’ä¸‹ï¼Œ æˆ‘å¼€å§‹ä½¿ç”¨nginx</p></li><li><p>æ‰“å¼€nginx æ–‡ä»¶å¤¹ æ‰“å¼€conf</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/web-component@master/assets/202310282239386.png" alt="image-20231028223957355"></p><ul><li>ä½¿ç”¨ vscode æ‰“å¼€ è¿™ä¸ªnginx.conf(æœ€å¥½ä¸è¦ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨)</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/web-component@master/assets/202310282240185.png" alt="image-20231028224030156"></p><ul><li>åŠ ä¸Š è¿™æ®µä»£ç </li></ul><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/web-component@master/assets/202310282241195.png" alt="image-20231028224109169"></p><p>æˆ‘è§£é‡Šä¸€ä¸‹å®ƒçš„ä½œç”¨ï¼Œ é¦–å…ˆ nginx æœ‰ä¸€ä¸ªç›‘å¬çš„ç«¯å£ï¼Œ è¿™é‡Œå°±æ˜¯180ï¼Œï¼ˆ<strong>æ‰€ä»¥æˆ‘ä»¬åç»­è°ƒè¯•æ‰“å¼€çš„åœ°å€å°±æ˜¯180ï¼‰</strong></p><p>ç„¶å location &#x2F;api å°±æ˜¯ä½ çš„è·¯å¾„ä»¥ api å¼€å¤´çš„ç½‘å€ï¼Œ è¢«è½¬å‘åˆ°</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/web-component@master/assets/202310282242519.png" alt="image-20231028224242497"></p><p>åŒç† &#x2F;friend å°±è¢«è½¬å‘åˆ°</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/web-component@master/assets/202310282243562.png" alt="image-20231028224303540"></p><p>å…¶ä½™çš„éƒ½è¢«è½¬å‘åˆ° 5173 ç«¯å£ã€‚</p><blockquote><p>åœ¨è¿™é‡Œ 8080 ç«¯å£æ˜¯ä½ åç«¯ç¨‹åºçš„ç«¯å£ï¼Œ è€Œ5173å¯ä»¥æ¢æˆä½ å‰ç«¯ç¨‹åºçš„ç«¯å£</p></blockquote><p>è€Œ &#x2F;api å’Œ &#x2F; friend å°±æ˜¯ æˆ‘çš„å‰ç«¯çš„è¯·æ±‚æ¥å£ ä¸€ä¸ªæ˜¯ä»¥api å¼€å¤´ä¸€ä¸ªæ˜¯ friendå¼€å¤´ ã€‚</p><p>å“¦ å¯¹äº†ï¼Œ æˆ‘ä»¬è¿˜éœ€è¦å°†å‰ç«¯çš„è¯·æ±‚åœ°å€æ¢æˆ180ç«¯å£</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/web-component@master/assets/202310282246671.png" alt="image-20231028224611652"></p><p> è¿™é‡Œæ ¹æ®ä½ çš„nginx ç›‘å¬çš„ç«¯å£è€Œå®š</p><p>ç„¶åæ‰“å¼€localhost:180ï¼Œ å‘ç°å¯åŠ¨æˆåŠŸ</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/web-component@master/assets/202310282247683.png" alt="image-20231028224751393"></p>]]></content>
      
      
      <categories>
          
          <category> å‰åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç–‘éš¾è§£æƒ‘ </tag>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ–‡ä»¶ä¸Šä¼ å’Œæ–‡ä»¶ä¸‹è½½</title>
      <link href="/2023/10/28/java%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%92%8C%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/"/>
      <url>/2023/10/28/java%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%92%8C%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<h1 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/upload&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">uploadFileAndPicture</span><span class="params">(MultipartFile e)</span>  &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">originFileName</span> <span class="operator">=</span> e.getOriginalFilename();</span><br><span class="line">        <span class="type">String</span> <span class="variable">suffix</span> <span class="operator">=</span> originFileName.substring(originFileName.lastIndexOf(<span class="string">&quot;.&quot;</span>));</span><br><span class="line">        <span class="type">File</span> <span class="variable">dir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(basepath + originFileName);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(!dir.exists())&#123;</span><br><span class="line">            dir.mkdirs();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            e.transferTo(<span class="keyword">new</span> <span class="title class_">File</span>(basepath + originFileName));</span><br><span class="line"></span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception ex)&#123;</span><br><span class="line">            log.info(<span class="string">&quot;&#123;&#125;&quot;</span>,ex.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">        log.info(<span class="string">&quot;&#123;&#125;&quot;</span>, originFileName);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;å‘é€æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h1 id="æ–‡ä»¶ä¸‹è½½-ç‚¹å‡»æ–‡ä»¶ä¹‹åå¯ä¸‹è½½"><a href="#æ–‡ä»¶ä¸‹è½½-ç‚¹å‡»æ–‡ä»¶ä¹‹åå¯ä¸‹è½½" class="headerlink" title="æ–‡ä»¶ä¸‹è½½ - ç‚¹å‡»æ–‡ä»¶ä¹‹åå¯ä¸‹è½½"></a>æ–‡ä»¶ä¸‹è½½ - ç‚¹å‡»æ–‡ä»¶ä¹‹åå¯ä¸‹è½½</h1><h2 id="åç«¯-java"><a href="#åç«¯-java" class="headerlink" title="åç«¯ - java"></a>åç«¯ - java</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/downloadfile&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">downloadFile</span><span class="params">(HttpServletResponse response, HttpServletRequest request, String fileName, String extend)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="type">JSONObject</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(basepath + fileName);</span><br><span class="line">    log.info(<span class="string">&quot;&#123;&#125;&quot;</span>, extend);</span><br><span class="line">    <span class="keyword">if</span> (!file.exists()) &#123;</span><br><span class="line">        result.put(<span class="string">&quot;error&quot;</span>, <span class="string">&quot;ä¸‹è½½çš„æ–‡ä»¶ä¸å­˜åœ¨&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    response.reset();</span><br><span class="line">    response.setContentType(extend);</span><br><span class="line">    response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">    response.setContentLength((<span class="type">int</span>) file.length());</span><br><span class="line">    response.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>, <span class="string">&quot;attachment;filename=&quot;</span> + URLEncoder.encode(file.getName(), <span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">    <span class="type">byte</span>[] readeBytes = FileUtil.readBytes(file);</span><br><span class="line">    <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> response.getOutputStream();</span><br><span class="line">    os.write(readeBytes);</span><br><span class="line">    result.put(<span class="string">&quot;success&quot;</span>, <span class="string">&quot;ä¸‹è½½æˆåŠŸ&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> result.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‰ç«¯-vue"><a href="#å‰ç«¯-vue" class="headerlink" title="å‰ç«¯ - vue"></a>å‰ç«¯ - vue</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// api/download å°±æ˜¯ ä¸Šé¢åç«¯downloadçš„åœ°å€</span></span><br><span class="line">axios.<span class="title function_">get</span>(baseUrl + <span class="string">&quot;/api/downloadfile&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">params</span>: &#123;</span><br><span class="line">        <span class="attr">fileName</span>: item.<span class="property">fileName</span>,</span><br><span class="line">        <span class="attr">extend</span>: item.<span class="property">extend</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// æ³¨æ„è¿™é‡Œä¸€å®šè¦å†™arraybufferï¼Œ ä¸ç„¶å¯èƒ½ä¼šå‡ºé”™</span></span><br><span class="line">    <span class="attr">responseType</span>: <span class="string">&quot;arraybuffer&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// å…ˆè½¬æ¢ä¸º Blobç±»å‹</span></span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span><span class="keyword">new</span> <span class="title class_">Blob</span>([res], &#123;<span class="attr">type</span>: item.<span class="property">extend</span>&#125;))</span><br><span class="line"><span class="comment">// åœ¨è½¬æ¢ä¸º Fileç±»å‹</span></span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">blob</span>=&gt;</span> <span class="keyword">new</span> <span class="title class_">File</span>([blob], item.<span class="property">fileName</span>))</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">file</span>=&gt;</span>&#123;</span><br><span class="line">        item.<span class="property">msg</span> = file</span><br><span class="line">        <span class="keyword">let</span> reader = <span class="keyword">new</span> <span class="title class_">FileReader</span>()</span><br><span class="line">        <span class="keyword">let</span> fileNameTemp = item.<span class="property">fileName</span></span><br><span class="line">        reader.<span class="property">onloadend</span> = <span class="function">(<span class="params">es</span>)=&gt;</span>&#123;</span><br><span class="line">            item.<span class="property">msg</span> = es.<span class="property">target</span>.<span class="property">result</span></span><br><span class="line">            item.<span class="property">fileName</span> = fileNameTemp</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(item.<span class="property">msg</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(item.<span class="property">chatType</span> === <span class="number">1</span>)&#123;</span><br><span class="line">                srcImgList.<span class="property">value</span>.<span class="title function_">push</span>(item.<span class="property">msg</span>)</span><br><span class="line">            &#125;</span><br><span class="line">     &#125;</span><br><span class="line">    reader.<span class="title function_">readAsDataURL</span>(file)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="æ–­ç‚¹ç»­ä¼ "><a href="#æ–­ç‚¹ç»­ä¼ " class="headerlink" title="æ–­ç‚¹ç»­ä¼ "></a>æ–­ç‚¹ç»­ä¼ </h1><h2 id="æ–­ç‚¹ä¸Šä¼ "><a href="#æ–­ç‚¹ä¸Šä¼ " class="headerlink" title="æ–­ç‚¹ä¸Šä¼ "></a>æ–­ç‚¹ä¸Šä¼ </h2><h3 id="åç«¯"><a href="#åç«¯" class="headerlink" title="åç«¯"></a>åç«¯</h3><ul><li>ä¸Šä¼ åˆ†ç‰‡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/uploadslice&quot;)</span></span><br><span class="line"><span class="comment">//    File file, Long chunkcnt,String md5</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;Integer&gt; <span class="title function_">uploadchunks</span><span class="params">(<span class="meta">@RequestPart(&quot;file&quot;)</span>MultipartFile file , <span class="meta">@RequestPart(&quot;hash&quot;)</span> String hash, <span class="meta">@RequestPart(&quot;chunkcnt&quot;)</span> String chunkcnt ,<span class="meta">@RequestPart(&quot;filename&quot;)</span> String filename, <span class="meta">@RequestPart(&quot;totalCnt&quot;)</span> String totalCnt)</span> <span class="keyword">throws</span> IOException, InterruptedException &#123;</span><br><span class="line">        log.info(<span class="string">&quot;&#123;&#125;&quot;</span>, filename);</span><br><span class="line">        <span class="type">String</span> <span class="variable">suffix</span> <span class="operator">=</span> filename.substring(filename.lastIndexOf(<span class="string">&quot;.&quot;</span>));</span><br><span class="line">        <span class="type">String</span> <span class="variable">prefix</span> <span class="operator">=</span> filename.substring(<span class="number">0</span>, filename.lastIndexOf(<span class="string">&quot;.&quot;</span>) - <span class="number">1</span>);</span><br><span class="line">        log.info(<span class="string">&quot;&#123;&#125;&quot;</span>, suffix);</span><br><span class="line">        log.info(<span class="string">&quot;&#123;&#125;&quot;</span>, prefix);</span><br><span class="line">        <span class="type">File</span> <span class="variable">dir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(basepath  + hash+ <span class="string">&quot;\\&quot;</span> + prefix+  <span class="string">&quot;_&quot;</span> + chunkcnt);</span><br><span class="line">        <span class="keyword">if</span>(!dir.exists())&#123;</span><br><span class="line">            dir.mkdirs();</span><br><span class="line">        &#125;</span><br><span class="line">        file.transferTo(dir);</span><br><span class="line">        <span class="comment">//        uploadcache.put(hash, Integer.parseInt(chunkcnt));</span></span><br><span class="line">        <span class="keyword">if</span>(uploadcache.containsKey(hash)) uploadcache.put(hash, uploadcache.get(hash) + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span> uploadcache.put(hash, <span class="number">0</span>);</span><br><span class="line">        log.info(<span class="string">&quot;å½“å‰å†™äº†: &#123;&#125;&quot;</span>, chunkcnt);</span><br><span class="line">        <span class="keyword">if</span>(chunkcnt.equals(totalCnt))&#123;</span><br><span class="line">            <span class="comment">//æ‰§è¡Œåˆå¹¶</span></span><br><span class="line">            <span class="type">boolean</span> <span class="variable">ismerge</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">while</span>(!ismerge)&#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> Integer.parseInt(totalCnt);</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">                    <span class="type">File</span> <span class="variable">fileitem</span>    <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(basepath + hash + <span class="string">&quot;\\&quot;</span> + prefix + <span class="string">&quot;_&quot;</span> + i);</span><br><span class="line">                    <span class="keyword">if</span>(!fileitem.exists())&#123;</span><br><span class="line">                        log.info(<span class="string">&quot;è¿˜æœ‰æ–‡ä»¶æ²¡æœ‰è¾“å…¥ç»“æŸ&quot;</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(i == n) ismerge = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            log.info(<span class="string">&quot;å½“å‰çš„æ–‡ä»¶ä¸º&#123;&#125;/&#123;&#125;&quot;</span>,chunkcnt ,totalCnt);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li>åˆå¹¶æ–‡ä»¶</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/merge&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;Integer&gt; <span class="title function_">fileMerge</span><span class="params">(<span class="meta">@RequestBody</span> Map map)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">hash</span> <span class="operator">=</span> map.get(<span class="string">&quot;hash&quot;</span>).toString();</span><br><span class="line">    <span class="type">String</span> <span class="variable">filename</span> <span class="operator">=</span> map.get(<span class="string">&quot;filename&quot;</span>).toString();</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">totalCnt</span> <span class="operator">=</span> Integer.valueOf(map.get(<span class="string">&quot;totalCnt&quot;</span>).toString());</span><br><span class="line">    log.info(<span class="string">&quot;å¼€å§‹åˆå¹¶&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">suffix</span> <span class="operator">=</span> filename.substring(filename.lastIndexOf(<span class="string">&quot;.&quot;</span>));</span><br><span class="line">    <span class="type">String</span> <span class="variable">prefix</span> <span class="operator">=</span> filename.substring(<span class="number">0</span>, filename.lastIndexOf(<span class="string">&quot;.&quot;</span>) - <span class="number">1</span>);</span><br><span class="line">    <span class="type">File</span> <span class="variable">mergeFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(basepath + filename);</span><br><span class="line">    <span class="type">BufferedOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(mergeFile));</span><br><span class="line">    <span class="comment">// è·å–åˆ°æ‰€æœ‰çš„files</span></span><br><span class="line">    log.info(<span class="string">&quot;&#123;&#125;&quot;</span>, basepath +  hash);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= totalCnt; ++i)&#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(basepath + hash + <span class="string">&quot;\\&quot;</span> + prefix + <span class="string">&quot;_&quot;</span> +Integer.toString(i));</span><br><span class="line">        log.info(<span class="string">&quot;&#123;&#125;:&#123;&#125;&quot;</span>, file.length(), file.getName());</span><br><span class="line">        <span class="type">BufferedInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file));</span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="comment">// è®°å½•æ¯æ¬¡è¯»å–çš„å­—èŠ‚æ•°</span></span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="comment">// å¾ªç¯è¯»å–åˆ†ç‰‡æ–‡ä»¶ï¼Œç›´åˆ°è¯»å®Œ</span></span><br><span class="line">        <span class="keyword">while</span> ((len = bis.read(buffer)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// å°†è¯»å–çš„æ•°æ®å†™å…¥åˆå¹¶åçš„æ–‡ä»¶</span></span><br><span class="line">            bos.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">        bis.close();</span><br><span class="line">    &#125;</span><br><span class="line">    bos.flush();</span><br><span class="line">    bos.close();</span><br><span class="line">    log.info(<span class="string">&quot;åˆå¹¶æˆåŠŸ&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åˆ¤æ–­è¿™æ¬¡ä¸Šä¼ çš„æ–‡ä»¶è¦ä»ç¬¬å‡ ä¸ªåˆ†ç‰‡å¼€å§‹ä¸Šä¼ </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/reupload&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;Integer&gt; <span class="title function_">reUpload</span><span class="params">(<span class="meta">@RequestBody</span> Map map)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">hash</span> <span class="operator">=</span> map.get(<span class="string">&quot;result&quot;</span>).toString();</span><br><span class="line">    <span class="keyword">if</span>(!uploadcache.containsKey(hash)) <span class="keyword">return</span> R.success(<span class="number">0</span>);</span><br><span class="line">    <span class="comment">// ä¸Šä¼ ä¸‹ä¸€ä½å°±å¥½äº†</span></span><br><span class="line">    <span class="keyword">return</span> R.success(uploadcache.get(hash) + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‰ç«¯"><a href="#å‰ç«¯" class="headerlink" title="å‰ç«¯"></a>å‰ç«¯</h3><blockquote><p>ä½ éœ€è¦å…ˆä¸‹è½½ md5 çš„åŒ…æ‰èƒ½ç»§ç»­å¾€ä¸‹çœ‹ï¼Œ æŒ‡ä»¤ä¸º<code>npm install spark-md5</code></p></blockquote><ul><li>å°†æ–‡ä»¶çš„å†…å®¹è¿›è¡Œåˆ†ç‰‡ï¼ˆæˆ‘è¿™é‡Œé»˜è®¤æ˜¯ 1024 KBï¼‰</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™é‡Œä¼ é€’çš„å‚æ•° files ä¸º Fileæ ¼å¼çš„å¯¹è±¡ï¼Œ chunkSize è¡¨ç¤º åˆ†ç‰‡çš„å¤§å°ï¼ˆæˆ‘çš„chunkSize ä¸º 1024 * 1024ï¼‰</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createChunks</span>(<span class="params">files, chunkSize</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> results = []</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; files.<span class="property">size</span>; i += chunkSize)&#123;</span><br><span class="line">        results.<span class="title function_">push</span>(files.<span class="title function_">slice</span>(i, i + chunkSize))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> results</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¸Šé¢çš„<strong>createChunks</strong>å‡½æ•°è¿”å›äº† æ•°ç»„ ï¼Œ æˆ‘ä»¬ç”¨ä¸€ä¸ªå˜é‡æ¥å—å®ƒï¼Œ</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> chunks = <span class="title function_">createChunks</span>(file, <span class="number">1024</span> * <span class="number">1024</span>)</span><br><span class="line"><span class="title function_">hash</span>(chunks) <span class="comment">// è¿™ä¸ªå‡½æ•°å†ä¸‹é¢</span></span><br></pre></td></tr></table></figure><ul><li>å†å°†æ–‡ä»¶çš„å†…å®¹è¯»å–è½¬æ¢ä¸º md5</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™é‡Œä¼ é€’çš„å‚æ•°ä¸º fileæ ¼å¼çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">hash</span>(<span class="params">chunks</span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> spark = <span class="keyword">new</span> <span class="title class_">SparkMD5</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resovle</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">_read</span>(<span class="params">i</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= chunks.<span class="property">length</span>)&#123;</span><br><span class="line">                <span class="comment">//è¾“å‡ºä¸€ä¸ªå“ˆå¸Œ</span></span><br><span class="line">                <span class="title function_">resovle</span>(spark.<span class="title function_">end</span>());</span><br><span class="line">                <span class="keyword">return</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">const</span> blob = chunks[i]</span><br><span class="line">            <span class="keyword">const</span> reader = <span class="keyword">new</span> <span class="title class_">FileReader</span></span><br><span class="line">            reader.<span class="property">onload</span> = <span class="function"><span class="params">e</span>=&gt;</span>&#123;</span><br><span class="line">                <span class="keyword">const</span> bytes = e.<span class="property">target</span>.<span class="property">result</span></span><br><span class="line">                spark.<span class="title function_">append</span>(bytes)</span><br><span class="line">                <span class="title function_">_read</span>(i + <span class="number">1</span>)</span><br><span class="line">            &#125; </span><br><span class="line">            reader.<span class="title function_">readAsArrayBuffer</span>(blob)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">_read</span>(<span class="number">0</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è·å–ä¸Šæ¬¡ä¸Šä¼ æ–‡ä»¶çš„è¿›åº¦</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reuploadcnt = <span class="keyword">await</span> <span class="title function_">reUpload</span>(reuploadobj)</span><br></pre></td></tr></table></figure><ul><li>è¿™é‡Œå°±æ˜¯å¯¹æ¯ä¸€ä¸ªåˆ†ç‰‡è¿›è¡Œä¸‹è½½ï¼ˆè¿™é‡Œæ˜¯å•çº¿ç¨‹ä¸‹è½½ï¼‰</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = reuploadcnt; i &lt; chunks.<span class="property">length</span>; ++i)&#123;</span><br><span class="line">    <span class="comment">// const loop = async(index, i, result, filesizes)=&gt;&#123;</span></span><br><span class="line">    <span class="keyword">if</span>(stopupload.<span class="property">value</span>[index] === <span class="literal">true</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// let file = chunks[i]</span></span><br><span class="line">    <span class="keyword">let</span> chunkcnt = i</span><br><span class="line">    <span class="keyword">let</span> md5 = result</span><br><span class="line">    <span class="keyword">const</span> formData = <span class="keyword">new</span> <span class="title class_">FormData</span>()</span><br><span class="line">    <span class="keyword">const</span> blob = chunks[i]</span><br><span class="line">    formData.<span class="title function_">append</span>(<span class="string">&#x27;file&#x27;</span>, blob)</span><br><span class="line">    formData.<span class="title function_">append</span>(<span class="string">&#x27;hash&#x27;</span>, result)</span><br><span class="line">    formData.<span class="title function_">append</span>(<span class="string">&#x27;chunkcnt&#x27;</span>, i)</span><br><span class="line">    formData.<span class="title function_">append</span>(<span class="string">&#x27;filename&#x27;</span>, files.<span class="property">name</span>)</span><br><span class="line">    formData.<span class="title function_">append</span>(<span class="string">&#x27;totalCnt&#x27;</span>, chunks.<span class="property">length</span> - <span class="number">1</span>)  </span><br><span class="line">    <span class="keyword">await</span> axios.<span class="title function_">post</span>(<span class="string">&#x27;/api/uploadslice&#x27;</span>, (formData),&#123;</span><br><span class="line">        <span class="attr">onUploadProgress</span>: <span class="keyword">function</span>(<span class="params">progressEvent</span>)&#123;</span><br><span class="line">            <span class="keyword">function</span> <span class="title function_">sendHeartbeat</span>(<span class="params"></span>) &#123;  </span><br><span class="line">                <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;  </span><br><span class="line">                    <span class="keyword">if</span> (socket.<span class="property">readyState</span> === <span class="title class_">WebSocket</span>.<span class="property">OPEN</span>) &#123;  </span><br><span class="line">                        socket.<span class="title function_">send</span>(<span class="string">&#x27;&#x27;</span>); <span class="comment">// å‘é€ç©ºçš„å¿ƒè·³åŒ…ç»™æœåŠ¡å™¨  </span></span><br><span class="line">                        <span class="title function_">sendHeartbeat</span>(); <span class="comment">// é€’å½’è°ƒç”¨å‘é€å¿ƒè·³åŒ…å‡½æ•°ï¼Œä»¥ä¿æŒè¿æ¥æ´»è·ƒ  </span></span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;WebSocketè¿æ¥å·²å…³é—­&#x27;</span>);  </span><br><span class="line">                    &#125;  </span><br><span class="line">                &#125;, <span class="number">5000</span>); <span class="comment">// æ¯30ç§’å‘é€ä¸€æ¬¡å¿ƒè·³åŒ…ç»™æœåŠ¡å™¨  </span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>( valueUploadList.<span class="property">value</span>[index] + ( (progressEvent.<span class="property">loaded</span> * <span class="number">100</span>) / filesizes) &lt;= ((i + <span class="number">1</span>) * <span class="number">1024</span> * <span class="number">1024</span> * <span class="number">100</span>) / filesizes)</span><br><span class="line">                valueUploadList.<span class="property">value</span>[index] += ( (progressEvent.<span class="property">loaded</span> * <span class="number">100</span>) / filesizes)</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                valueUploadList.<span class="property">value</span>[index] = ((i + <span class="number">1</span>) * <span class="number">1024</span> * <span class="number">1024</span> * <span class="number">100</span>) / filesizes</span><br><span class="line">            <span class="keyword">if</span>(stopupload.<span class="property">value</span>[index] === <span class="literal">true</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">if</span>(stopupload.<span class="property">value</span>[index] === <span class="literal">true</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åœ¨æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ å®Œæˆä¹‹åå¼€å§‹åˆå¹¶æ“ä½œ</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> merge = &#123;</span><br><span class="line">    <span class="attr">hash</span>:  result,</span><br><span class="line">    <span class="attr">filename</span>: files.<span class="property">name</span>,</span><br><span class="line">    <span class="attr">totalCnt</span>: chunks.<span class="property">length</span> - <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> finish = <span class="keyword">await</span> <span class="title function_">fileMerge</span>(merge)</span><br></pre></td></tr></table></figure><h2 id="æ–­ç‚¹ä¸‹è½½"><a href="#æ–­ç‚¹ä¸‹è½½" class="headerlink" title="æ–­ç‚¹ä¸‹è½½"></a>æ–­ç‚¹ä¸‹è½½</h2><blockquote><p>ç±»ä¼¼äºæ–­ç‚¹ä¸Šä¼ ï¼Œ åªä¸è¿‡æ˜¯æŠŠè¿‡ç¨‹æ”¾è¿‡æ¥</p></blockquote><h3 id="åç«¯-1"><a href="#åç«¯-1" class="headerlink" title="åç«¯"></a>åç«¯</h3><ul><li>åˆ¤æ–­è¯·æ±‚çš„æ–‡ä»¶çš„å¤§å°</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/getsize&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;Long&gt; <span class="title function_">getFileSize</span><span class="params">(<span class="meta">@RequestBody</span> Map map)</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> map.get(<span class="string">&quot;fileName&quot;</span>).toString();</span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(basepath + fileName);</span><br><span class="line">    <span class="keyword">return</span> R.success(file.length());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åˆ¤æ–­ä¸Šä¸€æ¬¡ ä¸‹è½½åˆ°å“ªä¸ªåˆ†ç‰‡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/redownload&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;Integer&gt; <span class="title function_">redownload</span><span class="params">(<span class="meta">@RequestBody</span> Map map)</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> map.get(<span class="string">&quot;fileName&quot;</span>).toString();</span><br><span class="line">    <span class="type">String</span> <span class="variable">userid</span> <span class="operator">=</span> map.get(<span class="string">&quot;userid&quot;</span>).toString();</span><br><span class="line">    String encrypted= DigestUtils.md5DigestAsHex((basepath + fileName + userid).getBytes());</span><br><span class="line">    <span class="keyword">if</span>(downloadcache.containsKey(encrypted) == <span class="literal">false</span>) <span class="keyword">return</span> R.success(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> R.success(downloadcache.get(encrypted) + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¸‹è½½åˆ†ç‰‡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/downloadslicefile&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">downloadSliceFile</span><span class="params">(HttpServletResponse response, HttpServletRequest request , String fileName, String extend, Long start, Long end, <span class="type">int</span> curcnt, String userid, <span class="type">int</span> totalcnt)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">contentLength</span> <span class="operator">=</span> request.getContentLength();</span><br><span class="line">    log.info(<span class="string">&quot;&#123;&#125; : &#123;&#125;&quot;</span> , start, end);</span><br><span class="line">    <span class="type">JSONObject</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(basepath + fileName);</span><br><span class="line">    <span class="keyword">if</span> (!file.exists()) &#123;</span><br><span class="line">        result.put(<span class="string">&quot;error&quot;</span>, <span class="string">&quot;ä¸‹è½½çš„æ–‡ä»¶ä¸å­˜åœ¨&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    response.reset();</span><br><span class="line">    response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">    response.setContentLength((<span class="type">int</span>) file.length());</span><br><span class="line">    <span class="comment">// è¯·æ±‚å¤´ä¸€å®šè¦å†™ä¸è®©å‘ä¸å‡ºæ¥</span></span><br><span class="line">    response.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>, <span class="string">&quot;attachment;filename=&quot;</span> + URLEncoder.encode(file.getName(), <span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">    response.setHeader(<span class="string">&quot;Accept-Range&quot;</span>, <span class="string">&quot;bytes&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">contentRange</span> <span class="operator">=</span> String.valueOf(<span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="string">&quot;bytes &quot;</span>).append(start).append(<span class="string">&quot;-&quot;</span>).append(end));</span><br><span class="line">    response.setHeader(<span class="string">&quot;Content-Range&quot;</span>, contentRange);</span><br><span class="line">    response.setHeader(<span class="string">&quot;Content-Length&quot;</span>, String.valueOf(end - start + <span class="number">1</span>));</span><br><span class="line">    <span class="type">RandomAccessFile</span> <span class="variable">rf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RandomAccessFile</span>(basepath + fileName, <span class="string">&quot;r&quot;</span>);</span><br><span class="line">    rf.seek(start);</span><br><span class="line">    <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> response.getOutputStream();</span><br><span class="line">    <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[(<span class="type">int</span>) (end - start + <span class="number">1</span>)];</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> rf.read(bytes);</span><br><span class="line">    <span class="keyword">if</span>(len != -<span class="number">1</span>) os.write(bytes ,<span class="number">0</span>, (<span class="type">int</span>) (end - start + <span class="number">1</span>));</span><br><span class="line">    rf.close();</span><br><span class="line">    os.close();</span><br><span class="line">    result.put(<span class="string">&quot;success&quot;</span>, <span class="string">&quot;æ–‡ä»¶ä¸‹è½½æˆåŠŸ&quot;</span>);</span><br><span class="line"></span><br><span class="line">    String encrypted= DigestUtils.md5DigestAsHex((basepath + fileName + userid).getBytes());</span><br><span class="line">    downloadcache.put(encrypted, curcnt);</span><br><span class="line">    log.info(<span class="string">&quot;&#123;&#125;: &#123;&#125;&quot;</span>, curcnt, totalcnt);</span><br><span class="line">    <span class="keyword">if</span>(curcnt == totalcnt)&#123;</span><br><span class="line">        downloadcache.remove(encrypted);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result.toString();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‰ç«¯-1"><a href="#å‰ç«¯-1" class="headerlink" title="å‰ç«¯"></a>å‰ç«¯</h3><ul><li>è¯·æ±‚æ–‡ä»¶çš„å¤§å°</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sizehigh = <span class="keyword">await</span> <span class="title function_">getSize</span>(getsizeobj)</span><br></pre></td></tr></table></figure><ul><li>è·å–ä¸‹è½½çš„åˆ†ç‰‡ä¸ªæ•°</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> downloadcnt = <span class="keyword">await</span> <span class="title function_">redownload</span>(redownloadobj)</span><br></pre></td></tr></table></figure><ul><li>å¯¹æ¯ä¸€ä¸ªåˆ†ç‰‡è¿›è¡Œä¸‹è½½</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = startsize;i &lt; sizehigh; i += len)&#123;</span><br><span class="line">    len = <span class="title class_">Math</span>.<span class="title function_">min</span>(sizehigh - i, <span class="number">1024</span> * <span class="number">1024</span>)</span><br><span class="line">    <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;/api/downloadslicefile&#x27;</span>,&#123;</span><br><span class="line">        <span class="attr">params</span>: &#123;</span><br><span class="line">            <span class="attr">fileName</span>: item.<span class="property">fileName</span>,</span><br><span class="line">            <span class="attr">extend</span>: item.<span class="property">extend</span>,</span><br><span class="line">            <span class="attr">start</span>: i,</span><br><span class="line">            <span class="attr">end</span>: i + len - <span class="number">1</span>,</span><br><span class="line">            <span class="attr">curcnt</span>: curcnt,</span><br><span class="line">            <span class="attr">userid</span>: userstore.<span class="property">userid</span>,</span><br><span class="line">            <span class="attr">totalcnt</span>: totalcnt</span><br><span class="line">        &#125;, </span><br><span class="line">        <span class="attr">headers</span>: &#123;</span><br><span class="line">            <span class="attr">range</span>: <span class="string">`bytes=<span class="subst">$&#123;i&#125;</span>-<span class="subst">$&#123;i + len - <span class="number">1</span>&#125;</span>`</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">responseType</span>: <span class="string">&quot;arraybuffer&quot;</span>,</span><br><span class="line">        <span class="title function_">onDownloadProgress</span>(<span class="params">progressEvent</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(valueList.<span class="property">value</span>[index] + (progressEvent.<span class="property">loaded</span> * <span class="number">100</span>) / sizehigh &gt; ((curcnt + <span class="number">1</span>) * <span class="number">1024</span> * <span class="number">1024</span>) / sizehigh * <span class="number">100</span>)</span><br><span class="line">                valueList.<span class="property">value</span>[index] = ((curcnt + <span class="number">1</span>) * <span class="number">1024</span> * <span class="number">1024</span>) / sizehigh * <span class="number">100</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                valueList.<span class="property">value</span>[index] += (progressEvent.<span class="property">loaded</span> * <span class="number">100</span>) / sizehigh;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å½“å‰è¿›åº¦æ¡ä½ï¼š &#x27;</span>, valueList.<span class="property">value</span>[index] + <span class="string">&#x27;  æ­£åœ¨ä¼ é€ &#x27;</span> + curcnt + <span class="string">&#x27;   &#x27;</span> + ((curcnt + <span class="number">1</span>) * <span class="number">1024</span> * <span class="number">1024</span>) / sizehigh * <span class="number">100</span>);</span><br><span class="line">            <span class="keyword">if</span>(stopdownload.<span class="title function_">get</span>(index) === <span class="literal">true</span>)&#123;</span><br><span class="line">                arraymap.<span class="title function_">set</span>(index, arrayBufferArray)</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(curcnt);</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">clip</span>=&gt;</span>&#123;</span><br><span class="line">        arrayBufferArray.<span class="title function_">push</span>(clip)</span><br><span class="line">        <span class="comment">// console.log(clip);</span></span><br><span class="line">        curcnt += <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¸‹è½½å®Œæˆä¹‹å åˆå¹¶æ–‡ä»¶</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">concatArrayBuffer</span>(<span class="params">arrayBufferArray</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> totalLength = <span class="number">0</span>;</span><br><span class="line">    arrayBufferArray.<span class="title function_">forEach</span>(<span class="function"><span class="params">arrayBuffer</span> =&gt;</span> &#123;</span><br><span class="line">        totalLength += arrayBuffer.<span class="property">byteLength</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">new</span> <span class="title class_">Uint8Array</span>(totalLength);</span><br><span class="line">    <span class="keyword">let</span> offset = <span class="number">0</span>;</span><br><span class="line">    arrayBufferArray.<span class="title function_">forEach</span>(<span class="function"><span class="params">arrayBuffer</span> =&gt;</span> &#123;</span><br><span class="line">        result.<span class="title function_">set</span>(<span class="keyword">new</span> <span class="title class_">Uint8Array</span>(arrayBuffer), offset);</span><br><span class="line">        offset += arrayBuffer.<span class="property">byteLength</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(i + len === sizehigh)&#123;</span><br><span class="line">     <span class="keyword">let</span> res = <span class="title function_">concatArrayBuffer</span>(arrayBufferArray)</span><br><span class="line">     <span class="keyword">const</span> blob = <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Blob</span>([res], &#123;<span class="attr">type</span>: item.<span class="property">extend</span>&#125;)</span><br><span class="line">     <span class="keyword">const</span> url = <span class="variable constant_">URL</span>.<span class="title function_">createObjectURL</span>(blob)</span><br><span class="line">     <span class="keyword">const</span> a = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">     a.<span class="property">download</span> = item.<span class="property">fileName</span></span><br><span class="line">     a.<span class="property">href</span> = url </span><br><span class="line">     <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(a)</span><br><span class="line">     a.<span class="title function_">click</span>()</span><br><span class="line">     <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(a)    </span><br><span class="line">     <span class="title class_">ElNotification</span>(&#123;</span><br><span class="line">         <span class="attr">type</span>: <span class="string">&#x27;success&#x27;</span>,</span><br><span class="line">         <span class="attr">title</span>: <span class="string">&#x27;è·å¾—äº†ä¸€ä¸ªæ–‡ä»¶ğŸ‰&#x27;</span>,</span><br><span class="line">         <span class="attr">message</span>: <span class="string">&#x27;ä¸‹è½½æˆåŠŸğŸ¥³&#x27;</span></span><br><span class="line">     &#125;)  </span><br><span class="line">     arraymap.<span class="title function_">delete</span>(index)</span><br><span class="line">     <span class="title function_">resetValue</span>(index)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœä¸­é€”åœæ­¢ä¸‹è½½ï¼Œ åˆ©ç”¨ä¸€ä¸ªmapå¯¹è±¡å­˜å‚¨å¯¹åº”index çš„ å·²ä¸‹è½½çš„æ•°æ®</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(stopdownload.<span class="title function_">get</span>(index) === <span class="literal">true</span>)&#123;</span><br><span class="line">    arraymap.<span class="title function_">set</span>(index, arrayBufferArray)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> ç–‘éš¾è§£æƒ‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Picgoå’ŒGitHubæ­å»ºçš„é—®é¢˜</title>
      <link href="/2023/10/28/Picgo%E5%92%8CGitHub%E6%90%AD%E5%BB%BA%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/2023/10/28/Picgo%E5%92%8CGitHub%E6%90%AD%E5%BB%BA%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><h1 id="æŠ¥é”™403"><a href="#æŠ¥é”™403" class="headerlink" title="æŠ¥é”™403"></a>æŠ¥é”™403</h1><p>å°†github ä½œä¸º å›¾åºŠçš„æ—¶å€™å‡ºç°äº†é—®é¢˜ï¼Œæ‰“å¼€æ—¥å¿—æ–‡æ¡£ä¸€çœ‹ï¼Œ æŠ¥é”™403ï¼Œ åœ¨ç½‘ä¸Šæœå¯»æ— æœã€‚</p><p>ç„¶åå›æƒ³èµ·åœ¨github ç”Ÿæˆtokençš„æ—¶å€™æ²¡æœ‰ç‚¹å‡»ä»»ä½•é€‰é¡¹</p><p><img src="https://cdn.jsdelivr.net/gh/Alanyaeer/web-component@master/assets/202310282025158.png" alt="image-20231028202525111"></p><p>å°†è¿™ä¸ªrepo å‹¾é€‰ä¹‹åï¼Œ å‘é€å›¾ç‰‡æˆåŠŸ</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç–‘éš¾è§£æƒ‘ </tag>
            
            <tag> github å›¾åºŠ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
